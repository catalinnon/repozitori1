{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\Admin\\\\NodeProjects\\\\DeathDate\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\Admin\\\\NodeProjects\\\\DeathDate\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:\\\\Users\\\\Admin\\\\NodeProjects\\\\DeathDate\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Admin\\\\NodeProjects\\\\DeathDate\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\Admin\\\\NodeProjects\\\\DeathDate\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\Admin\\\\NodeProjects\\\\DeathDate\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"C:\\\\Users\\\\Admin\\\\NodeProjects\\\\DeathDate\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\Admin\\\\NodeProjects\\\\DeathDate\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React from'react';import bridge from'@vkontakte/vk-bridge';import'@vkontakte/vkui/dist/vkui.css';import'./css/App.css';import eruda from'eruda';import html2canvas from'html2canvas';import{FormLayout,FormStatus,Snackbar,Select,Input,Div,Panel,Title,Headline,View,FixedLayout,Button,ScreenSpinner,platform,ANDROID}from'@vkontakte/vkui';import Icon28StoryOutline from'@vkontakte/icons/dist/28/story_outline';import Icon24ImageFilterOutline from'@vkontakte/icons/dist/24/image_filter_outline';var blueBackground={backgroundColor:'var(--accent)'},redBackground={backgroundColor:'var(--dynamic_red)'},os=platform();var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);function App(props){var _this;_classCallCheck(this,App);_this=_possibleConstructorReturn(this,_getPrototypeOf(App).call(this,props));_this.state={popout:null,activePanel:'form',time:'',screen:false,scheme:'bright_light',paralel:false};_this.componentDidMount=_this.componentDidMount.bind(_assertThisInitialized(_this));_this.initializeApp=_this.initializeApp.bind(_assertThisInitialized(_this));_this.initializeTimer=_this.initializeTimer.bind(_assertThisInitialized(_this));_this.go=_this.go.bind(_assertThisInitialized(_this));_this.generateRandomTime=_this.generateRandomTime.bind(_assertThisInitialized(_this));_this.updateTime=_this.updateTime.bind(_assertThisInitialized(_this));//eruda.init();\nreturn _this;}_createClass(App,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var _this2=this;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:bridge.subscribe(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref){var _ref$detail,type,data,schemeAttribute,shapes,_iteratorNormalCompletion,_didIteratorError,_iteratorError,_iterator,_step,element;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_ref$detail=_ref.detail,type=_ref$detail.type,data=_ref$detail.data;if(type!==undefined)console.log(type,data);if(!(type==='VKWebAppUpdateConfig')){_context.next=10;break;}schemeAttribute=document.createAttribute('scheme');schemeAttribute.value=false?data.scheme?data.scheme:'bright_light':'space_gray';document.body.attributes.setNamedItem(schemeAttribute);_this2.setState({scheme:schemeAttribute.value});if(bridge.supports('VKWebAppSetViewSettings')){bridge.send('VKWebAppSetViewSettings',{status_bar_style:'dark',action_bar_color:'none'});}_context.next=32;break;case 10:if(!(type==='VKWebAppViewRestore')){_context.next=32;break;}_this2.setState({popout:null,screen:false});shapes=document.getElementsByClassName('bg_shape_container');_iteratorNormalCompletion=true;_didIteratorError=false;_iteratorError=undefined;_context.prev=16;for(_iterator=shapes[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){element=_step.value;try{console.log('delete',element);element.remove();}catch(e){console.error(e);}}_context.next=24;break;case 20:_context.prev=20;_context.t0=_context[\"catch\"](16);_didIteratorError=true;_iteratorError=_context.t0;case 24:_context.prev=24;_context.prev=25;if(!_iteratorNormalCompletion&&_iterator.return!=null){_iterator.return();}case 27:_context.prev=27;if(!_didIteratorError){_context.next=30;break;}throw _iteratorError;case 30:return _context.finish(27);case 31:return _context.finish(24);case 32:case\"end\":return _context.stop();}}},_callee,null,[[16,20,24,32],[25,,27,31]]);}));return function(_x){return _ref2.apply(this,arguments);};}());this.initializeApp();case 2:case\"end\":return _context2.stop();}}},_callee2,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"initializeApp\",value:function(){var _initializeApp=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var sValues,data,_iteratorNormalCompletion2,_didIteratorError2,_iteratorError2,_iterator2,_step2,value;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:this.input_years={};_context3.prev=1;_context3.next=4;return bridge.sendPromise('VKWebAppStorageGet',{keys:['date1','date2','reason1','reason2']});case 4:sValues=_context3.sent;sValues=sValues.keys;data={};_context3.prev=7;_iteratorNormalCompletion2=true;_didIteratorError2=false;_iteratorError2=undefined;_context3.prev=11;for(_iterator2=sValues[Symbol.iterator]();!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=true){value=_step2.value;data[value.key]=Number(value.value);}_context3.next=19;break;case 15:_context3.prev=15;_context3.t0=_context3[\"catch\"](11);_didIteratorError2=true;_iteratorError2=_context3.t0;case 19:_context3.prev=19;_context3.prev=20;if(!_iteratorNormalCompletion2&&_iterator2.return!=null){_iterator2.return();}case 22:_context3.prev=22;if(!_didIteratorError2){_context3.next=25;break;}throw _iteratorError2;case 25:return _context3.finish(22);case 26:return _context3.finish(19);case 27:_context3.next=32;break;case 29:_context3.prev=29;_context3.t1=_context3[\"catch\"](7);console.error('e3',_context3.t1);case 32:this.setState({data:data,sValues:sValues});if(!(data.date2!==false)){_context3.next=37;break;}_context3.next=36;return this.initializeTimer();case 36:this.go('main');case 37:_context3.next=41;break;case 39:_context3.prev=39;_context3.t2=_context3[\"catch\"](1);case 41:bridge.send('VKWebAppInit');case 42:case\"end\":return _context3.stop();}}},_callee3,this,[[1,39],[7,29],[11,15,19,27],[20,,22,26]]);}));function initializeApp(){return _initializeApp.apply(this,arguments);}return initializeApp;}()},{key:\"initializeTimer\",value:function(){var _initializeTimer=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var _this3=this;var imgs,bgInterval,generated;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:imgs=['https://image.flaticon.com/icons/svg/2893/2893113.svg','https://image.flaticon.com/icons/svg/2893/2893195.svg','https://image.flaticon.com/icons/svg/2484/2484569.svg','https://image.flaticon.com/icons/svg/2484/2484597.svg'];bgInterval=setInterval(function(){try{var shape_container=document.createElement('div');shape_container.className='bg_shape_container';var shape=document.createElement('img');shape.className='bg_shape light_outline';shape.src=imgs[_this3.random(0,imgs.length)];shape.style.left=_this3.random(-15,90)+'vw';shape_container.appendChild(shape);document.getElementById('bg_shapes').appendChild(shape_container);for(var i=0;i<5;i++){shape.style.setProperty('--offset-x-'+i,_this3.random(-20,20)+'vw');}setTimeout(function(){try{shape_container.remove();}catch(e){}},10000);}catch(e){}},600);_context4.next=4;return this.generateRandomTime(false);case 4:generated=_context4.sent;this.updateTime();_context4.next=8;return this.sleep(500);case 8:return _context4.abrupt(\"return\",true);case 9:case\"end\":return _context4.stop();}}},_callee4,this);}));function initializeTimer(){return _initializeTimer.apply(this,arguments);}return initializeTimer;}()},{key:\"generateRandomTime\",value:function(){var _generateRandomTime=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(isParalel){var reasons,timeDate,data,rId;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:reasons=['голода','жажды','диеты','нехватки кислорода'];if(this.state.reason2){_context5.next=47;break;}_context5.next=4;return new Date(Date.now()+this.random(1*60*60*1000,100*365*24*60*60*1000)).getTime();case 4:timeDate=_context5.sent;data=this.state.data;if(!(this.state.sValues===undefined||data.date2==false)){_context5.next=34;break;}_context5.next=9;return this.setState({reason:reasons[rId]});case 9:_context5.next=11;return this.setState({timeDate:timeDate});case 11:rId=this.random(0,reasons.length);if(!bridge.supports('VKWebAppStorageSet')){_context5.next=32;break;}_context5.prev=13;_context5.next=16;return bridge.sendPromise('VKWebAppStorageSet',{key:'date1',value:timeDate.toString()});case 16:_context5.next=18;return bridge.sendPromise('VKWebAppStorageSet',{key:'reason1',value:rId.toString()});case 18:console.log('data saved as standart');_context5.next=21;return new Date(Date.now()+this.random(1*60*60*1000,100*365*24*60*60*1000)).getTime();case 21:timeDate=_context5.sent;_context5.next=24;return bridge.sendPromise('VKWebAppStorageSet',{key:'date2',value:timeDate.toString()});case 24:_context5.next=26;return bridge.sendPromise('VKWebAppStorageSet',{key:'reason2',value:rId.toString()});case 26:console.log('data saved as paralel');_context5.next=32;break;case 29:_context5.prev=29;_context5.t0=_context5[\"catch\"](13);console.error('e2',_context5.t0);case 32:_context5.next=47;break;case 34:if(!isParalel){_context5.next=42;break;}_context5.next=37;return this.setState({reason2:reasons[data.reason2]});case 37:_context5.next=39;return this.setState({timeDate2:data.date2});case 39:console.log('data loaded as paralel');_context5.next=47;break;case 42:_context5.next=44;return this.setState({reason:reasons[data.reason1]});case 44:_context5.next=46;return this.setState({timeDate:data.date1});case 46:console.log('data loaded as standart');case 47:_context5.next=49;return this.setState({paralel:isParalel});case 49:return _context5.abrupt(\"return\",true);case 50:case\"end\":return _context5.stop();}}},_callee5,this,[[13,29]]);}));function generateRandomTime(_x2){return _generateRandomTime.apply(this,arguments);}return generateRandomTime;}()},{key:\"updateTime\",value:function updateTime(){var _this4=this;setInterval(function(){try{var timeMs=(_this4.state.paralel?_this4.state.timeDate2:_this4.state.timeDate)-Date.now();var years,days,hours,minutes,seconds;var yMs=1000*60*60*24*365,dMs=yMs/365,hMs=dMs/24,minMs=hMs/60,sMs=minMs/60;years=Math.floor(timeMs/yMs);timeMs-=yMs;days=Math.floor(timeMs/dMs)%365;timeMs-=dMs;hours=Math.floor(timeMs/hMs)%24;timeMs-=hMs;minutes=Math.floor(timeMs/minMs)%60;timeMs-=minMs;seconds=Math.floor(timeMs/sMs)%60;timeMs-=sMs;var times=[[years,'лет'],[days,'дней'],[hours,'ч.'],[minutes,'мин.'],[seconds,'сек.']],timesText=[];for(var i=0;i<times.length;i++){if(times[i][0]>0)timesText.push(times[i][0]+' '+times[i][1]);}_this4.setState({time:timesText.join(', ')});}catch(e){console.error(e);}},500);}},{key:\"go\",value:function go(panel){this.setState({activePanel:panel});}},{key:\"sleep\",value:function sleep(ms){return new Promise(function(resolve){return setTimeout(resolve,ms);});}},{key:\"random\",value:function random(min,max){return Math.floor(Math.random()*(max-min)+min);}},{key:\"render\",value:function render(){var _this5=this;return React.createElement(View,{activePanel:this.state.activePanel,popout:this.state.popout},React.createElement(Panel,{id:\"main\",style:{height:'100vh',width:'100vw'}},React.createElement(\"div\",{id:\"bg_shapes\"}),React.createElement(\"div\",{style:{position:'absolute',top:'50%',left:'50%',transform:'translate(-50%, -50%)',width:'80vw',textAlign:'center'}},React.createElement(Title,{level:\"1\",weight:\"semibold\"},\"\\u041C\\u043D\\u0435 \\u043E\\u0441\\u0442\\u0430\\u043B\\u043E\\u0441\\u044C \",React.createElement(\"span\",{style:{backgroundImage:'linear-gradient(to left, #fc6076 0%, #ff9a44 100%)',color:'white',lineHeight:'18px',padding:'4px 4px 8px 4px',display:'inline-block'}},\"\\u0436\\u0438\\u0442\\u044C\")),React.createElement(Title,{level:\"2\",weight:\"semibold\",style:{marginTop:'12px'}},this.state.time),React.createElement(Headline,{weight:\"semibold\",style:{marginTop:'12px',color:'white',background:'linear-gradient(to right, #ed6ea0 0%, #ec8c69 100%)',padding:'4px',display:'inline-block'}},'Я умру из-за '+(this.state.paralel?this.state.reason2:this.state.reason)),React.createElement(\"br\",null),React.createElement(Button,{before:React.createElement(Icon24ImageFilterOutline,{width:20,height:20,style:{paddingRight:'4px'}}),size:\"l\",style:{marginTop:'12px',display:this.state.screen&&'none'},onClick:/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(){var resp;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.prev=0;_context6.next=3;return bridge.send('VKWebAppAllowMessagesFromGroup',{group_id:197419756,key:\"fsdgeruiogj\"});case 3:resp=_context6.sent;_context6.next=6;return _this5.generateRandomTime(!_this5.state.paralel);case 6:_context6.next=11;break;case 8:_context6.prev=8;_context6.t0=_context6[\"catch\"](0);_this5.setState({snackbar:React.createElement(Snackbar,{layout:\"vertical\",onClose:function onClose(){return _this5.setState({snackbar:null});}},\"\\u041D\\u0435\\u043E\\u0431\\u0445\\u043E\\u0434\\u0438\\u043C\\u043E \\u0440\\u0430\\u0437\\u0440\\u0435\\u0448\\u0435\\u043D\\u0438\\u0435 \\u043D\\u0430 \\u043F\\u043E\\u043B\\u0443\\u0447\\u0435\\u043D\\u0438\\u0435 \\u0441\\u043E\\u043E\\u0431\\u0449\\u0435\\u043D\\u0438\\u0439\")});case 11:case\"end\":return _context6.stop();}}},_callee6,null,[[0,8]]);}))},this.state.paralel?'Вернуться':'Паралельная вселенная'),this.state.screen&&React.createElement(Headline,{weight:\"bold\",style:{position:'absolute',top:'80%',left:'50%',transform:'translate(-50%, -50%)',width:'80vw',textAlign:'center',marginTop:'10vh',color:'rgb(35, 35, 35)',background:'linear-gradient(120deg, #d4fc79 0%, #96e6a1 100%)',padding:'4px',display:'inline-block'}},\"\\u041F\\u0435\\u0440\\u0435\\u0445\\u043E\\u0434\\u0438 \\u0432 \\u043F\\u0440\\u0438\\u043B\\u043E\\u0436\\u0435\\u043D\\u0438\\u0435, \\u0435\\u0441\\u043B\\u0438 \\u043D\\u0435 \\u0431\\u043E\\u0438\\u0448\\u044C\\u0441\\u044F \\u0443\\u0437\\u043D\\u0430\\u0442\\u044C \\u0441\\u0432\\u043E\\u044E \\u0434\\u0430\\u0442\\u0443 \\u0441\\u043C\\u0435\\u0440\\u0442\\u0438!\")),React.createElement(FixedLayout,{vertical:\"bottom\",style:{marginBottom:os===ANDROID?'36px':'12px',display:this.state.screen&&'none'}},React.createElement(Div,null,React.createElement(Button,{onClick:/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(){return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_this5.setState({popout:React.createElement(ScreenSpinner,null),screen:true});_context8.next=3;return _this5.sleep(250);case 3:html2canvas(document.getElementsByClassName('View__panels')[0]).then(/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(canvas){var blob;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:blob=canvas.toDataURL('image/png');_context7.prev=1;_context7.next=4;return bridge.send('VKWebAppShowStoryBox',{background_type:'image',blob:blob,attachment:{url:'https://vk.com/app7549544',text:'open',type:'url'}});case 4:_context7.next=8;break;case 6:_context7.prev=6;_context7.t0=_context7[\"catch\"](1);case 8:_this5.setState({popout:null,screen:false});case 9:case\"end\":return _context7.stop();}}},_callee7,null,[[1,6]]);}));return function(_x3){return _ref5.apply(this,arguments);};}());case 4:case\"end\":return _context8.stop();}}},_callee8);})),before:React.createElement(Icon28StoryOutline,null),size:\"xl\",mode:\"commerce\"},\"\\u041F\\u043E\\u0434\\u0435\\u043B\\u0438\\u0442\\u044C\\u0441\\u044F \\u0432 \\u0438\\u0441\\u0442\\u043E\\u0440\\u0438\\u0438\"))),this.state.snackbar),React.createElement(Panel,{id:\"form\"},React.createElement(FormLayout,null,React.createElement(Input,{top:\"\\u0421\\u043A\\u043E\\u043B\\u044C\\u043A\\u043E \\u0412\\u0430\\u043C \\u043B\\u0435\\u0442?\",type:\"number\",getRootRef:function getRootRef(ref){_this5.input_years=ref;}}),React.createElement(Select,{top:\"\\u041A\\u0430\\u043A\\u043E\\u0439 \\u0412\\u0430\\u0448 \\u043F\\u043E\\u043B?\",defaultValue:\"m\"},React.createElement(\"option\",{value:\"m\"},\"\\u041C\\u0443\\u0436\\u0441\\u043A\\u043E\\u0439\"),React.createElement(\"option\",{value:\"f\"},\"\\u0416\\u0435\\u043D\\u0441\\u043A\\u0438\\u0439\")),React.createElement(Select,{top:\"\\u041A\\u0442\\u043E \\u0412\\u044B \\u043F\\u043E \\u0437\\u043D\\u0430\\u043A\\u0443 \\u0437\\u043E\\u0434\\u0438\\u0430\\u043A\\u0430?\",defaultValue:\"znak1\"},React.createElement(\"option\",{value:\"znak1\"},\"\\u041E\\u0432\\u0435\\u043D\"),React.createElement(\"option\",{value:\"znak2\"},\"\\u0422\\u0435\\u043B\\u0435\\u0446\"),React.createElement(\"option\",{value:\"znak3\"},\"\\u0411\\u043B\\u0438\\u0437\\u043D\\u0435\\u0446\\u044B\"),React.createElement(\"option\",{value:\"znak4\"},\"\\u0420\\u0430\\u043A\"),React.createElement(\"option\",{value:\"znak5\"},\"\\u041B\\u0435\\u0432\"),React.createElement(\"option\",{value:\"znak6\"},\"\\u0414\\u0435\\u0432\\u0430\"),React.createElement(\"option\",{value:\"znak7\"},\"\\u0412\\u0435\\u0441\\u044B\"),React.createElement(\"option\",{value:\"znak8\"},\"\\u0421\\u043A\\u043E\\u0440\\u043F\\u0438\\u043E\\u043D\"),React.createElement(\"option\",{value:\"znak9\"},\"\\u0417\\u043C\\u0435\\u0435\\u043D\\u043E\\u0441\\u0435\\u0446\"),React.createElement(\"option\",{value:\"znak10\"},\"\\u0421\\u0442\\u0440\\u0435\\u043B\\u0435\\u0446\"),React.createElement(\"option\",{value:\"znak11\"},\"\\u041A\\u043E\\u0437\\u0435\\u0440\\u043E\\u0433\"),React.createElement(\"option\",{value:\"znak12\"},\"\\u0412\\u043E\\u0434\\u043E\\u043B\\u0435\\u0439\"),React.createElement(\"option\",{value:\"znak13\"},\"\\u0420\\u044B\\u0431\\u044B\")),React.createElement(Button,{disabled:function disabled(){try{return _this5.input_years.value===undefined;}catch(e){return true;}},size:\"xl\",onClick:/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee9(){return _regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:_this5.setState({popout:React.createElement(ScreenSpinner,null)});_context9.next=3;return _this5.initializeTimer();case 3:_this5.setState({popout:null});_this5.go('main');case 5:case\"end\":return _context9.stop();}}},_callee9);}))},\"\\u0423\\u0437\\u043D\\u0430\\u0442\\u044C \\u0434\\u0430\\u0442\\u0443 \\u0441\\u043C\\u0435\\u0440\\u0442\\u0438\"))));}}]);return App;}(React.Component);export default App;","map":{"version":3,"sources":["C:/Users/Admin/NodeProjects/DeathDate/src/App.js"],"names":["React","bridge","eruda","html2canvas","FormLayout","FormStatus","Snackbar","Select","Input","Div","Panel","Title","Headline","View","FixedLayout","Button","ScreenSpinner","platform","ANDROID","Icon28StoryOutline","Icon24ImageFilterOutline","blueBackground","backgroundColor","redBackground","os","App","props","state","popout","activePanel","time","screen","scheme","paralel","componentDidMount","bind","initializeApp","initializeTimer","go","generateRandomTime","updateTime","subscribe","detail","type","data","undefined","console","log","schemeAttribute","document","createAttribute","value","body","attributes","setNamedItem","setState","supports","send","status_bar_style","action_bar_color","shapes","getElementsByClassName","element","remove","e","error","input_years","sendPromise","keys","sValues","key","Number","date2","imgs","bgInterval","setInterval","shape_container","createElement","className","shape","src","random","length","style","left","appendChild","getElementById","i","setProperty","setTimeout","generated","sleep","isParalel","reasons","reason2","Date","now","getTime","timeDate","reason","rId","toString","timeDate2","reason1","date1","timeMs","years","days","hours","minutes","seconds","yMs","dMs","hMs","minMs","sMs","Math","floor","times","timesText","push","join","panel","ms","Promise","resolve","min","max","height","width","position","top","transform","textAlign","backgroundImage","color","lineHeight","padding","display","marginTop","background","paddingRight","group_id","resp","snackbar","marginBottom","then","canvas","blob","toDataURL","background_type","attachment","url","text","ref","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport bridge from '@vkontakte/vk-bridge';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport './css/App.css'\nimport eruda from 'eruda';\nimport html2canvas from 'html2canvas';\n\nimport { FormLayout, FormStatus, Snackbar, Select, Input, Div, Panel, Title, Headline, View, FixedLayout, Button, ScreenSpinner, platform, ANDROID } from '@vkontakte/vkui';\n\nimport Icon28StoryOutline from '@vkontakte/icons/dist/28/story_outline';\nimport Icon24ImageFilterOutline from '@vkontakte/icons/dist/24/image_filter_outline';\n\nconst blueBackground = {\n\tbackgroundColor: 'var(--accent)'\n}, redBackground = {\n\tbackgroundColor: 'var(--dynamic_red)'\n}, os = platform();\n\nclass App extends React.Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tpopout: null,\n\t\t\tactivePanel: 'form',\n\t\t\ttime: '',\n\t\t\tscreen: false,\n\t\t\tscheme: 'bright_light',\n\t\t\tparalel: false,\n\t\t};\n\n\t\tthis.componentDidMount = this.componentDidMount.bind(this);\n\t\tthis.initializeApp = this.initializeApp.bind(this);\n\t\tthis.initializeTimer = this.initializeTimer.bind(this);\n\t\tthis.go = this.go.bind(this);\n\t\tthis.generateRandomTime = this.generateRandomTime.bind(this);\n\t\tthis.updateTime = this.updateTime.bind(this);\n\t\t//eruda.init();\n\t}\n\n\tasync componentDidMount () {\n\t\tbridge.subscribe(async ({ detail: { type, data }}) => {\n\t\t\tif(type !== undefined) console.log(type, data);\n\t\t\tif (type === 'VKWebAppUpdateConfig') {\n\t\t\t\tconst schemeAttribute = document.createAttribute('scheme');\n\t\t\t\tschemeAttribute.value = false ? data.scheme ? data.scheme : 'bright_light' : 'space_gray';\n\t\t\t\tdocument.body.attributes.setNamedItem(schemeAttribute);\n\t\t\t\tthis.setState({ scheme: schemeAttribute.value });\n\t\t\t\tif(bridge.supports('VKWebAppSetViewSettings')){\n\t\t\t\t\tbridge.send('VKWebAppSetViewSettings', {status_bar_style: 'dark', action_bar_color: 'none'});\n\t\t\t\t}\n\t\t\t}else if (type === 'VKWebAppViewRestore') {\n\t\t\t\tthis.setState({ popout: null, screen: false });\n\t\t\t\tlet shapes = document.getElementsByClassName('bg_shape_container');\n\t\t\t\tfor(let element of shapes){\n\t\t\t\t\ttry{\n\t\t\t\t\t\tconsole.log('delete', element);\n\t\t\t\t\t\telement.remove();\n\t\t\t\t\t}catch (e) {\n\t\t\t\t\t\tconsole.error(e);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tthis.initializeApp();\n\t}\n\n\tasync initializeApp() {\n\t\tthis.input_years = { };\n\t\ttry{\n\t\t\tlet sValues = await bridge.sendPromise('VKWebAppStorageGet', {keys: ['date1', 'date2', 'reason1', 'reason2']});\n\t\t\tsValues = sValues.keys;\n\t\t\tlet data = {};\n\t\t\ttry{\n\t\t\t\tfor(let value of sValues){\n\t\t\t\t\tdata[value.key] = Number(value.value);\n\t\t\t\t}\n\t\t\t}catch (e) {\n\t\t\t\tconsole.error('e3', e)\n\t\t\t}\n\t\t\tthis.setState({ data, sValues });\n\n\t\t\tif(data.date2 !== false){\n\t\t\t\tawait this.initializeTimer();\n\t\t\t\tthis.go('main');\n\t\t\t}\n\t\t}catch (e) {}\n\n        bridge.send('VKWebAppInit');\n\t}\n\n\tasync initializeTimer() {\n\t\tlet imgs = ['https://image.flaticon.com/icons/svg/2893/2893113.svg',\n\t\t\t'https://image.flaticon.com/icons/svg/2893/2893195.svg',\n\t\t\t'https://image.flaticon.com/icons/svg/2484/2484569.svg',\n\t\t\t'https://image.flaticon.com/icons/svg/2484/2484597.svg'];\n\t\tlet bgInterval = setInterval(()=>{\n\t\t\ttry{\n\t\t\t\tlet shape_container = document.createElement('div');\n\t\t\t\tshape_container.className = 'bg_shape_container';\n\t\t\t\tlet shape = document.createElement('img');\n\t\t\t\tshape.className = 'bg_shape light_outline';\n\t\t\t\tshape.src = imgs[this.random(0, imgs.length)];\n\t\t\t\tshape.style.left = (this.random(-15, 90)) + 'vw';\n\t\t\t\tshape_container.appendChild(shape);\n\t\t\t\tdocument.getElementById('bg_shapes').appendChild(shape_container);\n\t\t\t\tfor(let i = 0; i < 5; i++){\n\t\t\t\t\tshape.style.setProperty('--offset-x-' + i, this.random(-20, 20) +'vw');\n\t\t\t\t}\n\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\ttry{\n\t\t\t\t\t\tshape_container.remove();\n\t\t\t\t\t}catch (e) {}\n\t\t\t\t}, 10000);\n\t\t\t}catch (e) {}\n\t\t}, 600);\n\t\tlet generated = await this.generateRandomTime(false);\n\t\tthis.updateTime();\n\t\tawait this.sleep(500);\n\t\treturn true;\n\t}\n\n\tasync generateRandomTime(isParalel){\n\t\tlet reasons = ['голода', 'жажды', 'диеты', 'нехватки кислорода'];\n\t\tif (!this.state.reason2) {\n\t\t\tlet timeDate = await new Date(Date.now() + this.random(1 * 60 * 60 * 1000, 100 * 365 * 24 * 60 * 60 * 1000)).getTime();\n\t\t\tlet data = this.state.data;\n\t\t\tif(this.state.sValues === undefined || data.date2 == false) {\n\t\t\t\tawait this.setState({reason: reasons[rId]});\n\t\t\t\tawait this.setState({timeDate});\n\t\t\t\tlet rId = this.random(0, reasons.length);\n\t\t\t\tif(bridge.supports('VKWebAppStorageSet')) {\n\t\t\t\t\ttry{\n\t\t\t\t\t\tawait bridge.sendPromise('VKWebAppStorageSet', {key: 'date1', value: timeDate.toString()});\n\t\t\t\t\t\tawait bridge.sendPromise('VKWebAppStorageSet', {key: 'reason1', value: rId.toString()});\n\t\t\t\t\t\tconsole.log('data saved as standart');\n\n\t\t\t\t\t\ttimeDate = await new Date(Date.now() + this.random(1 * 60 * 60 * 1000, 100 * 365 * 24 * 60 * 60 * 1000)).getTime();\n\t\t\t\t\t\tawait bridge.sendPromise('VKWebAppStorageSet', {key: 'date2', value: timeDate.toString()});\n\t\t\t\t\t\tawait bridge.sendPromise('VKWebAppStorageSet', {key: 'reason2', value: rId.toString()});\n\t\t\t\t\t\tconsole.log('data saved as paralel');\n\t\t\t\t\t}catch (e) {console.error('e2',e);}\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tif (isParalel) {\n\t\t\t\t\tawait this.setState({reason2: reasons[data.reason2]});\n\t\t\t\t\tawait this.setState({timeDate2: data.date2});\n\t\t\t\t\tconsole.log('data loaded as paralel');\n\t\t\t\t} else {\n\t\t\t\t\tawait this.setState({reason: reasons[data.reason1]});\n\t\t\t\t\tawait this.setState({timeDate: data.date1});\n\t\t\t\t\tconsole.log('data loaded as standart');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tawait this.setState({paralel: isParalel});\n\t\treturn true;\n\t}\n\tupdateTime() {\n\t\tsetInterval(()=>{\n\t\t\ttry{\n\t\t\t\tlet timeMs = (this.state.paralel ? this.state.timeDate2 : this.state.timeDate) - Date.now();\n\n\t\t\t\tlet years, days, hours, minutes, seconds;\n\t\t\t\tlet yMs = 1000 * 60 * 60 * 24 * 365,\n\t\t\t\t\tdMs = yMs / 365,\n\t\t\t\t\thMs = dMs / 24,\n\t\t\t\t\tminMs = hMs / 60,\n\t\t\t\t\tsMs = minMs / 60;\n\n\t\t\t\tyears = Math.floor(timeMs / yMs); timeMs -= yMs;\n\t\t\t\tdays = Math.floor(timeMs / dMs) % 365; timeMs -= dMs;\n\t\t\t\thours = Math.floor(timeMs / hMs) % 24; timeMs -= hMs;\n\t\t\t\tminutes = Math.floor(timeMs / minMs) % 60; timeMs -= minMs;\n\t\t\t\tseconds = Math.floor(timeMs / sMs) % 60; timeMs -= sMs;\n\n\t\t\t\tlet times = [ [ years, 'лет' ],\n\t\t\t\t\t\t[ days, 'дней' ],\n\t\t\t\t\t\t[ hours, 'ч.' ],\n\t\t\t\t\t\t[ minutes, 'мин.' ],\n\t\t\t\t\t\t[ seconds, 'сек.' ]],\n\n\t\t\t\t\ttimesText = [];\n\n\t\t\t\tfor(let i = 0; i < times.length; i++){\n\t\t\t\t\tif (times[i][0] > 0) timesText.push(times[i][0] + ' ' + times[i][1]);\n\t\t\t\t}\n\n\t\t\t\tthis.setState({ time: timesText.join(', ') });\n\t\t\t}catch (e) {\n\t\t\t\tconsole.error(e);\n\t\t\t}\n\t\t}, 500);\n\t}\n\n\tgo(panel) {\n\t\tthis.setState({activePanel: panel});\n\t}\n\n\tsleep(ms) {\n\t\treturn new Promise(resolve => setTimeout(resolve, ms));\n\t}\n\trandom(min, max) {\n\t\treturn Math.floor(Math.random() * (max - min) + min);\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<View activePanel={this.state.activePanel} popout={this.state.popout}>\n\t\t\t\t<Panel id='main' style={{ height: '100vh', width: '100vw' }}>\n\t\t\t\t\t<div id='bg_shapes'/>\n\t\t\t\t\t<div style={{ position: 'absolute', top: '50%', left: '50%', transform: 'translate(-50%, -50%)', width: '80vw', textAlign: 'center' }}>\n\t\t\t\t\t\t<Title level='1' weight='semibold'>Мне осталось <span style={{ backgroundImage: 'linear-gradient(to left, #fc6076 0%, #ff9a44 100%)', color: 'white', lineHeight: '18px', padding: '4px 4px 8px 4px', display: 'inline-block' }}>жить</span></Title>\n\t\t\t\t\t\t<Title level='2' weight='semibold' style={{ marginTop: '12px' }}>{this.state.time}</Title>\n\t\t\t\t\t\t<Headline weight='semibold' style={{ marginTop: '12px', color: 'white', background: 'linear-gradient(to right, #ed6ea0 0%, #ec8c69 100%)', padding: '4px', display: 'inline-block' }}>{ 'Я умру из-за ' + ( this.state.paralel ? this.state.reason2: this.state.reason ) }</Headline><br/>\n\t\t\t\t\t\t<Button before={<Icon24ImageFilterOutline width={20} height={20} style={{ paddingRight: '4px' }}/>} size='l' style={{ marginTop: '12px', display: this.state.screen && 'none' }} onClick={\n\t\t\t\t\t\t\tasync ()=>{\n\t\t\t\t\t\t\t\ttry{\n\t\t\t\t\t\t\t\t\tlet resp = await bridge.send('VKWebAppAllowMessagesFromGroup', {group_id: 197419756, key: \"fsdgeruiogj\"});\n\t\t\t\t\t\t\t\t\tawait this.generateRandomTime(!this.state.paralel);\n\t\t\t\t\t\t\t\t}catch (e) {\n\t\t\t\t\t\t\t\t\tthis.setState({ snackbar:\n\t\t\t\t\t\t\t\t\t\t\t<Snackbar\n\t\t\t\t\t\t\t\t\t\t\t\tlayout='vertical'\n\t\t\t\t\t\t\t\t\t\t\t\tonClose={() => this.setState({ snackbar: null })}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tНеобходимо разрешение на получение сообщений\n\t\t\t\t\t\t\t\t\t\t\t</Snackbar>\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}>{ this.state.paralel ? 'Вернуться' : 'Паралельная вселенная' }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.state.screen &&\n\t\t\t\t\t\t\t<Headline weight='bold' style={{ position: 'absolute',top: '80%', left: '50%', transform: 'translate(-50%, -50%)', width: '80vw', textAlign: 'center', marginTop: '10vh', color: 'rgb(35, 35, 35)', background: 'linear-gradient(120deg, #d4fc79 0%, #96e6a1 100%)', padding: '4px', display: 'inline-block' }}>Переходи в приложение, если не боишься узнать свою дату смерти!</Headline>\n\t\t\t\t\t\t}\n\t\t\t\t\t</div>\n\t\t\t\t\t<FixedLayout vertical='bottom' style={{ marginBottom: os === ANDROID ? '36px' : '12px', display: this.state.screen && 'none' }}>\n\t\t\t\t\t\t<Div>\n\t\t\t\t\t\t\t<Button onClick={async ()=>{\n\t\t\t\t\t\t\t\tthis.setState({ popout: <ScreenSpinner/>, screen: true });\n\t\t\t\t\t\t\t\tawait this.sleep(250);\n\t\t\t\t\t\t\t\thtml2canvas(document.getElementsByClassName('View__panels')[0]).then(async canvas => {\n\t\t\t\t\t\t\t\t\tlet blob = canvas.toDataURL('image/png');\n\t\t\t\t\t\t\t\t\ttry{\n\t\t\t\t\t\t\t\t\t\tawait bridge.send('VKWebAppShowStoryBox', { background_type: 'image', blob, attachment: { url: 'https://vk.com/app7549544', text: 'open', type: 'url' } });\n\t\t\t\t\t\t\t\t\t}catch (e) {}\n\t\t\t\t\t\t\t\t\tthis.setState({ popout: null, screen: false });\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}} before={<Icon28StoryOutline/>} size='xl' mode='commerce'>Поделиться в истории</Button>\n\t\t\t\t\t\t</Div>\n\t\t\t\t\t</FixedLayout>\n\t\t\t\t\t{this.state.snackbar}\n\t\t\t\t</Panel>\n\t\t\t\t<Panel id='form'>\n\t\t\t\t\t<FormLayout>\n\t\t\t\t\t\t<Input top='Сколько Вам лет?' type='number' getRootRef={(ref)=>{ this.input_years = ref; }}/>\n\t\t\t\t\t\t<Select top='Какой Ваш пол?' defaultValue='m'>\n\t\t\t\t\t\t\t<option value='m'>Мужской</option>\n\t\t\t\t\t\t\t<option value='f'>Женский</option>\n\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t<Select top='Кто Вы по знаку зодиака?' defaultValue='znak1'>\n\t\t\t\t\t\t\t<option value='znak1'>Овен</option>\n\t\t\t\t\t\t\t<option value='znak2'>Телец</option>\n\t\t\t\t\t\t\t<option value='znak3'>Близнецы</option>\n\t\t\t\t\t\t\t<option value='znak4'>Рак</option>\n\t\t\t\t\t\t\t<option value='znak5'>Лев</option>\n\t\t\t\t\t\t\t<option value='znak6'>Дева</option>\n\t\t\t\t\t\t\t<option value='znak7'>Весы</option>\n\t\t\t\t\t\t\t<option value='znak8'>Скорпион</option>\n\t\t\t\t\t\t\t<option value='znak9'>Змееносец</option>\n\t\t\t\t\t\t\t<option value='znak10'>Стрелец</option>\n\t\t\t\t\t\t\t<option value='znak11'>Козерог</option>\n\t\t\t\t\t\t\t<option value='znak12'>Водолей</option>\n\t\t\t\t\t\t\t<option value='znak13'>Рыбы</option>\n\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t<Button disabled={()=> { try{ return this.input_years.value === undefined }catch(e){ return true; } }} size='xl' onClick={async ()=>{\n\t\t\t\t\t\t\tthis.setState({ popout: <ScreenSpinner/> });\n\t\t\t\t\t\t\tawait this.initializeTimer();\n\t\t\t\t\t\t\tthis.setState({ popout: null });\n\t\t\t\t\t\t\tthis.go('main');\n\t\t\t\t\t\t}}>Узнать дату смерти</Button>\n\t\t\t\t\t</FormLayout>\n\t\t\t\t</Panel>\n\t\t\t</View>\n\t\t);\n\t}\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}