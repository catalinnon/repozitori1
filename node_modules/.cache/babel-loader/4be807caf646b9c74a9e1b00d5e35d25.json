{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\Admin\\\\NodeProjects\\\\Miner\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Admin\\\\NodeProjects\\\\Miner\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\Admin\\\\NodeProjects\\\\Miner\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\Admin\\\\NodeProjects\\\\Miner\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"C:\\\\Users\\\\Admin\\\\NodeProjects\\\\Miner\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\Admin\\\\NodeProjects\\\\Miner\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React from'react';import bridge from'@vkontakte/vk-bridge';import'@vkontakte/vkui/dist/vkui.css';import{PopoutWrapper,ConfigProvider,Panel,PanelHeader,Div,Button,Footer,View,ScreenSpinner,ModalPage,ModalCard,ModalRoot,PanelHeaderButton,ModalPageHeader,List,Cell,CellButton,InfoRow,Progress,Gallery,Counter,FormLayout,Input,Placeholder,Snackbar,Avatar,Group,Alert,Epic,Tabbar,TabbarItem,Card,CardGrid,Link,Tooltip,Tabs,TabsItem,platform,IOS}from'@vkontakte/vkui';var user=null;var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);function App(props){var _this;_classCallCheck(this,App);_this=_possibleConstructorReturn(this,_getPrototypeOf(App).call(this,props));_this.state={activePanel:'main',popout:React.createElement(ScreenSpinner,null),end:0,cardsMap:[],cards:null,maxCards:30,gold:'https://i.ibb.co/kHKsYbz/gold.png',emerald:'https://i.ibb.co/6bpJt6Y/emerald.png',iron:'https://i.ibb.co/KLs7Pjb/iron.png',cobblestone:'https://i.ibb.co/mvvLWTF/cobblestone.png'};_this.componentDidMount=_this.componentDidMount.bind(_assertThisInitialized(_this));_this.initializeApp=_this.initializeApp.bind(_assertThisInitialized(_this));_this.setCards=_this.setCards.bind(_assertThisInitialized(_this));return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;bridge.subscribe(function(_ref){var _ref$detail=_ref.detail,type=_ref$detail.type,data=_ref$detail.data;if(type==='VKWebAppUpdateConfig'){var schemeAttribute=document.createAttribute('scheme');schemeAttribute.value=data.scheme?data.scheme:'client_light';document.body.attributes.setNamedItem(schemeAttribute);}else if(type==='VKWebAppGetUserInfoResult'){_this2.setState({popout:null});_this2.initializeApp();}});user=bridge.send('VKWebAppGetUserInfo');}},{key:\"initializeApp\",value:function initializeApp(){var _this3=this;this.setCards();setInterval(function(){var end=_this3.state.end-1;_this3.setState({end:end});if(end<0){_this3.setCards();}},1000);}},{key:\"randInt\",value:function randInt(min,max){return Math.floor(Math.random()*Math.floor(max+1))+min;}},{key:\"setCards\",value:function setCards(){var _this4=this;this.setState({end:5});var cardsMap=[];for(var i=0;i<this.state.maxCards;i++){cardsMap.push(i);}this.setState({cardsMap:cardsMap});var cards=[];var _this$state=this.state,cobblestone=_this$state.cobblestone,iron=_this$state.iron,emerald=_this$state.emerald,gold=_this$state.gold;for(var i=1;i<=this.state.maxCards;i++){var ore1=this.randInt(0,1);var resource=i%this.randInt(i,this.state.maxCards-5-i)===0?ore1===0?gold:emerald:ore1===0?cobblestone:iron;var card=React.createElement(Card,{id:\"card_\"+(i-1)+'_'+resource,onClick:function onClick(e){var cards=_this4.state.cards;var id=e.currentTarget.id.split('_');cards[id[1]]=React.createElement(Card,{style:{width:50,height:50}});_this4.setState({cards:cards});},style:{width:50,height:50}},React.createElement(\"div\",{style:{display:\"flex\",alignItems:\"center\",justifyContent:\"center\",width:50,height:50}},React.createElement(\"img\",{src:resource,style:{height:\"80%\"}})));cards.push(card);}this.setState({cards:cards});}},{key:\"render\",value:function render(){return React.createElement(View,{activePanel:this.state.activePanel,popout:this.state.popout},React.createElement(Panel,{id:\"main\"},React.createElement(PanelHeader,null,\"\\u0428\\u0430\\u0445\\u0442\\u0430\"),React.createElement(Div,{style:{display:\"flex\",alignItems:\"center\",justifyContent:\"center\"}},React.createElement(CardGrid,null,this.state.cards)),React.createElement(Div,null,React.createElement(Footer,null,\"\\u0414\\u043E \\u043F\\u0435\\u0440\\u0435\\u0437\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0438: \",this.state.end))));}}]);return App;}(React.Component);export default App;","map":{"version":3,"sources":["C:/Users/Admin/NodeProjects/Miner/src/App.js"],"names":["React","bridge","PopoutWrapper","ConfigProvider","Panel","PanelHeader","Div","Button","Footer","View","ScreenSpinner","ModalPage","ModalCard","ModalRoot","PanelHeaderButton","ModalPageHeader","List","Cell","CellButton","InfoRow","Progress","Gallery","Counter","FormLayout","Input","Placeholder","Snackbar","Avatar","Group","Alert","Epic","Tabbar","TabbarItem","Card","CardGrid","Link","Tooltip","Tabs","TabsItem","platform","IOS","user","App","props","state","activePanel","popout","end","cardsMap","cards","maxCards","gold","emerald","iron","cobblestone","componentDidMount","bind","initializeApp","setCards","subscribe","detail","type","data","schemeAttribute","document","createAttribute","value","scheme","body","attributes","setNamedItem","setState","send","setInterval","min","max","Math","floor","random","i","push","ore1","randInt","resource","card","e","id","currentTarget","split","width","height","display","alignItems","justifyContent","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport bridge from '@vkontakte/vk-bridge';\nimport '@vkontakte/vkui/dist/vkui.css';\n\nimport { PopoutWrapper, ConfigProvider, Panel, PanelHeader, Div , Button , Footer, View , ScreenSpinner , ModalPage , ModalCard , ModalRoot , PanelHeaderButton , ModalPageHeader\n\t, List , Cell , CellButton , InfoRow , Progress , Gallery , Counter , FormLayout , Input , Placeholder , Snackbar , Avatar , Group , Alert, Epic, Tabbar, TabbarItem, Card, CardGrid, Link\n\t, Tooltip , Tabs , TabsItem, platform, IOS  } from '@vkontakte/vkui';\n\nvar user = null;\n\nclass App extends React.Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tactivePanel: 'main',\n\t\t\tpopout: <ScreenSpinner/>,\n\n\t\t\tend: 0,\n\t\t\tcardsMap: [],\n\t\t\tcards: null,\n\t\t\tmaxCards: 30,\n\t\t\tgold: 'https://i.ibb.co/kHKsYbz/gold.png',\n\t\t\temerald: 'https://i.ibb.co/6bpJt6Y/emerald.png',\n\t\t\tiron: 'https://i.ibb.co/KLs7Pjb/iron.png',\n\t\t\tcobblestone: 'https://i.ibb.co/mvvLWTF/cobblestone.png'\n\t\t};\n\n\t\tthis.componentDidMount = this.componentDidMount.bind(this);\n\t\tthis.initializeApp = this.initializeApp.bind(this);\n\t\tthis.setCards = this.setCards.bind(this);\n\t}\n\n\tcomponentDidMount () {\n\t\tbridge.subscribe(({ detail: { type, data }}) => {\n\t\t\tif (type === 'VKWebAppUpdateConfig') {\n\t\t\t\tconst schemeAttribute = document.createAttribute('scheme');\n\t\t\t\tschemeAttribute.value = data.scheme ? data.scheme : 'client_light';\n\t\t\t\tdocument.body.attributes.setNamedItem(schemeAttribute);\n\t\t\t} else if (type === 'VKWebAppGetUserInfoResult'){\n\t\t\t\tthis.setState({ popout: null });\n\t\t\t\tthis.initializeApp();\n\t\t\t}\n\t\t});\n\t\tuser = bridge.send('VKWebAppGetUserInfo');\n\t}\n\n\tinitializeApp() {\n\t\tthis.setCards();\n\t\tsetInterval(()=>{\n\t\t\tvar end = this.state.end-1;\n\t\t\tthis.setState({end});\n\t\t\tif(end<0){\n\t\t\t\tthis.setCards();\n\t\t\t}\n\t\t},1000);\n\t}\n\n\trandInt(min, max) {\n\t\treturn Math.floor(Math.random() * Math.floor(max+1))+min;\n\t}\n\n\tsetCards() {\n\t\tthis.setState({ end: 5 });\n\t\tvar cardsMap = [];\n\t\tfor(var i = 0; i < this.state.maxCards; i++){\n\t\t\tcardsMap.push(i);\n\t\t}\n\t\tthis.setState({ cardsMap});\n\t\tvar cards = [];\n\n\t\tconst { cobblestone, iron, emerald, gold } = this.state;\n\t\tfor(var i = 1; i <= this.state.maxCards; i++){\n\t\t\tvar ore1 = this.randInt(0,1);\n\t\t\tvar resource = i%this.randInt(i, this.state.maxCards-5-i)===0 ? (ore1===0 ? gold : emerald) : (ore1===0 ? cobblestone : iron);\n\t\t\tvar card = <Card id={\"card_\"+(i-1)+'_'+resource} onClick={(e)=> {\n\n\t\t\t\tvar cards = this.state.cards;\n\t\t\t\tvar id = e.currentTarget.id.split('_');\n\t\t\t\tcards[id[1]] = <Card style={{ width: 50, height: 50}}/>;\n\t\t\t\tthis.setState({cards: cards});\n\t\t\t}}\n\n\t\t\t\t\t\t\t style={{ width: 50, height: 50}}><div style={{ display: \"flex\", alignItems: \"center\", justifyContent: \"center\", width: 50, height: 50 }}><img src={resource} style={{height: \"80%\"}}/></div></Card>;\n\t\t\tcards.push(card);\n\t\t}\n\t\tthis.setState({ cards });\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<View activePanel={this.state.activePanel} popout={this.state.popout}>\n\t\t\t\t<Panel id=\"main\">\n\t\t\t\t\t<PanelHeader>Шахта</PanelHeader>\n\t\t\t\t\t<Div style={{display: \"flex\", alignItems: \"center\", justifyContent: \"center\"}}>\n\t\t\t\t\t\t<CardGrid>\n\t\t\t\t\t\t\t{this.state.cards}\n\t\t\t\t\t\t</CardGrid>\n\t\t\t\t\t</Div>\n\t\t\t\t\t<Div>\n\t\t\t\t\t\t<Footer>\n\t\t\t\t\t\t\tДо перезагрузки: {this.state.end}\n\t\t\t\t\t\t</Footer>\n\t\t\t\t\t</Div>\n\t\t\t\t</Panel>\n\t\t\t</View>\n\t\t);\n\t}\n}\n\nexport default App;\n\n"]},"metadata":{},"sourceType":"module"}