{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\NodeProjects\\\\DeathDate\\\\src\\\\App.js\";\nimport React from 'react';\nimport bridge from '@vkontakte/vk-bridge';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport './css/App.css';\nimport eruda from 'eruda';\nimport html2canvas from 'html2canvas';\nimport { FormLayout, FormStatus, Snackbar, Select, Input, Div, Panel, Title, Headline, View, FixedLayout, Button, ScreenSpinner, platform, ANDROID } from '@vkontakte/vkui';\nimport Icon28StoryOutline from '@vkontakte/icons/dist/28/story_outline';\nimport Icon24ImageFilterOutline from '@vkontakte/icons/dist/24/image_filter_outline';\nconst blueBackground = {\n  backgroundColor: 'var(--accent)'\n},\n      redBackground = {\n  backgroundColor: 'var(--dynamic_red)'\n},\n      os = platform();\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      popout: null,\n      activePanel: 'form',\n      time: '',\n      screen: false,\n      scheme: 'bright_light',\n      paralel: false\n    };\n    this.componentDidMount = this.componentDidMount.bind(this);\n    this.initializeApp = this.initializeApp.bind(this);\n    this.initializeTimer = this.initializeTimer.bind(this);\n    this.go = this.go.bind(this);\n    this.generateRandomTime = this.generateRandomTime.bind(this);\n    this.updateTime = this.updateTime.bind(this); //eruda.init();\n  }\n\n  async componentDidMount() {\n    bridge.subscribe(async ({\n      detail: {\n        type,\n        data\n      }\n    }) => {\n      if (type !== undefined) console.log(type, data);\n\n      if (type === 'VKWebAppUpdateConfig') {\n        const schemeAttribute = document.createAttribute('scheme');\n        schemeAttribute.value = false ? data.scheme ? data.scheme : 'bright_light' : 'space_gray';\n        document.body.attributes.setNamedItem(schemeAttribute);\n        this.setState({\n          scheme: schemeAttribute.value\n        });\n\n        if (bridge.supports('VKWebAppSetViewSettings')) {\n          bridge.send('VKWebAppSetViewSettings', {\n            status_bar_style: 'dark',\n            action_bar_color: 'none'\n          });\n        }\n      } else if (type === 'VKWebAppViewRestore') {\n        this.setState({\n          popout: null,\n          screen: false\n        });\n        let shapes = document.getElementsByClassName('bg_shape_container');\n\n        for (let element of shapes) {\n          try {\n            console.log('delete', element);\n            element.remove();\n          } catch (e) {\n            console.error(e);\n          }\n        }\n      }\n    });\n    this.initializeApp();\n  }\n\n  async initializeApp() {\n    try {\n      let sValues = await bridge.sendPromise('VKWebAppStorageGet', {\n        keys: ['_____date1', '_____date2', '_____reason1', '_____reason2']\n      });\n      sValues = sValues.keys;\n      let data = {};\n\n      try {\n        for (let value of sValues) {\n          data[value.key] = Number(value.value);\n        }\n      } catch (e) {\n        console.error('e3', e);\n      }\n\n      this.setState({\n        data,\n        sValues\n      });\n\n      if (data._____date2 !== false && data._____date2 !== 0) {\n        console.log('user is not first', data);\n        await this.initializeTimer();\n        this.go('main');\n      }\n    } catch (e) {}\n\n    bridge.send('VKWebAppInit');\n  }\n\n  async initializeTimer() {\n    let imgs = ['https://image.flaticon.com/icons/svg/2893/2893113.svg', 'https://image.flaticon.com/icons/svg/2893/2893195.svg', 'https://image.flaticon.com/icons/svg/2484/2484569.svg', 'https://image.flaticon.com/icons/svg/2484/2484597.svg'];\n    let bgInterval = setInterval(() => {\n      try {\n        let shape_container = document.createElement('div');\n        shape_container.className = 'bg_shape_container';\n        let shape = document.createElement('img');\n        shape.className = 'bg_shape light_outline';\n        shape.src = imgs[this.random(0, imgs.length)];\n        shape.style.left = this.random(-15, 90) + 'vw';\n        shape_container.appendChild(shape);\n        document.getElementById('bg_shapes').appendChild(shape_container);\n\n        for (let i = 0; i < 5; i++) {\n          shape.style.setProperty('--offset-x-' + i, this.random(-20, 20) + 'vw');\n        }\n\n        setTimeout(() => {\n          try {\n            shape_container.remove();\n          } catch (e) {}\n        }, 10000);\n      } catch (e) {}\n    }, 600);\n    let generated = await this.generateRandomTime(false);\n    this.updateTime();\n    await this.sleep(500);\n    return true;\n  }\n\n  async generateRandomTime(isParalel) {\n    let reasons = ['упав в канализационный люк во время грозы, после перелома позвоночника я захлебнусь от потоков дождевой воды', 'во время митинга, случайно брошенный камень пробьет мне череп и меня просто не успеют довезти до больницы, так как дороги будут перекрыты', 'из-за ошибки инструктора, который неправильно уложит стропы моего парашюта', 'при подъеме на эскалаторе. Резко провалившиеся ступени утянут меня за собой и мои кости перемолет шестернями механизма', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''];\n\n    if (!this.state._____reason2) {\n      let timeDate = await new Date(Date.now() + this.random(1 * 60 * 60 * 1000, 100 * 365 * 24 * 60 * 60 * 1000)).getTime();\n      let data = this.state.data;\n\n      if (this.state.sValues === undefined || data._____date2 == false) {\n        let rId = this.random(0, reasons.length);\n        await this.setState({\n          reason: reasons[rId]\n        });\n        await this.setState({\n          timeDate\n        });\n\n        if (bridge.supports('VKWebAppStorageSet')) {\n          try {\n            await bridge.sendPromise('VKWebAppStorageSet', {\n              key: '_____date1',\n              value: timeDate.toString()\n            });\n            await bridge.sendPromise('VKWebAppStorageSet', {\n              key: '_____reason1',\n              value: rId.toString()\n            });\n            console.log('data saved as standart');\n            timeDate = await new Date(Date.now() + this.random(1 * 60 * 60 * 1000, 100 * 365 * 24 * 60 * 60 * 1000)).getTime();\n            rId = this.random(0, reasons.length);\n            await bridge.sendPromise('VKWebAppStorageSet', {\n              key: '_____date2',\n              value: timeDate.toString()\n            });\n            await bridge.sendPromise('VKWebAppStorageSet', {\n              key: '_____reason2',\n              value: rId.toString()\n            });\n            console.log('data saved as paralel');\n            let sValues = await bridge.sendPromise('VKWebAppStorageGet', {\n              keys: ['_____date1', '_____date2', '_____reason1', '_____reason2']\n            });\n            sValues = sValues.keys;\n            let data = {};\n\n            try {\n              for (let value of sValues) {\n                data[value.key] = Number(value.value);\n              }\n            } catch (e) {\n              console.error('e3', e);\n            }\n\n            this.setState({\n              data,\n              sValues\n            });\n          } catch (e) {\n            console.error('e2', e);\n          }\n        }\n      } else {\n        if (isParalel) {\n          await this.setState({\n            _____reason2: reasons[data._____reason2]\n          });\n          await this.setState({\n            timeDate2: data._____date2\n          });\n          console.log('data loaded as paralel');\n        } else {\n          await this.setState({\n            reason: reasons[data._____reason1]\n          });\n          await this.setState({\n            timeDate: data._____date1\n          });\n          console.log('data loaded as standart');\n        }\n      }\n    }\n\n    await this.setState({\n      paralel: isParalel\n    });\n    return true;\n  }\n\n  decOfNum(number, titles) {\n    let decCache = [],\n        decCases = [2, 0, 1, 1, 1, 2];\n    if (!decCache[number]) decCache[number] = number % 100 > 4 && number % 100 < 20 ? 2 : decCases[Math.min(number % 10, 5)];\n    return titles[decCache[number]];\n  }\n\n  updateTime() {\n    setInterval(() => {\n      try {\n        let timeMs = (this.state.paralel ? this.state.timeDate2 : this.state.timeDate) - Date.now();\n        let years, days, hours, minutes, seconds;\n        let yMs = 1000 * 60 * 60 * 24 * 365,\n            dMs = yMs / 365,\n            hMs = dMs / 24,\n            minMs = hMs / 60,\n            sMs = minMs / 60;\n        years = Math.floor(timeMs / yMs);\n        timeMs -= yMs;\n        days = Math.floor(timeMs / dMs) % 365;\n        timeMs -= dMs;\n        hours = Math.floor(timeMs / hMs) % 24;\n        timeMs -= hMs;\n        minutes = Math.floor(timeMs / minMs) % 60;\n        timeMs -= minMs;\n        seconds = Math.floor(timeMs / sMs) % 60;\n        timeMs -= sMs;\n        let times = [[years, ['год', 'года', 'лет']], [days, ['день', 'дня', 'дней']], [hours, ['час', 'часа', 'часов']], [minutes, ['минута', 'минуты', 'минут']], [seconds, ['секунда', 'секунды', 'секунд']]],\n            timesText = [];\n\n        for (let i = 0; i < times.length; i++) {\n          if (times[i][0] > 0) timesText.push(times[i][0] + ' ' + this.decOfNum(times[i][0], times[i][1]));\n        }\n\n        this.setState({\n          time: timesText.join(', ')\n        });\n      } catch (e) {\n        console.error(e);\n      }\n    }, 500);\n  }\n\n  go(panel) {\n    this.setState({\n      activePanel: panel\n    });\n  }\n\n  sleep(ms) {\n    return new Promise(resolve => setTimeout(resolve, ms));\n  }\n\n  random(min, max) {\n    return Math.floor(Math.random() * (max - min) + min);\n  }\n\n  render() {\n    return React.createElement(View, {\n      activePanel: this.state.activePanel,\n      popout: this.state.popout,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250\n      },\n      __self: this\n    }, React.createElement(Panel, {\n      id: \"main\",\n      style: {\n        height: '100vh',\n        width: '100vw'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"bg_shapes\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      style: {\n        position: 'absolute',\n        top: '50%',\n        left: '50%',\n        transform: 'translate(-50%, -50%)',\n        width: '80vw',\n        textAlign: 'center'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253\n      },\n      __self: this\n    }, React.createElement(Title, {\n      level: \"1\",\n      weight: \"semibold\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254\n      },\n      __self: this\n    }, \"\\u041C\\u043D\\u0435 \\u043E\\u0441\\u0442\\u0430\\u043B\\u043E\\u0441\\u044C \", React.createElement(\"span\", {\n      style: {\n        backgroundImage: 'linear-gradient(to left, #fc6076 0%, #ff9a44 100%)',\n        color: 'white',\n        lineHeight: '18px',\n        padding: '4px 4px 8px 4px',\n        display: 'inline-block'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254\n      },\n      __self: this\n    }, \"\\u0436\\u0438\\u0442\\u044C\")), React.createElement(Title, {\n      level: \"2\",\n      weight: \"semibold\",\n      style: {\n        marginTop: '12px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255\n      },\n      __self: this\n    }, this.state.time), React.createElement(Headline, {\n      weight: \"semibold\",\n      style: {\n        marginTop: '12px',\n        color: 'white',\n        background: 'linear-gradient(to right, #ed6ea0 0%, #ec8c69 100%)',\n        padding: '4px',\n        display: 'inline-block'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256\n      },\n      __self: this\n    }, 'Я умру ' + (this.state.paralel ? this.state._____reason2 : this.state.reason)), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256\n      },\n      __self: this\n    }), React.createElement(Button, {\n      before: React.createElement(Icon24ImageFilterOutline, {\n        width: 20,\n        height: 20,\n        style: {\n          paddingRight: '4px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257\n        },\n        __self: this\n      }),\n      size: \"l\",\n      style: {\n        marginTop: '12px',\n        display: this.state.screen && 'none'\n      },\n      onClick: async () => {\n        try {\n          let resp = await bridge.send('VKWebAppAllowMessagesFromGroup', {\n            group_id: 197419756,\n            key: \"fsdgeruiogj\"\n          });\n          await this.generateRandomTime(!this.state.paralel);\n        } catch (e) {\n          this.setState({\n            snackbar: React.createElement(Snackbar, {\n              layout: \"vertical\",\n              onClose: () => this.setState({\n                snackbar: null\n              }),\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 264\n              },\n              __self: this\n            }, \"\\u041D\\u0435\\u043E\\u0431\\u0445\\u043E\\u0434\\u0438\\u043C\\u043E \\u0440\\u0430\\u0437\\u0440\\u0435\\u0448\\u0435\\u043D\\u0438\\u0435 \\u043D\\u0430 \\u043F\\u043E\\u043B\\u0443\\u0447\\u0435\\u043D\\u0438\\u0435 \\u0441\\u043E\\u043E\\u0431\\u0449\\u0435\\u043D\\u0438\\u0439\")\n          });\n        }\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257\n      },\n      __self: this\n    }, this.state.paralel ? 'Вернуться' : 'Паралельная вселенная'), this.state.screen && React.createElement(Headline, {\n      weight: \"bold\",\n      style: {\n        position: 'absolute',\n        top: '80%',\n        left: '50%',\n        transform: 'translate(-50%, -50%)',\n        width: '80vw',\n        textAlign: 'center',\n        marginTop: '10vh',\n        color: 'rgb(35, 35, 35)',\n        background: 'linear-gradient(120deg, #d4fc79 0%, #96e6a1 100%)',\n        padding: '4px',\n        display: 'inline-block'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276\n      },\n      __self: this\n    }, \"\\u041F\\u0435\\u0440\\u0435\\u0445\\u043E\\u0434\\u0438 \\u0432 \\u043F\\u0440\\u0438\\u043B\\u043E\\u0436\\u0435\\u043D\\u0438\\u0435, \\u0435\\u0441\\u043B\\u0438 \\u043D\\u0435 \\u0431\\u043E\\u0438\\u0448\\u044C\\u0441\\u044F \\u0443\\u0437\\u043D\\u0430\\u0442\\u044C \\u0441\\u0432\\u043E\\u044E \\u0434\\u0430\\u0442\\u0443 \\u0441\\u043C\\u0435\\u0440\\u0442\\u0438!\")), React.createElement(FixedLayout, {\n      vertical: \"bottom\",\n      style: {\n        marginBottom: os === ANDROID ? '36px' : '12px',\n        display: this.state.screen && 'none'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 279\n      },\n      __self: this\n    }, React.createElement(Div, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280\n      },\n      __self: this\n    }, React.createElement(Button, {\n      onClick: async () => {\n        this.setState({\n          popout: React.createElement(ScreenSpinner, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 282\n            },\n            __self: this\n          }),\n          screen: true\n        });\n        await this.sleep(250);\n        html2canvas(document.getElementsByClassName('View__panels')[0]).then(async canvas => {\n          let blob = canvas.toDataURL('image/png');\n\n          try {\n            await bridge.send('VKWebAppShowStoryBox', {\n              background_type: 'image',\n              blob,\n              attachment: {\n                url: 'https://vk.com/app7549544',\n                text: 'open',\n                type: 'url'\n              }\n            });\n          } catch (e) {}\n\n          this.setState({\n            popout: null,\n            screen: false\n          });\n        });\n      },\n      before: React.createElement(Icon28StoryOutline, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 291\n        },\n        __self: this\n      }),\n      size: \"xl\",\n      mode: \"commerce\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281\n      },\n      __self: this\n    }, \"\\u041F\\u043E\\u0434\\u0435\\u043B\\u0438\\u0442\\u044C\\u0441\\u044F \\u0432 \\u0438\\u0441\\u0442\\u043E\\u0440\\u0438\\u0438\"))), this.state.snackbar), React.createElement(Panel, {\n      id: \"form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296\n      },\n      __self: this\n    }, React.createElement(FormLayout, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297\n      },\n      __self: this\n    }, React.createElement(Input, {\n      top: \"\\u0421\\u043A\\u043E\\u043B\\u044C\\u043A\\u043E \\u0412\\u0430\\u043C \\u043B\\u0435\\u0442?\",\n      type: \"number\",\n      defaultValue: 18,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 298\n      },\n      __self: this\n    }), React.createElement(Select, {\n      top: \"\\u041A\\u0430\\u043A\\u043E\\u0439 \\u0412\\u0430\\u0448 \\u043F\\u043E\\u043B?\",\n      defaultValue: \"m\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"m\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300\n      },\n      __self: this\n    }, \"\\u041C\\u0443\\u0436\\u0441\\u043A\\u043E\\u0439\"), React.createElement(\"option\", {\n      value: \"f\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301\n      },\n      __self: this\n    }, \"\\u0416\\u0435\\u043D\\u0441\\u043A\\u0438\\u0439\")), React.createElement(Select, {\n      top: \"\\u041A\\u0442\\u043E \\u0412\\u044B \\u043F\\u043E \\u0437\\u043D\\u0430\\u043A\\u0443 \\u0437\\u043E\\u0434\\u0438\\u0430\\u043A\\u0430?\",\n      defaultValue: \"znak1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"znak1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304\n      },\n      __self: this\n    }, \"\\u041E\\u0432\\u0435\\u043D\"), React.createElement(\"option\", {\n      value: \"znak2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305\n      },\n      __self: this\n    }, \"\\u0422\\u0435\\u043B\\u0435\\u0446\"), React.createElement(\"option\", {\n      value: \"znak3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306\n      },\n      __self: this\n    }, \"\\u0411\\u043B\\u0438\\u0437\\u043D\\u0435\\u0446\\u044B\"), React.createElement(\"option\", {\n      value: \"znak4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 307\n      },\n      __self: this\n    }, \"\\u0420\\u0430\\u043A\"), React.createElement(\"option\", {\n      value: \"znak5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 308\n      },\n      __self: this\n    }, \"\\u041B\\u0435\\u0432\"), React.createElement(\"option\", {\n      value: \"znak6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 309\n      },\n      __self: this\n    }, \"\\u0414\\u0435\\u0432\\u0430\"), React.createElement(\"option\", {\n      value: \"znak7\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 310\n      },\n      __self: this\n    }, \"\\u0412\\u0435\\u0441\\u044B\"), React.createElement(\"option\", {\n      value: \"znak8\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 311\n      },\n      __self: this\n    }, \"\\u0421\\u043A\\u043E\\u0440\\u043F\\u0438\\u043E\\u043D\"), React.createElement(\"option\", {\n      value: \"znak9\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312\n      },\n      __self: this\n    }, \"\\u0417\\u043C\\u0435\\u0435\\u043D\\u043E\\u0441\\u0435\\u0446\"), React.createElement(\"option\", {\n      value: \"znak10\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313\n      },\n      __self: this\n    }, \"\\u0421\\u0442\\u0440\\u0435\\u043B\\u0435\\u0446\"), React.createElement(\"option\", {\n      value: \"znak11\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314\n      },\n      __self: this\n    }, \"\\u041A\\u043E\\u0437\\u0435\\u0440\\u043E\\u0433\"), React.createElement(\"option\", {\n      value: \"znak12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 315\n      },\n      __self: this\n    }, \"\\u0412\\u043E\\u0434\\u043E\\u043B\\u0435\\u0439\"), React.createElement(\"option\", {\n      value: \"znak13\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 316\n      },\n      __self: this\n    }, \"\\u0420\\u044B\\u0431\\u044B\")), React.createElement(Select, {\n      top: \"\\u0412\\u0430\\u0441 \\u043F\\u043E\\u0441\\u0435\\u0449\\u0430\\u043B\\u0438 \\u043C\\u044B\\u0441\\u043B\\u0438 \\u043E \\u0441\\u0443\\u0438\\u0446\\u0438\\u0434\\u0435?\",\n      defaultValue: \"nn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 318\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"nn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 319\n      },\n      __self: this\n    }, \"\\u041D\\u0435\\u0442\"), React.createElement(\"option\", {\n      value: \"yy\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 320\n      },\n      __self: this\n    }, \"\\u0414\\u0430\")), React.createElement(Button, {\n      size: \"xl\",\n      onClick: async () => {\n        this.setState({\n          popout: React.createElement(ScreenSpinner, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 323\n            },\n            __self: this\n          })\n        });\n        await this.initializeTimer();\n        this.setState({\n          popout: null\n        });\n        this.go('main');\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 322\n      },\n      __self: this\n    }, \"\\u0423\\u0437\\u043D\\u0430\\u0442\\u044C \\u0434\\u0430\\u0442\\u0443 \\u0441\\u043C\\u0435\\u0440\\u0442\\u0438\"))));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["C:/Users/Admin/NodeProjects/DeathDate/src/App.js"],"names":["React","bridge","eruda","html2canvas","FormLayout","FormStatus","Snackbar","Select","Input","Div","Panel","Title","Headline","View","FixedLayout","Button","ScreenSpinner","platform","ANDROID","Icon28StoryOutline","Icon24ImageFilterOutline","blueBackground","backgroundColor","redBackground","os","App","Component","constructor","props","state","popout","activePanel","time","screen","scheme","paralel","componentDidMount","bind","initializeApp","initializeTimer","go","generateRandomTime","updateTime","subscribe","detail","type","data","undefined","console","log","schemeAttribute","document","createAttribute","value","body","attributes","setNamedItem","setState","supports","send","status_bar_style","action_bar_color","shapes","getElementsByClassName","element","remove","e","error","sValues","sendPromise","keys","key","Number","_____date2","imgs","bgInterval","setInterval","shape_container","createElement","className","shape","src","random","length","style","left","appendChild","getElementById","i","setProperty","setTimeout","generated","sleep","isParalel","reasons","_____reason2","timeDate","Date","now","getTime","rId","reason","toString","timeDate2","_____reason1","_____date1","decOfNum","number","titles","decCache","decCases","Math","min","timeMs","years","days","hours","minutes","seconds","yMs","dMs","hMs","minMs","sMs","floor","times","timesText","push","join","panel","ms","Promise","resolve","max","render","height","width","position","top","transform","textAlign","backgroundImage","color","lineHeight","padding","display","marginTop","background","paddingRight","resp","group_id","snackbar","marginBottom","then","canvas","blob","toDataURL","background_type","attachment","url","text"],"mappings":"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","sourcesContent":["import React from 'react';\nimport bridge from '@vkontakte/vk-bridge';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport './css/App.css'\nimport eruda from 'eruda';\nimport html2canvas from 'html2canvas';\n\nimport { FormLayout, FormStatus, Snackbar, Select, Input, Div, Panel, Title, Headline, View, FixedLayout, Button, ScreenSpinner, platform, ANDROID } from '@vkontakte/vkui';\n\nimport Icon28StoryOutline from '@vkontakte/icons/dist/28/story_outline';\nimport Icon24ImageFilterOutline from '@vkontakte/icons/dist/24/image_filter_outline';\n\nconst blueBackground = {\n\tbackgroundColor: 'var(--accent)'\n}, redBackground = {\n\tbackgroundColor: 'var(--dynamic_red)'\n}, os = platform();\n\nclass App extends React.Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tpopout: null,\n\t\t\tactivePanel: 'form',\n\t\t\ttime: '',\n\t\t\tscreen: false,\n\t\t\tscheme: 'bright_light',\n\t\t\tparalel: false,\n\t\t};\n\n\t\tthis.componentDidMount = this.componentDidMount.bind(this);\n\t\tthis.initializeApp = this.initializeApp.bind(this);\n\t\tthis.initializeTimer = this.initializeTimer.bind(this);\n\t\tthis.go = this.go.bind(this);\n\t\tthis.generateRandomTime = this.generateRandomTime.bind(this);\n\t\tthis.updateTime = this.updateTime.bind(this);\n\t\t//eruda.init();\n\t}\n\n\tasync componentDidMount () {\n\t\tbridge.subscribe(async ({ detail: { type, data }}) => {\n\t\t\tif(type !== undefined) console.log(type, data);\n\t\t\tif (type === 'VKWebAppUpdateConfig') {\n\t\t\t\tconst schemeAttribute = document.createAttribute('scheme');\n\t\t\t\tschemeAttribute.value = false ? data.scheme ? data.scheme : 'bright_light' : 'space_gray';\n\t\t\t\tdocument.body.attributes.setNamedItem(schemeAttribute);\n\t\t\t\tthis.setState({ scheme: schemeAttribute.value });\n\t\t\t\tif(bridge.supports('VKWebAppSetViewSettings')){\n\t\t\t\t\tbridge.send('VKWebAppSetViewSettings', {status_bar_style: 'dark', action_bar_color: 'none'});\n\t\t\t\t}\n\t\t\t}else if (type === 'VKWebAppViewRestore') {\n\t\t\t\tthis.setState({ popout: null, screen: false });\n\t\t\t\tlet shapes = document.getElementsByClassName('bg_shape_container');\n\t\t\t\tfor(let element of shapes){\n\t\t\t\t\ttry{\n\t\t\t\t\t\tconsole.log('delete', element);\n\t\t\t\t\t\telement.remove();\n\t\t\t\t\t}catch (e) {\n\t\t\t\t\t\tconsole.error(e);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tthis.initializeApp();\n\t}\n\n\tasync initializeApp() {\n\t\ttry{\n\t\t\tlet sValues = await bridge.sendPromise('VKWebAppStorageGet', {keys: ['_____date1', '_____date2', '_____reason1', '_____reason2']});\n\t\t\tsValues = sValues.keys;\n\t\t\tlet data = {};\n\t\t\ttry{\n\t\t\t\tfor(let value of sValues){\n\t\t\t\t\tdata[value.key] = Number(value.value);\n\t\t\t\t}\n\t\t\t}catch (e) {\n\t\t\t\tconsole.error('e3', e)\n\t\t\t}\n\t\t\tthis.setState({ data, sValues });\n\n\t\t\tif(data._____date2 !== false && data._____date2 !== 0){\n\t\t\t\tconsole.log('user is not first', data);\n\t\t\t\tawait this.initializeTimer();\n\t\t\t\tthis.go('main');\n\t\t\t}\n\t\t}catch (e) {}\n\n        bridge.send('VKWebAppInit');\n\t}\n\n\tasync initializeTimer() {\n\t\tlet imgs = ['https://image.flaticon.com/icons/svg/2893/2893113.svg',\n\t\t\t'https://image.flaticon.com/icons/svg/2893/2893195.svg',\n\t\t\t'https://image.flaticon.com/icons/svg/2484/2484569.svg',\n\t\t\t'https://image.flaticon.com/icons/svg/2484/2484597.svg'];\n\t\tlet bgInterval = setInterval(()=>{\n\t\t\ttry{\n\t\t\t\tlet shape_container = document.createElement('div');\n\t\t\t\tshape_container.className = 'bg_shape_container';\n\t\t\t\tlet shape = document.createElement('img');\n\t\t\t\tshape.className = 'bg_shape light_outline';\n\t\t\t\tshape.src = imgs[this.random(0, imgs.length)];\n\t\t\t\tshape.style.left = (this.random(-15, 90)) + 'vw';\n\t\t\t\tshape_container.appendChild(shape);\n\t\t\t\tdocument.getElementById('bg_shapes').appendChild(shape_container);\n\t\t\t\tfor(let i = 0; i < 5; i++){\n\t\t\t\t\tshape.style.setProperty('--offset-x-' + i, this.random(-20, 20) +'vw');\n\t\t\t\t}\n\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\ttry{\n\t\t\t\t\t\tshape_container.remove();\n\t\t\t\t\t}catch (e) {}\n\t\t\t\t}, 10000);\n\t\t\t}catch (e) {}\n\t\t}, 600);\n\t\tlet generated = await this.generateRandomTime(false);\n\t\tthis.updateTime();\n\t\tawait this.sleep(500);\n\t\treturn true;\n\t}\n\n\tasync generateRandomTime(isParalel){\n\t\tlet reasons = [ 'упав в канализационный люк во время грозы, после перелома позвоночника я захлебнусь от потоков дождевой воды',\n\t\t\t'во время митинга, случайно брошенный камень пробьет мне череп и меня просто не успеют довезти до больницы, так как дороги будут перекрыты',\n\t\t\t'из-за ошибки инструктора, который неправильно уложит стропы моего парашюта',\n\t\t\t'при подъеме на эскалаторе. Резко провалившиеся ступени утянут меня за собой и мои кости перемолет шестернями механизма',\n\t\t\t'',\n\t\t\t'',\n\t\t\t'',\n\t\t\t'',\n\t\t\t'',\n\t\t\t'',\n\t\t\t'',\n\t\t\t'',\n\t\t\t'',\n\t\t\t'',\n\t\t\t'',\n\t\t\t'',\n\t\t\t'',\n\t\t\t'',\n\t\t\t'',\n\n\t\t];\n\t\tif (!this.state._____reason2) {\n\t\t\tlet timeDate = await new Date(Date.now() + this.random(1 * 60 * 60 * 1000, 100 * 365 * 24 * 60 * 60 * 1000)).getTime();\n\t\t\tlet data = this.state.data;\n\t\t\tif(this.state.sValues === undefined || data._____date2 == false) {\n\t\t\t\tlet rId = this.random(0, reasons.length);\n\t\t\t\tawait this.setState({reason: reasons[rId]});\n\t\t\t\tawait this.setState({timeDate});\n\t\t\t\tif(bridge.supports('VKWebAppStorageSet')) {\n\t\t\t\t\ttry{\n\t\t\t\t\t\tawait bridge.sendPromise('VKWebAppStorageSet', {key: '_____date1', value: timeDate.toString()});\n\t\t\t\t\t\tawait bridge.sendPromise('VKWebAppStorageSet', {key: '_____reason1', value: rId.toString()});\n\t\t\t\t\t\tconsole.log('data saved as standart');\n\n\t\t\t\t\t\ttimeDate = await new Date(Date.now() + this.random(1 * 60 * 60 * 1000, 100 * 365 * 24 * 60 * 60 * 1000)).getTime();\n\t\t\t\t\t\trId = this.random(0, reasons.length);\n\t\t\t\t\t\tawait bridge.sendPromise('VKWebAppStorageSet', {key: '_____date2', value: timeDate.toString()});\n\t\t\t\t\t\tawait bridge.sendPromise('VKWebAppStorageSet', {key: '_____reason2', value: rId.toString()});\n\t\t\t\t\t\tconsole.log('data saved as paralel');\n\n\t\t\t\t\t\tlet sValues = await bridge.sendPromise('VKWebAppStorageGet', {keys: ['_____date1', '_____date2', '_____reason1', '_____reason2']});\n\t\t\t\t\t\tsValues = sValues.keys;\n\t\t\t\t\t\tlet data = {};\n\t\t\t\t\t\ttry{\n\t\t\t\t\t\t\tfor(let value of sValues){\n\t\t\t\t\t\t\t\tdata[value.key] = Number(value.value);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}catch (e) {\n\t\t\t\t\t\t\tconsole.error('e3', e)\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.setState({ data, sValues });\n\t\t\t\t\t}catch (e) {console.error('e2',e);}\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tif (isParalel) {\n\t\t\t\t\tawait this.setState({_____reason2: reasons[data._____reason2]});\n\t\t\t\t\tawait this.setState({timeDate2: data._____date2});\n\t\t\t\t\tconsole.log('data loaded as paralel');\n\t\t\t\t} else {\n\t\t\t\t\tawait this.setState({reason: reasons[data._____reason1]});\n\t\t\t\t\tawait this.setState({timeDate: data._____date1});\n\t\t\t\t\tconsole.log('data loaded as standart');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tawait this.setState({paralel: isParalel});\n\t\treturn true;\n\t}\n\tdecOfNum(number, titles){\n\t\tlet decCache = [],\n\t\t\tdecCases = [2, 0, 1, 1, 1, 2];\n\t\tif(!decCache[number]) decCache[number] = number % 100 > 4 && number % 100 < 20 ? 2 : decCases[Math.min(number % 10, 5)];\n\t\treturn titles[decCache[number]];\n\t}\n\tupdateTime() {\n\t\tsetInterval(()=>{\n\t\t\ttry{\n\t\t\t\tlet timeMs = (this.state.paralel ? this.state.timeDate2 : this.state.timeDate) - Date.now();\n\n\t\t\t\tlet years, days, hours, minutes, seconds;\n\t\t\t\tlet yMs = 1000 * 60 * 60 * 24 * 365,\n\t\t\t\t\tdMs = yMs / 365,\n\t\t\t\t\thMs = dMs / 24,\n\t\t\t\t\tminMs = hMs / 60,\n\t\t\t\t\tsMs = minMs / 60;\n\n\t\t\t\tyears = Math.floor(timeMs / yMs); timeMs -= yMs;\n\t\t\t\tdays = Math.floor(timeMs / dMs) % 365; timeMs -= dMs;\n\t\t\t\thours = Math.floor(timeMs / hMs) % 24; timeMs -= hMs;\n\t\t\t\tminutes = Math.floor(timeMs / minMs) % 60; timeMs -= minMs;\n\t\t\t\tseconds = Math.floor(timeMs / sMs) % 60; timeMs -= sMs;\n\n\t\t\t\tlet times = [ [ years, [ 'год', 'года', 'лет' ] ],\n\t\t\t\t\t\t[ days, ['день', 'дня', 'дней'] ],\n\t\t\t\t\t\t[ hours, ['час', 'часа', 'часов'] ],\n\t\t\t\t\t\t[ minutes, ['минута', 'минуты', 'минут'] ],\n\t\t\t\t\t\t[ seconds, ['секунда', 'секунды', 'секунд'] ]],\n\n\t\t\t\t\ttimesText = [];\n\n\t\t\t\tfor(let i = 0; i < times.length; i++){\n\t\t\t\t\tif (times[i][0] > 0) timesText.push(times[i][0] + ' ' + this.decOfNum(times[i][0], times[i][1]));\n\t\t\t\t}\n\n\t\t\t\tthis.setState({ time: timesText.join(', ') });\n\t\t\t}catch (e) {\n\t\t\t\tconsole.error(e);\n\t\t\t}\n\t\t}, 500);\n\t}\n\n\tgo(panel) {\n\t\tthis.setState({activePanel: panel});\n\t}\n\n\tsleep(ms) {\n\t\treturn new Promise(resolve => setTimeout(resolve, ms));\n\t}\n\trandom(min, max) {\n\t\treturn Math.floor(Math.random() * (max - min) + min);\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<View activePanel={this.state.activePanel} popout={this.state.popout}>\n\t\t\t\t<Panel id='main' style={{ height: '100vh', width: '100vw' }}>\n\t\t\t\t\t<div id='bg_shapes'/>\n\t\t\t\t\t<div style={{ position: 'absolute', top: '50%', left: '50%', transform: 'translate(-50%, -50%)', width: '80vw', textAlign: 'center' }}>\n\t\t\t\t\t\t<Title level='1' weight='semibold'>Мне осталось <span style={{ backgroundImage: 'linear-gradient(to left, #fc6076 0%, #ff9a44 100%)', color: 'white', lineHeight: '18px', padding: '4px 4px 8px 4px', display: 'inline-block' }}>жить</span></Title>\n\t\t\t\t\t\t<Title level='2' weight='semibold' style={{ marginTop: '12px' }}>{this.state.time}</Title>\n\t\t\t\t\t\t<Headline weight='semibold' style={{ marginTop: '12px', color: 'white', background: 'linear-gradient(to right, #ed6ea0 0%, #ec8c69 100%)', padding: '4px', display: 'inline-block' }}>{ 'Я умру ' + ( this.state.paralel ? this.state._____reason2: this.state.reason ) }</Headline><br/>\n\t\t\t\t\t\t<Button before={<Icon24ImageFilterOutline width={20} height={20} style={{ paddingRight: '4px' }}/>} size='l' style={{ marginTop: '12px', display: this.state.screen && 'none' }} onClick={\n\t\t\t\t\t\t\tasync ()=>{\n\t\t\t\t\t\t\t\ttry{\n\t\t\t\t\t\t\t\t\tlet resp = await bridge.send('VKWebAppAllowMessagesFromGroup', {group_id: 197419756, key: \"fsdgeruiogj\"});\n\t\t\t\t\t\t\t\t\tawait this.generateRandomTime(!this.state.paralel);\n\t\t\t\t\t\t\t\t}catch (e) {\n\t\t\t\t\t\t\t\t\tthis.setState({ snackbar:\n\t\t\t\t\t\t\t\t\t\t\t<Snackbar\n\t\t\t\t\t\t\t\t\t\t\t\tlayout='vertical'\n\t\t\t\t\t\t\t\t\t\t\t\tonClose={() => this.setState({ snackbar: null })}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tНеобходимо разрешение на получение сообщений\n\t\t\t\t\t\t\t\t\t\t\t</Snackbar>\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}>{ this.state.paralel ? 'Вернуться' : 'Паралельная вселенная' }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.state.screen &&\n\t\t\t\t\t\t\t<Headline weight='bold' style={{ position: 'absolute',top: '80%', left: '50%', transform: 'translate(-50%, -50%)', width: '80vw', textAlign: 'center', marginTop: '10vh', color: 'rgb(35, 35, 35)', background: 'linear-gradient(120deg, #d4fc79 0%, #96e6a1 100%)', padding: '4px', display: 'inline-block' }}>Переходи в приложение, если не боишься узнать свою дату смерти!</Headline>\n\t\t\t\t\t\t}\n\t\t\t\t\t</div>\n\t\t\t\t\t<FixedLayout vertical='bottom' style={{ marginBottom: os === ANDROID ? '36px' : '12px', display: this.state.screen && 'none' }}>\n\t\t\t\t\t\t<Div>\n\t\t\t\t\t\t\t<Button onClick={async ()=>{\n\t\t\t\t\t\t\t\tthis.setState({ popout: <ScreenSpinner/>, screen: true });\n\t\t\t\t\t\t\t\tawait this.sleep(250);\n\t\t\t\t\t\t\t\thtml2canvas(document.getElementsByClassName('View__panels')[0]).then(async canvas => {\n\t\t\t\t\t\t\t\t\tlet blob = canvas.toDataURL('image/png');\n\t\t\t\t\t\t\t\t\ttry{\n\t\t\t\t\t\t\t\t\t\tawait bridge.send('VKWebAppShowStoryBox', { background_type: 'image', blob, attachment: { url: 'https://vk.com/app7549544', text: 'open', type: 'url' } });\n\t\t\t\t\t\t\t\t\t}catch (e) {}\n\t\t\t\t\t\t\t\t\tthis.setState({ popout: null, screen: false });\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}} before={<Icon28StoryOutline/>} size='xl' mode='commerce'>Поделиться в истории</Button>\n\t\t\t\t\t\t</Div>\n\t\t\t\t\t</FixedLayout>\n\t\t\t\t\t{this.state.snackbar}\n\t\t\t\t</Panel>\n\t\t\t\t<Panel id='form'>\n\t\t\t\t\t<FormLayout>\n\t\t\t\t\t\t<Input top='Сколько Вам лет?' type='number' defaultValue={18}/>\n\t\t\t\t\t\t<Select top='Какой Ваш пол?' defaultValue='m'>\n\t\t\t\t\t\t\t<option value='m'>Мужской</option>\n\t\t\t\t\t\t\t<option value='f'>Женский</option>\n\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t<Select top='Кто Вы по знаку зодиака?' defaultValue='znak1'>\n\t\t\t\t\t\t\t<option value='znak1'>Овен</option>\n\t\t\t\t\t\t\t<option value='znak2'>Телец</option>\n\t\t\t\t\t\t\t<option value='znak3'>Близнецы</option>\n\t\t\t\t\t\t\t<option value='znak4'>Рак</option>\n\t\t\t\t\t\t\t<option value='znak5'>Лев</option>\n\t\t\t\t\t\t\t<option value='znak6'>Дева</option>\n\t\t\t\t\t\t\t<option value='znak7'>Весы</option>\n\t\t\t\t\t\t\t<option value='znak8'>Скорпион</option>\n\t\t\t\t\t\t\t<option value='znak9'>Змееносец</option>\n\t\t\t\t\t\t\t<option value='znak10'>Стрелец</option>\n\t\t\t\t\t\t\t<option value='znak11'>Козерог</option>\n\t\t\t\t\t\t\t<option value='znak12'>Водолей</option>\n\t\t\t\t\t\t\t<option value='znak13'>Рыбы</option>\n\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t<Select top='Вас посещали мысли о суициде?' defaultValue='nn'>\n\t\t\t\t\t\t\t<option value='nn'>Нет</option>\n\t\t\t\t\t\t\t<option value='yy'>Да</option>\n\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t<Button size='xl' onClick={async ()=>{\n\t\t\t\t\t\t\tthis.setState({ popout: <ScreenSpinner/> });\n\t\t\t\t\t\t\tawait this.initializeTimer();\n\t\t\t\t\t\t\tthis.setState({ popout: null });\n\t\t\t\t\t\t\tthis.go('main');\n\t\t\t\t\t\t}}>Узнать дату смерти</Button>\n\t\t\t\t\t</FormLayout>\n\t\t\t\t</Panel>\n\t\t\t</View>\n\t\t);\n\t}\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}