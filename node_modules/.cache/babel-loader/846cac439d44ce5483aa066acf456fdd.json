{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\Admin\\\\NodeProjects\\\\VKStickers2\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\Admin\\\\NodeProjects\\\\VKStickers2\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"C:\\\\Users\\\\Admin\\\\NodeProjects\\\\VKStickers2\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _classCallCheck from\"C:\\\\Users\\\\Admin\\\\NodeProjects\\\\VKStickers2\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Admin\\\\NodeProjects\\\\VKStickers2\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\Admin\\\\NodeProjects\\\\VKStickers2\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\Admin\\\\NodeProjects\\\\VKStickers2\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"C:\\\\Users\\\\Admin\\\\NodeProjects\\\\VKStickers2\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\Admin\\\\NodeProjects\\\\VKStickers2\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}import React from'react';import bridge from'@vkontakte/vk-bridge';import'@vkontakte/vkui/dist/vkui.css';import'./css/App.css';import{Panel,PanelHeader,Div,View,ScreenSpinner,List,Cell,Gallery,FormLayout,Input,Avatar,Group,Epic,Tabbar,TabbarItem,Separator,Button,PanelHeaderContext,Header,PanelHeaderSimple,PanelHeaderContent,Placeholder,Tabs,TabsItem,PullToRefresh,Snackbar}from'@vkontakte/vkui';import Icon16Done from'@vkontakte/icons/dist/16/done';import Icon16Cancel from'@vkontakte/icons/dist/16/cancel';import Icon16Dropdown from'@vkontakte/icons/dist/16/dropdown';import Icon16Down from'@vkontakte/icons/dist/16/down';import Icon16Up from'@vkontakte/icons/dist/16/up';import Icon28HistoryForwardOutline from'@vkontakte/icons/dist/28/history_forward_outline';import Icon28MarketOutline from'@vkontakte/icons/dist/28/market_outline';import Icon28UserOutline from'@vkontakte/icons/dist/28/user_outline';import Icon56HistoryOutline from'@vkontakte/icons/dist/56/history_outline';import{StickerImg}from\"./components/StickerImg\";import{StickerButton}from\"./components/StickerButton\";import{StickerDescription}from\"./components/StickerDescription\";import{StickerGrid}from\"./components/StickerGrid\";import{StickerUploadButton}from\"./components/StickerUploadButton\";var access_token='',upload_url1='',upload_url2='';var blueBackground={backgroundColor:'var(--accent)'};var redBackground={backgroundColor:'var(--dynamic_red)'};var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);function App(props){var _this;_classCallCheck(this,App);_this=_possibleConstructorReturn(this,_getPrototypeOf(App).call(this,props));_this.back=function(){var activeStory=_this.state.activeStory;var activePanel=activeStory==='tab_main'?_this.state.activePanelShop:activeStory==='tab_other'?_this.state.activePanelOther:'';var panel_to_change=activeStory==='tab_main'?'activePanelShop':activeStory==='tab_other'?'activePanelOther':'';if(activeStory==='tab_main'&&activePanel==='main'||activeStory==='tab_other'&&activePanel==='profile'){bridge.send(\"VKWebAppClose\",{\"status\":\"success\"});}else{var history=activeStory==='tab_main'?_this.state.historyShop:activeStory==='tab_other'?_this.state.historyOther:'';if(history.length===1){bridge.send(\"VKWebAppClose\",{\"status\":\"success\"});}else if(history.length>1){history.pop();var p=history[history.length-1];_this.setState(_defineProperty({},panel_to_change,p));}}};_this.state={initialized:false,popout:React.createElement(ScreenSpinner,null),activeStory:'tab_main',slideTabIndex:0,activePanelShop:\"main\",historyShop:[\"main\"],activePanelOther:\"profile\",historyOther:[\"profile\"],createStickerContextOpened:false,balance_manipulation:false,stickers:[{title:\"Бисквит\",author:\"Ирина Брэдкэт\",preview:\"https://vk.com/sticker/2-533-cover-140b-0\",price:1,description:\"Хвост торчком, большие ушки —\\nБерегитесь, печенюшки!\",stickers:['https://vk.com/sticker/1-18945-64','https://vk.com/sticker/1-18946-64','https://vk.com/sticker/1-18947-64','https://vk.com/sticker/1-18948-64','https://vk.com/sticker/1-18949-64','https://vk.com/sticker/1-18950-64','https://vk.com/sticker/1-18951-64','https://vk.com/sticker/1-18952-64']},{title:\"Илай\",author:\"Ирина Брэдкэт\",preview:\"https://vk.com/sticker/1-18781-128\",price:1,description:\"Вышел мишка из берлоги — поселился в диалоге.\",stickers:['https://vk.com/sticker/1-18781-128','https://vk.com/sticker/1-18782-128','https://vk.com/sticker/1-18783-128','https://vk.com/sticker/1-18784-128','https://vk.com/sticker/1-18785-128','https://vk.com/sticker/1-18786-128','https://vk.com/sticker/1-18787-128','https://vk.com/sticker/1-18788-128']}],stickers_panel:null,sticker_info:{title:\"\",author:\"\",preview:\"\",price:0,description:\"\",stickers:[]},user:{first_name:'',last_name:'',photo_100:'',stickers:[],balance:0,stickers_history:[]},create_panel:{title:\"\",preview:\"\",price:1,description:\"\",stickers:[]},captcha:{text:'',url:'',done:false}};_this.onStoryChange=_this.onStoryChange.bind(_assertThisInitialized(_this));_this.onChange=_this.onChange.bind(_assertThisInitialized(_this));_this.uploadFile=_this.uploadFile.bind(_assertThisInitialized(_this));_this.toggleCreateStickerContext=_this.toggleCreateStickerContext.bind(_assertThisInitialized(_this));_this.sync=_this.sync.bind(_assertThisInitialized(_this));_this.install=_this.install.bind(_assertThisInitialized(_this));_this.delete=_this.delete.bind(_assertThisInitialized(_this));_this.componentDidMount=_this.componentDidMount.bind(_assertThisInitialized(_this));_this.initializeApp=_this.initializeApp.bind(_assertThisInitialized(_this));_this.updateStickers=_this.updateStickers.bind(_assertThisInitialized(_this));_this.updateStickersInfo=_this.updateStickersInfo.bind(_assertThisInitialized(_this));_this.updateUser=_this.updateUser.bind(_assertThisInitialized(_this));_this.back=_this.back.bind(_assertThisInitialized(_this));_this.go=_this.go.bind(_assertThisInitialized(_this));return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;window.addEventListener('popstate',function(e){e.preventDefault();_this2.back(e);});bridge.subscribe(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref){var _ref$detail,type,data,schemeAttribute,login,c;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_ref$detail=_ref.detail,type=_ref$detail.type,data=_ref$detail.data;console.log(type,data);if(!(type==='VKWebAppUpdateConfig')){_context.next=8;break;}schemeAttribute=document.createAttribute('scheme');schemeAttribute.value=data.scheme?data.scheme:'client_light';document.body.attributes.setNamedItem(schemeAttribute);_context.next=17;break;case 8:if(!(type==='VKWebAppGetUserInfoResult')){_context.next=16;break;}if(_this2.state.initialized){_context.next=14;break;}_context.next=12;return _this2.get('users.auth');case 12:login=_context.sent;if(login.access){/*\n                        data.stickers = [ 0 ];\n                        data.balance = 0;\n                        data.stickers_history = [ { title: \"Илай\", preview: \"https://vk.com/sticker/1-18781-128\", added: false }, { title: \"Бисквит\", author: \"Илья Ульянов\", preview: \"https://vk.com/sticker/2-533-cover-140b-0\" } ];\n                        */_this2.setState({initialized:true,popout:null});_this2.initializeApp();}case 14:_context.next=17;break;case 16:if(type==='VKWebAppCallAPIMethodFailed'){if(data.error_data.error_reason.error_code===14){c=_this2.state.captcha;c.done=null;c.url=data.error_data.error_reason.captcha_img;c.sid=data.error_data.error_reason.captcha_sid;_this2.setState({captcha:c,popout:null});_this2.go('input_captcha');}}case 17:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref2.apply(this,arguments);};}());this.initializeApp();}},{key:\"initializeApp\",value:function initializeApp(){this.updateStickers();this.updateUser();}},{key:\"updateStickers\",value:function(){var _updateStickers=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var _this3=this;var response,stickers_panel_new,stickers,i,stickers_,j,stickers_panel_popular;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return this.get('stickers.get');case 2:response=_context3.sent;this.setState({stickers:response.stickers});stickers_panel_new=[];stickers=this.state.stickers;for(i=0;i<stickers.length;i++){stickers_=[];for(j=0;j<stickers[i].stickers.length;j++){stickers_.push(React.createElement(StickerImg,{mode:\"small\",src:stickers[i].stickers[j]}));}stickers[i].stickers=stickers_;stickers[i].id=i;stickers_panel_new.push(React.createElement(StickerButton,{title:stickers[i].title,author:stickers[i].author,src:stickers[i].preview,price:stickers[i].price,id:\"sticker_\"+i,mode:\"cell\",onClick:/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e){var id,response,user_;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:id=parseInt(e.currentTarget.id.split('_')[1]);_this3.setState({sticker_info:stickers[id],popout:React.createElement(ScreenSpinner,null)});_context2.next=4;return _this3.get('users.get');case 4:response=_context2.sent;_context2.next=7;return bridge.sendPromise('VKWebAppGetUserInfo');case 7:user_=_context2.sent;_this3.setState({user:_objectSpread({},user_,{},response.user),popout:null});_this3.go(\"sticker_info\");case 10:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref3.apply(this,arguments);};}()}));}stickers_panel_new=stickers_panel_new.reverse();stickers_panel_popular=stickers_panel_new.sort(function(itemA,itemB){return(itemA.sales===0?0:itemA.sales.length)-(itemB.sales===0?0:itemB.sales.length);}).reverse();this.setState({stickers_panel_new:stickers_panel_new,stickers_panel_popular:stickers_panel_popular});case 10:case\"end\":return _context3.stop();}}},_callee3,this);}));function updateStickers(){return _updateStickers.apply(this,arguments);}return updateStickers;}()},{key:\"updateStickersInfo\",value:function(){var _updateStickersInfo=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return this.updateStickers();case 2:_context4.next=4;return this.updateUser();case 4:this.setState({sticker_info:this.state.stickers[this.state.sticker_info.id]});case 5:case\"end\":return _context4.stop();}}},_callee4,this);}));function updateStickersInfo(){return _updateStickersInfo.apply(this,arguments);}return updateStickersInfo;}()},{key:\"updateUser\",value:function(){var _updateUser=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(){var _this4=this;var response,user_,user_stickers,i,sticker,user_stickers_history,_i,_sticker;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return this.get('users.get');case 2:response=_context5.sent;_context5.next=5;return bridge.sendPromise('VKWebAppGetUserInfo');case 5:user_=_context5.sent;this.setState({user:_objectSpread({},user_,{},response.user)});user_stickers=[];for(i=0;i<this.state.user.stickers.length;i++){sticker=this.state.stickers[i];user_stickers.push(React.createElement(StickerButton,{src:sticker.preview,id:\"user_sticker_\"+i,mode:\"img\",onClick:function onClick(e){var id=parseInt(e.currentTarget.id.split('_')[2]);_this4.setState({activeStory:\"tab_main\",sticker_info:_this4.state.stickers[id]});setTimeout(function(){_this4.go(\"sticker_info\");},50);}}));}this.setState({user_stickers:user_stickers});user_stickers_history=[];for(_i=0;_i<this.state.user.stickers_history.length;_i++){_sticker=this.state.user.stickers_history[_i];user_stickers_history.push(React.createElement(StickerButton,{title:_sticker.title,src:_sticker.preview,mode2:_sticker.hasOwnProperty('added')?_sticker.added?'commerce':'destructive':'primary',button:_sticker.hasOwnProperty('added')?_sticker.added?'Одобрено':'Отклонено':'На проверке',mode:\"cell\"}));}this.setState({user_stickers_history:user_stickers_history});case 13:case\"end\":return _context5.stop();}}},_callee5,this);}));function updateUser(){return _updateUser.apply(this,arguments);}return updateUser;}()},{key:\"sleep\",value:function sleep(ms){return new Promise(function(resolve){return setTimeout(resolve,ms);});}},{key:\"go\",value:function go(panel){var activeStory=this.state.activeStory;var panel_to_change=activeStory==='tab_main'?'activePanelShop':activeStory==='tab_other'?'activePanelOther':'';var history=activeStory==='tab_main'?this.state.historyShop:activeStory==='tab_other'?this.state.historyOther:'';if(history[history.length-1]!==panel){var _this$setState2;history.push(panel);var history_to_change=activeStory==='tab_main'?'historyShop':activeStory==='tab_other'?'historyOther':'';window.history.pushState({panel:panel},'Title');this.setState((_this$setState2={},_defineProperty(_this$setState2,panel_to_change,panel),_defineProperty(_this$setState2,history_to_change,history),_this$setState2));}}},{key:\"onStoryChange\",value:function onStoryChange(e){var story=e.currentTarget.dataset.story;if(this.state.activeStory===story){if(story==='tab_main'&&this.state.activePanelShop!=='main'){this.back();}else if(story==='tab_other'&&this.state.activePanelOther!=='profile'){this.back();}}this.setState({activeStory:story});}},{key:\"onChange\",value:function onChange(e){var _e$currentTarget=e.currentTarget,name=_e$currentTarget.name,value=_e$currentTarget.value;var create_panel=this.state.create_panel;create_panel[name]=value;this.setState({create_panel:create_panel});}},{key:\"uploadFile\",value:function uploadFile(element,evt){var tgt=evt.target||window.event.srcElement,files=tgt.files;var t=this;if(FileReader&&files&&files.length){var fr=new FileReader();fr.onload=function(){var res=fr.result;//base64 result, to get src -> array[0].props.src\nvar res1=t.state.create_panel;if(files[files.length-1].type.includes('image')){if(element==='upload_sticker_img'){var res10=res1.hasOwnProperty('uploaded_stickers_img')?res1.uploaded_stickers_img:[];res10.push(React.createElement(StickerImg,{mode:'small',id:'uploaded_sticker_'+res10.length,src:res,onClick:function onClick(e){var id=parseInt(e.currentTarget.id.split('_')[2]);var res01=t.state.create_panel;delete res01.uploaded_stickers_img[id];t.setState({create_panel:res01});}}));var stickers_count=res10.filter(function(val){return val!==undefined;}).length;if(stickers_count<100){res1.uploaded_stickers_img=res10;t.setState({create_panel:res1});}}else{res1[element]=res;t.setState({create_panel:res1});}}else{res1[element]=null;t.setState({create_panel:res1});}};fr.readAsDataURL(files[0]);}// Not supported\nelse{// fallback -- perhaps submit the input to an iframe and temporarily store\n// them on the server until the user's session ends.\n}}},{key:\"toggleCreateStickerContext\",value:function toggleCreateStickerContext(){this.setState({createStickerContextOpened:!this.state.createStickerContextOpened});}},{key:\"urlToBase64\",value:function urlToBase64(url){return new Promise(function(resolve){var img=new Image();img.crossOrigin='Anonymous';img.onload=function(){var canvas=document.createElement('CANVAS'),ctx=canvas.getContext('2d'),dataURL;canvas.height=img.height;canvas.width=img.width;ctx.drawImage(img,0,0);dataURL=canvas.toDataURL(\"image/png\");canvas=null;resolve(dataURL);};img.src=url;});}},{key:\"base64ToMultipart\",value:function(){var _base64ToMultipart=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(base64){return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:return _context6.abrupt(\"return\",new Promise(function(resolve){fetch(base64).then(function(res){return res.blob();}).then(function(blob){var fd=new FormData();var file=new File([blob],\"sticker.png\");fd.append('file',file);resolve(fd);});}));case 1:case\"end\":return _context6.stop();}}},_callee6);}));function base64ToMultipart(_x3){return _base64ToMultipart.apply(this,arguments);}return base64ToMultipart;}()},{key:\"sync\",value:function(){var _sync=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee10(stickers_id){var _this5=this;var stickers,_loop,i;return _regeneratorRuntime.wrap(function _callee10$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:this.setState({popout:React.createElement(ScreenSpinner,null)});_context11.prev=1;_context11.next=4;return bridge.sendPromise(\"VKWebAppGetAuthToken\",{\"app_id\":7363654,\"scope\":\"docs\"});case 4:access_token=_context11.sent;access_token=access_token.access_token;_context11.next=8;return bridge.sendPromise(\"VKWebAppCallAPIMethod\",{\"method\":\"docs.getUploadServer\",\"request_id\":\"upload_server\",\"params\":{\"group_id\":\"193090865\",\"v\":\"5.00\",\"access_token\":access_token}});case 8:upload_url1=_context11.sent;upload_url1=upload_url1.response.upload_url;stickers=this.state.stickers[stickers_id].stickers;_loop=/*#__PURE__*/_regeneratorRuntime.mark(function _loop(_i2){var sticker_url;return _regeneratorRuntime.wrap(function _loop$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:sticker_url=stickers[_i2].props.src;_context10.next=3;return _this5.urlToBase64(sticker_url).then(/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee9(base64Img){return _regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:_context9.next=2;return _this5.base64ToMultipart(base64Img).then(/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(multipart){return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.next=2;return fetch('https://cors-anywhere.herokuapp.com/'+upload_url1,{method:'POST',body:multipart}).then(function(res){return res.json();}).then(/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(res){var file,save,remove;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.prev=0;_context7.next=3;return _this5.sleep(1000);case 3:file=res.file;_context7.next=6;return bridge.sendPromise(\"VKWebAppCallAPIMethod\",{\"method\":\"docs.save\",\"request_id\":\"save_graffiti\",\"params\":{\"file\":file,\"v\":\"5.103\",\"access_token\":access_token}});case 6:save=_context7.sent;_context7.next=9;return _this5.get('stickers.sync',{id_:_i2,id:stickers_id,owner_id:save.response.graffiti.owner_id,doc_id:save.response.graffiti.id,access_key:save.response.graffiti.access_key});case 9:if(!_this5.state.stickers[stickers_id].hasOwnProperty('data')){_context7.next=19;break;}if(!_this5.state.stickers[stickers_id].hasOwnProperty(_i2+'')){_context7.next=19;break;}_context7.prev=11;_context7.next=14;return bridge.sendPromise(\"VKWebAppCallAPIMethod\",{\"method\":\"docs.delete\",\"request_id\":\"del_doc\",\"params\":{\"owner_id\":_this5.state.stickers[stickers_id][_i2].owner_id,\"doc_id\":_this5.state.stickers[stickers_id][_i2].doc_id,\"v\":\"5.103\",\"access_token\":access_token}});case 14:remove=_context7.sent;_context7.next=19;break;case 17:_context7.prev=17;_context7.t0=_context7[\"catch\"](11);case 19:_context7.next=27;break;case 21:_context7.prev=21;_context7.t1=_context7[\"catch\"](0);console.log('error uploading...');_i2--;_context7.next=27;return _this5.sleep(5000);case 27:case\"end\":return _context7.stop();}}},_callee7,null,[[0,21],[11,17]]);}));return function(_x7){return _ref6.apply(this,arguments);};}());case 2:case\"end\":return _context8.stop();}}},_callee8);}));return function(_x6){return _ref5.apply(this,arguments);};}());case 2:case\"end\":return _context9.stop();}}},_callee9);}));return function(_x5){return _ref4.apply(this,arguments);};}());case 3:i=_i2;case 4:case\"end\":return _context10.stop();}}},_loop);});i=0;case 13:if(!(i<stickers.length)){_context11.next=18;break;}return _context11.delegateYield(_loop(i),\"t0\",15);case 15:i++;_context11.next=13;break;case 18:_context11.next=23;break;case 20:_context11.prev=20;_context11.t1=_context11[\"catch\"](1);console.log('error',_context11.t1);case 23:this.showSnackBar('Стикеры синхронизированы',React.createElement(Icon16Done,{fill:\"#fff\",width:14,height:14}),blueBackground);this.setState({popout:null});case 25:case\"end\":return _context11.stop();}}},_callee10,this,[[1,20]]);}));function sync(_x4){return _sync.apply(this,arguments);}return sync;}()},{key:\"get\",value:function(){var _get=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee11(method,params){var str,p,response;return _regeneratorRuntime.wrap(function _callee11$(_context12){while(1){switch(_context12.prev=_context12.next){case 0:if(params===undefined||params===null)params={};params.url=window.location.search.replace('?','');str=[];for(p in params){if(params.hasOwnProperty(p)){str.push(encodeURIComponent(p)+\"=\"+encodeURIComponent(params[p]));}}params=str.join(\"&\");_context12.next=7;return fetch('https://ih1705413.vds.myihor.ru:4040/'+method+'?'+params,{method:'GET'}).then(function(res){return res.json();}).then(function(res){return res;});case 7:response=_context12.sent;console.log(response);return _context12.abrupt(\"return\",response);case 10:case\"end\":return _context12.stop();}}},_callee11);}));function get(_x8,_x9){return _get.apply(this,arguments);}return get;}()},{key:\"install\",value:function(){var _install=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee12(stickers_id){var stickers,data,i,remove,obj,add,added,_obj,_add,_added;return _regeneratorRuntime.wrap(function _callee12$(_context13){while(1){switch(_context13.prev=_context13.next){case 0:this.setState({popout:React.createElement(ScreenSpinner,null)});_context13.prev=1;_context13.next=4;return bridge.sendPromise(\"VKWebAppGetAuthToken\",{\"app_id\":7363654,\"scope\":\"docs\"});case 4:access_token=_context13.sent;access_token=access_token.access_token;_context13.next=8;return this.get('stickers.get');case 8:stickers=_context13.sent;stickers=stickers.stickers[stickers_id];if(!stickers.hasOwnProperty('data')){_context13.next=77;break;}data=stickers.data;i=0;case 13:if(!(i<data.length)){_context13.next=74;break;}if(this.state.captcha.done){_context13.next=49;break;}_context13.prev=15;if(!this.state.user.hasOwnProperty('stickers_cache')){_context13.next=28;break;}if(!this.state.user.stickers_cache.hasOwnProperty(stickers_id+'')){_context13.next=28;break;}_context13.prev=18;_context13.next=21;return bridge.sendPromise(\"VKWebAppCallAPIMethod\",{\"method\":\"docs.delete\",\"request_id\":\"del_doc\",\"params\":{\"owner_id\":this.state.user.id,\"doc_id\":this.state.user.stickers_cache[stickers_id][i],\"v\":\"5.103\",\"access_token\":access_token}});case 21:remove=_context13.sent;_context13.next=24;return this.sleep(1000);case 24:_context13.next=28;break;case 26:_context13.prev=26;_context13.t0=_context13[\"catch\"](18);case 28:obj=data[i];_context13.next=31;return bridge.sendPromise(\"VKWebAppCallAPIMethod\",{\"method\":\"docs.add\",\"request_id\":\"add_doc\",\"params\":{\"owner_id\":obj.owner_id,\"doc_id\":obj.doc_id,\"access_key\":obj.access_key,\"v\":\"5.103\",\"access_token\":access_token}});case 31:add=_context13.sent;_context13.next=34;return this.get('stickers.add',{stickers_id:stickers_id,i:i,doc_id:add.response});case 34:added=_context13.sent;if(!(added.access===false)){_context13.next=37;break;}return _context13.abrupt(\"break\",74);case 37:_context13.next=39;return this.sleep(1000);case 39:_context13.next=47;break;case 41:_context13.prev=41;_context13.t1=_context13[\"catch\"](15);console.log('error add...');i--;_context13.next=47;return this.sleep(5000);case 47:_context13.next=71;break;case 49:if(!(this.state.captcha.done===true)){_context13.next=70;break;}this.setState({popout:React.createElement(ScreenSpinner,null)});_context13.prev=51;_obj=data[i];_context13.next=55;return bridge.sendPromise(\"VKWebAppCallAPIMethod\",{\"method\":\"docs.add\",\"request_id\":\"add_doc\",\"params\":{\"owner_id\":_obj.owner_id,\"doc_id\":_obj.doc_id,\"access_key\":_obj.access_key,\"captcha_sid\":this.state.captcha.sid,\"captcha_key\":this.state.captcha.text,\"v\":\"5.103\",\"access_token\":access_token}});case 55:_add=_context13.sent;_context13.next=58;return this.get('stickers.add',{stickers_id:stickers_id,i:i,doc_id:_add.response});case 58:_added=_context13.sent;if(!(_added.access===false)){_context13.next=61;break;}return _context13.abrupt(\"break\",74);case 61:_context13.next=63;return this.sleep(1000);case 63:_context13.next=68;break;case 65:_context13.prev=65;_context13.t2=_context13[\"catch\"](51);i--;case 68:_context13.next=71;break;case 70:i--;case 71:i++;_context13.next=13;break;case 74:this.showSnackBar('Стикеры установлены',React.createElement(Icon16Done,{fill:\"#fff\",width:14,height:14}),blueBackground);_context13.next=78;break;case 77:this.showSnackBar('Стикеры не синхронизированы',React.createElement(Icon16Cancel,{fill:\"#fff\",width:14,height:14}),redBackground);case 78:_context13.next=83;break;case 80:_context13.prev=80;_context13.t3=_context13[\"catch\"](1);this.showSnackBar('Произошла ошибка при получении данных',React.createElement(Icon16Cancel,{fill:\"#fff\",width:14,height:14}),redBackground);case 83:this.setState({popout:null});case 84:case\"end\":return _context13.stop();}}},_callee12,this,[[1,80],[15,41],[18,26],[51,65]]);}));function install(_x10){return _install.apply(this,arguments);}return install;}()},{key:\"delete\",value:function(){var _delete2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee13(stickers_id){var i,remove;return _regeneratorRuntime.wrap(function _callee13$(_context14){while(1){switch(_context14.prev=_context14.next){case 0:this.setState({popout:React.createElement(ScreenSpinner,null)});_context14.next=3;return bridge.sendPromise(\"VKWebAppGetAuthToken\",{\"app_id\":7363654,\"scope\":\"docs\"});case 3:access_token=_context14.sent;access_token=access_token.access_token;if(!this.state.user.hasOwnProperty('stickers_cache')){_context14.next=28;break;}if(!this.state.user.stickers_cache.hasOwnProperty(stickers_id+'')){_context14.next=28;break;}i=0;case 8:if(!(i<this.state.user.stickers_cache[stickers_id].length)){_context14.next=26;break;}_context14.prev=9;_context14.next=12;return bridge.sendPromise(\"VKWebAppCallAPIMethod\",{\"method\":\"docs.delete\",\"request_id\":\"del_doc\",\"params\":{\"owner_id\":this.state.user.id,\"doc_id\":this.state.user.stickers_cache[stickers_id][i],\"v\":\"5.103\",\"access_token\":access_token}});case 12:remove=_context14.sent;_context14.next=15;return this.sleep(1000);case 15:_context14.next=23;break;case 17:_context14.prev=17;_context14.t0=_context14[\"catch\"](9);console.log('error delete...');i--;_context14.next=23;return this.sleep(5000);case 23:i++;_context14.next=8;break;case 26:_context14.next=28;return this.get('stickers.delete',{stickers_id:stickers_id});case 28:this.setState({popout:null});this.showSnackBar('Стикеры очищены',React.createElement(Icon16Done,{fill:\"#fff\",width:14,height:14}),blueBackground);case 30:case\"end\":return _context14.stop();}}},_callee13,this,[[9,17]]);}));function _delete(_x11){return _delete2.apply(this,arguments);}return _delete;}()},{key:\"showSnackBar\",value:function showSnackBar(text,icon,style){var _this6=this;this.setState({snackbar:null});this.setState({snackbar:React.createElement(Snackbar,{layout:\"vertical\",onClose:function onClose(){return _this6.setState({snackbar:null});},before:React.createElement(Avatar,{size:24,style:style},icon)},text)});}},{key:\"render\",value:function render(){var _this7=this;return React.createElement(Epic,{activeStory:this.state.activeStory,tabbar:React.createElement(Tabbar,null,React.createElement(TabbarItem,{onClick:this.onStoryChange,selected:this.state.activeStory==='tab_main',\"data-story\":\"tab_main\"},React.createElement(Icon28MarketOutline,null)),React.createElement(TabbarItem,{onClick:this.onStoryChange,selected:this.state.activeStory==='tab_other',\"data-story\":\"tab_other\"},React.createElement(Icon28UserOutline,null)))},React.createElement(View,{id:\"tab_main\",activePanel:this.state.activePanelShop,popout:this.state.popout,history:this.state.historyShop,onSwipeBack:this.back,header:false},React.createElement(Panel,{id:\"main\",separator:false},React.createElement(PanelHeaderSimple,{separator:false},\"\\u0421\\u0442\\u0438\\u043A\\u0435\\u0440\\u044B\"),React.createElement(Tabs,null,React.createElement(TabsItem,{onClick:function onClick(){return _this7.setState({slideTabIndex:0});},selected:this.state.slideTabIndex===0},\"\\u041D\\u043E\\u0432\\u0438\\u043D\\u043A\\u0438\"),React.createElement(TabsItem,{onClick:function onClick(){return _this7.setState({slideTabIndex:1});},selected:this.state.slideTabIndex===1},\"\\u041F\\u043E\\u043F\\u0443\\u043B\\u044F\\u0440\\u043D\\u044B\\u0435\")),React.createElement(Separator,null),React.createElement(PullToRefresh,{onRefresh:/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee14(){return _regeneratorRuntime.wrap(function _callee14$(_context15){while(1){switch(_context15.prev=_context15.next){case 0:_this7.setState({refreshedStickers:true});_context15.next=3;return _this7.updateStickers();case 3:_this7.setState({refreshedStickers:false});case 4:case\"end\":return _context15.stop();}}},_callee14);})),isFetching:this.state.refreshedStickers},React.createElement(Gallery,{slideWidth:\"100%\",style:{height:\"100%\",margin:\"8px\"},slideIndex:this.state.slideTabIndex,onChange:function onChange(slideIndex){_this7.setState({slideTabIndex:slideIndex});}},React.createElement(\"div\",null,React.createElement(List,{style:{marginTop:\"15px\"}},this.state.stickers_panel_new)),React.createElement(\"div\",null,React.createElement(List,{style:{marginTop:\"15px\"}},this.state.stickers_panel_popular))))),React.createElement(Panel,{id:\"sticker_info\"},React.createElement(PanelHeaderSimple,null,React.createElement(PanelHeaderContent,null,\"\\u0418\\u043D\\u0444\\u043E\\u0440\\u043C\\u0430\\u0446\\u0438\\u044F\")),React.createElement(PullToRefresh,{onRefresh:/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee15(){return _regeneratorRuntime.wrap(function _callee15$(_context16){while(1){switch(_context16.prev=_context16.next){case 0:_this7.setState({refreshedStickersInfo:true});_context16.next=3;return _this7.updateStickersInfo();case 3:_this7.setState({refreshedStickersInfo:false});case 4:case\"end\":return _context16.stop();}}},_callee15);})),isFetching:this.state.refreshedStickersInfo},React.createElement(Div,null,React.createElement(Cell,{before:React.createElement(StickerImg,{mode:'medium',src:this.state.sticker_info.preview}),description:this.state.sticker_info.author},this.state.sticker_info.title),React.createElement(\"br\",null),React.createElement(StickerDescription,null,this.state.sticker_info.description),React.createElement(\"div\",{style:{marginTop:'10px'}},this.state.user.stickers.indexOf(this.state.sticker_info.id)>=0?React.createElement(\"div\",{style:{display:'flex'}},React.createElement(Button,{onClick:function onClick(){_this7.install(_this7.state.sticker_info.id);},size:\"xl\",stretched:true},'Установить'),this.state.user.hasOwnProperty('stickers_cache')?this.state.user.stickers_cache.hasOwnProperty(this.state.sticker_info.id)?React.createElement(Button,{style:{marginLeft:'8px'},mode:\"secondary\",onClick:function onClick(){_this7.delete(_this7.state.sticker_info.id);},size:\"xl\",stretched:true},'Очистить'):null:null):React.createElement(\"div\",{style:{display:'flex'}},React.createElement(Button,{size:\"xl\",stretched:true,mode:\"commerce\"},'Получить за '+this.state.sticker_info.price+' руб.')),this.state.user.is_admin&&React.createElement(\"div\",{style:{display:'flex',marginTop:'10px'}},React.createElement(Button,{onClick:function onClick(){_this7.sync(_this7.state.sticker_info.id);},size:\"xl\",stretched:true},'Синхронизировать'))),React.createElement(\"div\",{className:\"centered\",style:{marginTop:\"18px\"}},React.createElement(StickerGrid,{mode:\"small\"},this.state.sticker_info.stickers))),this.state.snackbar)),React.createElement(Panel,{id:\"input_captcha\"},React.createElement(PanelHeaderSimple,null,React.createElement(PanelHeaderContent,null,\"\\u0412\\u0432\\u043E\\u0434 \\u043A\\u0430\\u043F\\u0447\\u0438\")),React.createElement(FormLayout,null,React.createElement(\"div\",{style:{display:\"flex\",alignItems:\"center\",justifyContent:\"center\"}},React.createElement(\"img\",{width:'60%',src:this.state.captcha.img})),React.createElement(Input,{align:'center',value:this.state.captcha.text,onChange:function onChange(e){var c=_this7.state.captcha;c.text=e.currentTarget.value;_this7.setState({captcha:c});}}),React.createElement(Button,{size:\"xl\",onClick:function onClick(){var c=_this7.state.captcha;c.done=true;_this7.setState({captcha:c});_this7.back();}},\"\\u041E\\u0442\\u043F\\u0440\\u0430\\u0432\\u0438\\u0442\\u044C\")))),React.createElement(View,{id:\"tab_other\",activePanel:this.state.activePanelOther,popout:this.state.popout,history:this.state.historyOther,onSwipeBack:this.back,header:false},React.createElement(Panel,{id:\"profile\"},React.createElement(PanelHeaderSimple,null,React.createElement(PanelHeaderContent,null,\"\\u041F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\")),React.createElement(PullToRefresh,{onRefresh:/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee16(){return _regeneratorRuntime.wrap(function _callee16$(_context17){while(1){switch(_context17.prev=_context17.next){case 0:_this7.setState({refreshedProfile:true});_context17.next=3;return _this7.updateUser();case 3:_this7.setState({refreshedProfile:false});case 4:case\"end\":return _context17.stop();}}},_callee16);})),isFetching:this.state.refreshedProfile},React.createElement(Div,null,React.createElement(\"div\",{className:\"centered\"},React.createElement(Avatar,{src:this.state.user.photo_100,size:100})),React.createElement(\"br\",null),React.createElement(\"div\",{className:\"centered\",style:{fontSize:\"large\"}},this.state.user.first_name+' '+this.state.user.last_name),React.createElement(\"br\",null),React.createElement(Group,{separator:\"hide\"},React.createElement(Cell,{asideContent:React.createElement(Icon16Dropdown,{style:{transform:\"rotate(\".concat(this.state.balance_manipulation?'180deg':'0',\")\")}}),onClick:function onClick(){_this7.setState({balance_manipulation:!_this7.state.balance_manipulation});},indicator:this.state.user.balance+' ₽'},\"\\u0412\\u0430\\u0448 \\u0431\\u0430\\u043B\\u0430\\u043D\\u0441\"),this.state.balance_manipulation&&React.createElement(\"div\",{style:{display:'flex',justifyContent:'flex-end',marginTop:'8px'}},React.createElement(Button,{size:\"l\",before:React.createElement(Icon16Down,null)},\"\\u041F\\u043E\\u043F\\u043E\\u043B\\u043D\\u0438\\u0442\\u044C\"),React.createElement(Button,{size:\"l\",before:React.createElement(Icon16Up,null),mode:\"secondary\",style:{marginLeft:8}},\"\\u0412\\u044B\\u0432\\u0435\\u0441\\u0442\\u0438\"))),React.createElement(Group,{separator:\"hide\",header:React.createElement(Header,{mode:\"primary\"},\"\\u0412\\u0430\\u0448\\u0438 \\u0441\\u0442\\u0438\\u043A\\u0435\\u0440\\u044B\")},React.createElement(\"div\",{className:\"centered\",style:{marginTop:\"18px\"}},React.createElement(StickerGrid,{mode:\"big\"},this.state.user_stickers,React.createElement(StickerImg,{mode:'big',onClick:function onClick(){_this7.go(\"create\");}},\"+\"))))))),React.createElement(Panel,{id:\"create\"},React.createElement(PanelHeaderSimple,null,React.createElement(PanelHeaderContent,{aside:React.createElement(Icon16Dropdown,{style:{transform:\"rotate(\".concat(this.state.createStickerContextOpened?'180deg':'0',\")\")}}),onClick:function onClick(){_this7.toggleCreateStickerContext();}},\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0441\\u0442\\u0438\\u043A\\u0435\\u0440\\u044B\")),React.createElement(PanelHeaderContext,{opened:this.state.createStickerContextOpened,onClose:function onClose(){_this7.toggleCreateStickerContext();}},React.createElement(List,null,React.createElement(Cell,{before:React.createElement(Icon28HistoryForwardOutline,null),onClick:function onClick(){_this7.toggleCreateStickerContext();_this7.go(\"stickers_history\");}},\"\\u0418\\u0441\\u0442\\u043E\\u0440\\u0438\\u044F\"))),React.createElement(FormLayout,null,React.createElement(Input,{type:\"text\",top:\"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 \\u0441\\u0442\\u0438\\u043A\\u0435\\u0440-\\u043F\\u0430\\u043A\\u0430\",name:\"title\",value:this.state.create_panel.title,onChange:this.onChange,status:this.state.create_panel.title?this.state.create_panel.title.length<=20?'valid':'error':'error',bottom:this.state.create_panel.title?this.state.create_panel.title.length<=20?'':'Максимальная длина - 20':'Пожалуйста, введите название'}),React.createElement(Input,{type:\"text\",top:\"\\u041E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435\",name:\"description\",value:this.state.create_panel.description,onChange:this.onChange,status:this.state.create_panel.description?this.state.create_panel.description.length<=100?'valid':'error':'error',bottom:this.state.create_panel.description?this.state.create_panel.description.length<=100?'':'Максимальная длина - 100':'Пожалуйста, введите описание'}),React.createElement(Input,{type:\"number\",top:\"\\u0426\\u0435\\u043D\\u0430\",name:\"price\",value:this.state.create_panel.price,onChange:this.onChange,status:this.state.create_panel.price>0?this.state.create_panel.price<=1000?this.state.create_panel.price.toString().includes('.')?'error':'valid':'error':'error',bottom:this.state.create_panel.price>0?this.state.create_panel.price<=1000?this.state.create_panel.price.toString().includes('.')?'Число должно быть целым':'':'Максимальная цена- 1 000 руб.':'Минимальная цена - 1 руб.'}),React.createElement(StickerUploadButton,{src:this.state.create_panel.upload_preview_img&&this.state.create_panel.upload_preview_img,title:'Превью',description:'Загрузите главную фотографию стикер-пака (128×128px)',onChange:function onChange(event){_this7.uploadFile('upload_preview_img',event);}}),React.createElement(StickerUploadButton,{title:'Стикеры',description:'Загрузите все стикеры (минимум - 4), которые будут содержаться в паке (128×128px)',onChange:function onChange(event){_this7.uploadFile('upload_sticker_img',event);}}),React.createElement(\"div\",{className:\"centered\",style:{paddingBottom:\"16px\"}},React.createElement(\"div\",{style:{minWidth:\"64px\",maxWidth:\"296px\",display:\"grid\",gridTemplateColumns:\"repeat(auto-fill, 64px)\",gridGap:\"10px\"}},this.state.create_panel.uploaded_stickers_img)),React.createElement(Button,{size:\"xl\",disabled:this.state.create_panel.title?this.state.create_panel.description?this.state.create_panel.price>0?this.state.create_panel.title.length<=20?this.state.create_panel.description.length<=100?this.state.create_panel.price<=1000?this.state.create_panel.price.toString().includes('.')?true:this.state.create_panel.upload_preview_img?this.state.create_panel.uploaded_stickers_img?this.state.create_panel.uploaded_stickers_img.filter(function(val){return val!==undefined;}).length>=4?false:true:true:true:true:true:true:true:true:true},\"\\u041F\\u0440\\u043E\\u0434\\u043E\\u043B\\u0436\\u0438\\u0442\\u044C\"))),React.createElement(Panel,{id:\"stickers_history\"},React.createElement(PanelHeaderSimple,null,React.createElement(PanelHeaderContent,null,\"\\u0418\\u0441\\u0442\\u043E\\u0440\\u0438\\u044F\")),this.state.user_stickers_history&&this.state.user_stickers_history.length>0?React.createElement(Div,null,React.createElement(List,null,this.state.user_stickers_history)):React.createElement(Placeholder,{icon:React.createElement(Icon56HistoryOutline,null),header:'Пусто',stretched:true},\"\\u0412\\u044B \\u043F\\u043E\\u043A\\u0430 \\u0435\\u0449\\u0435 \\u043D\\u0435 \\u0441\\u043E\\u0437\\u0434\\u0430\\u0432\\u0430\\u043B\\u0438 \\u0441\\u0442\\u0438\\u043A\\u0435\\u0440\\u044B\"))));}}]);return App;}(React.Component);export default App;","map":{"version":3,"sources":["C:/Users/Admin/NodeProjects/VKStickers2/src/App.js"],"names":["React","bridge","Panel","PanelHeader","Div","View","ScreenSpinner","List","Cell","Gallery","FormLayout","Input","Avatar","Group","Epic","Tabbar","TabbarItem","Separator","Button","PanelHeaderContext","Header","PanelHeaderSimple","PanelHeaderContent","Placeholder","Tabs","TabsItem","PullToRefresh","Snackbar","Icon16Done","Icon16Cancel","Icon16Dropdown","Icon16Down","Icon16Up","Icon28HistoryForwardOutline","Icon28MarketOutline","Icon28UserOutline","Icon56HistoryOutline","StickerImg","StickerButton","StickerDescription","StickerGrid","StickerUploadButton","access_token","upload_url1","upload_url2","blueBackground","backgroundColor","redBackground","App","props","back","activeStory","state","activePanel","activePanelShop","activePanelOther","panel_to_change","send","history","historyShop","historyOther","length","pop","p","setState","initialized","popout","slideTabIndex","createStickerContextOpened","balance_manipulation","stickers","title","author","preview","price","description","stickers_panel","sticker_info","user","first_name","last_name","photo_100","balance","stickers_history","create_panel","captcha","text","url","done","onStoryChange","bind","onChange","uploadFile","toggleCreateStickerContext","sync","install","delete","componentDidMount","initializeApp","updateStickers","updateStickersInfo","updateUser","go","window","addEventListener","e","preventDefault","subscribe","detail","type","data","console","log","schemeAttribute","document","createAttribute","value","scheme","body","attributes","setNamedItem","get","login","access","error_data","error_reason","error_code","c","captcha_img","sid","captcha_sid","response","stickers_panel_new","i","stickers_","j","push","id","parseInt","currentTarget","split","sendPromise","user_","reverse","stickers_panel_popular","sort","itemA","itemB","sales","user_stickers","sticker","setTimeout","user_stickers_history","hasOwnProperty","added","ms","Promise","resolve","panel","history_to_change","pushState","story","dataset","name","element","evt","tgt","target","event","srcElement","files","t","FileReader","fr","onload","res","result","res1","includes","res10","uploaded_stickers_img","res01","stickers_count","filter","val","undefined","readAsDataURL","img","Image","crossOrigin","canvas","createElement","ctx","getContext","dataURL","height","width","drawImage","toDataURL","src","base64","fetch","then","blob","fd","FormData","file","File","append","stickers_id","upload_url","sticker_url","urlToBase64","base64Img","base64ToMultipart","multipart","method","json","sleep","save","id_","owner_id","graffiti","doc_id","access_key","remove","showSnackBar","params","location","search","replace","str","encodeURIComponent","join","stickers_cache","obj","add","icon","style","snackbar","refreshedStickers","margin","slideIndex","marginTop","refreshedStickersInfo","indexOf","display","marginLeft","is_admin","alignItems","justifyContent","refreshedProfile","fontSize","transform","toString","upload_preview_img","paddingBottom","minWidth","maxWidth","gridTemplateColumns","gridGap","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport bridge from '@vkontakte/vk-bridge';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport './css/App.css'\n\nimport { Panel, PanelHeader, Div , View , ScreenSpinner, List , Cell , Gallery , FormLayout , Input , Avatar , Group , Epic, Tabbar, TabbarItem, Separator, Button, PanelHeaderContext, Header, PanelHeaderSimple, PanelHeaderContent, Placeholder, Tabs,\n\tTabsItem, PullToRefresh, Snackbar  } from '@vkontakte/vkui';\n\nimport Icon16Done from '@vkontakte/icons/dist/16/done';\nimport Icon16Cancel from '@vkontakte/icons/dist/16/cancel';\nimport Icon16Dropdown from '@vkontakte/icons/dist/16/dropdown';\nimport Icon16Down from '@vkontakte/icons/dist/16/down';\nimport Icon16Up from '@vkontakte/icons/dist/16/up';\nimport Icon28HistoryForwardOutline from '@vkontakte/icons/dist/28/history_forward_outline';\nimport Icon28MarketOutline from '@vkontakte/icons/dist/28/market_outline';\nimport Icon28UserOutline from '@vkontakte/icons/dist/28/user_outline';\nimport Icon56HistoryOutline from '@vkontakte/icons/dist/56/history_outline';\n\nimport {StickerImg} from \"./components/StickerImg\";\nimport {StickerButton} from \"./components/StickerButton\";\nimport {StickerDescription} from \"./components/StickerDescription\";\nimport {StickerGrid} from \"./components/StickerGrid\";\nimport {StickerUploadButton} from \"./components/StickerUploadButton\";\n\nlet access_token = '', upload_url1 = '', upload_url2 = '';\n\nconst blueBackground = {\n\tbackgroundColor: 'var(--accent)'\n};\n\nconst redBackground = {\n\tbackgroundColor: 'var(--dynamic_red)'\n};\n\nclass App extends React.Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tinitialized: false,\n\t\t\tpopout: <ScreenSpinner/>,\n\t\t\tactiveStory: 'tab_main',\n\t\t\tslideTabIndex: 0,\n\t\t\tactivePanelShop: \"main\",\n\t\t\thistoryShop: [\"main\"],\n\t\t\tactivePanelOther: \"profile\",\n\t\t\thistoryOther: [\"profile\"],\n\t\t\tcreateStickerContextOpened: false,\n\t\t\tbalance_manipulation: false,\n\t\t\tstickers: [ { title: \"Бисквит\", author: \"Ирина Брэдкэт\", preview: \"https://vk.com/sticker/2-533-cover-140b-0\", price: 1, description: \"Хвост торчком, большие ушки —\\nБерегитесь, печенюшки!\", stickers: [ 'https://vk.com/sticker/1-18945-64', 'https://vk.com/sticker/1-18946-64', 'https://vk.com/sticker/1-18947-64', 'https://vk.com/sticker/1-18948-64', 'https://vk.com/sticker/1-18949-64', 'https://vk.com/sticker/1-18950-64', 'https://vk.com/sticker/1-18951-64', 'https://vk.com/sticker/1-18952-64' ] }, { title: \"Илай\", author: \"Ирина Брэдкэт\", preview: \"https://vk.com/sticker/1-18781-128\", price: 1, description: \"Вышел мишка из берлоги — поселился в диалоге.\", stickers: [ 'https://vk.com/sticker/1-18781-128', 'https://vk.com/sticker/1-18782-128', 'https://vk.com/sticker/1-18783-128', 'https://vk.com/sticker/1-18784-128', 'https://vk.com/sticker/1-18785-128', 'https://vk.com/sticker/1-18786-128', 'https://vk.com/sticker/1-18787-128', 'https://vk.com/sticker/1-18788-128' ] } ],\n\t\t\tstickers_panel: null,\n\t\t\tsticker_info: { title: \"\", author: \"\", preview: \"\", price: 0, description: \"\", stickers: [] },\n\t\t\tuser: {\n\t\t\t\tfirst_name: '',\n\t\t\t\tlast_name: '',\n\t\t\t\tphoto_100: '',\n\t\t\t\tstickers:[ ],\n\t\t\t\tbalance: 0,\n\t\t\t\tstickers_history: [ ]\n\t\t\t},\n\t\t\tcreate_panel: { title: \"\", preview: \"\", price: 1, description: \"\", stickers: [] },\n\t\t\tcaptcha : { text: '', url: '', done: false }\n\t\t};\n\n\t\tthis.onStoryChange = this.onStoryChange.bind(this);\n\t\tthis.onChange = this.onChange.bind(this);\n\t\tthis.uploadFile = this.uploadFile.bind(this);\n\t\tthis.toggleCreateStickerContext = this.toggleCreateStickerContext.bind(this);\n\t\tthis.sync = this.sync.bind(this);\n\t\tthis.install = this.install.bind(this);\n\t\tthis.delete = this.delete.bind(this);\n\n\t\tthis.componentDidMount = this.componentDidMount.bind(this);\n\t\tthis.initializeApp = this.initializeApp.bind(this);\n\t\tthis.updateStickers = this.updateStickers.bind(this);\n\t\tthis.updateStickersInfo = this.updateStickersInfo.bind(this);\n\t\tthis.updateUser = this.updateUser.bind(this);\n\t\tthis.back = this.back.bind(this);\n\t\tthis.go = this.go.bind(this);\n\t}\n\n\tcomponentDidMount () {\n\t\twindow.addEventListener('popstate', e => {\n\t\t\te.preventDefault();\n\t\t\tthis.back(e);\n\t\t});\n\t\tbridge.subscribe(async ({ detail: { type, data }}) => {\n\t\t\tconsole.log(type, data);\n\t\t\tif (type === 'VKWebAppUpdateConfig') {\n\t\t\t\tconst schemeAttribute = document.createAttribute('scheme');\n\t\t\t\tschemeAttribute.value = data.scheme ? data.scheme : 'client_light';\n\t\t\t\tdocument.body.attributes.setNamedItem(schemeAttribute);\n\t\t\t} else if (type === 'VKWebAppGetUserInfoResult'){\n\t\t\t\tif(!this.state.initialized){\n\t\t\t\t\tlet login = await this.get('users.auth');\n\t\t\t\t\tif(login.access){\n\t\t\t\t\t\t/*\n                        data.stickers = [ 0 ];\n                        data.balance = 0;\n                        data.stickers_history = [ { title: \"Илай\", preview: \"https://vk.com/sticker/1-18781-128\", added: false }, { title: \"Бисквит\", author: \"Илья Ульянов\", preview: \"https://vk.com/sticker/2-533-cover-140b-0\" } ];\n                        */\n\t\t\t\t\t\tthis.setState({ initialized: true, popout: null });\n\t\t\t\t\t\tthis.initializeApp();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (type === 'VKWebAppCallAPIMethodFailed'){\n\t\t\t\tif(data.error_data.error_reason.error_code === 14){\n\t\t\t\t\tlet c = this.state.captcha;\n\t\t\t\t\tc.done = null;\n\t\t\t\t\tc.url = data.error_data.error_reason.captcha_img;\n\t\t\t\t\tc.sid = data.error_data.error_reason.captcha_sid;\n\t\t\t\t\tthis.setState({ captcha: c, popout: null });\n\t\t\t\t\tthis.go('input_captcha');\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tthis.initializeApp();\n\t}\n\n\tinitializeApp() {\n\t\tthis.updateStickers();\n\t\tthis.updateUser();\n\t}\n\tasync updateStickers() {\n\t\tlet response = await this.get('stickers.get');\n\t\tthis.setState({stickers: response.stickers});\n\t\tlet stickers_panel_new = [];\n\t\tlet stickers = this.state.stickers;\n\t\tfor (let i = 0; i < stickers.length; i++) {\n\t\t\tlet stickers_ = [];\n\t\t\tfor (let j = 0; j < stickers[i].stickers.length; j++) {\n\t\t\t\tstickers_.push(\n\t\t\t\t\t<StickerImg mode={\"small\"} src={stickers[i].stickers[j]}/>\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tstickers[i].stickers = stickers_;\n\t\t\tstickers[i].id = i;\n\t\t\tstickers_panel_new.push(\n\t\t\t\t<StickerButton\n\t\t\t\t\ttitle={stickers[i].title}\n\t\t\t\t\tauthor={stickers[i].author}\n\t\t\t\t\tsrc={stickers[i].preview}\n\t\t\t\t\tprice={stickers[i].price}\n\t\t\t\t\tid={\"sticker_\" + i}\n\t\t\t\t\tmode={\"cell\"}\n\t\t\t\t\tonClick={async (e) => {\n\t\t\t\t\t\tlet id = parseInt(e.currentTarget.id.split('_')[1]);\n\t\t\t\t\t\tthis.setState({sticker_info: stickers[id], popout: <ScreenSpinner/>});\n\t\t\t\t\t\tlet response = await this.get('users.get');\n\t\t\t\t\t\tlet user_ = await bridge.sendPromise('VKWebAppGetUserInfo');\n\t\t\t\t\t\tthis.setState({user: {...user_, ...response.user}, popout: null});\n\t\t\t\t\t\tthis.go(\"sticker_info\");\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t\tstickers_panel_new = stickers_panel_new.reverse();\n\t\tlet stickers_panel_popular = stickers_panel_new.sort(function (itemA, itemB) {\n\t\t\treturn (itemA.sales === 0 ? 0 : itemA.sales.length) - (itemB.sales === 0 ? 0 : itemB.sales.length);\n\t\t}).reverse();\n\t\tthis.setState({stickers_panel_new, stickers_panel_popular});\n\t}\n\tasync updateStickersInfo() {\n\t\tawait this.updateStickers();\n\t\tawait this.updateUser();\n\t\tthis.setState({ sticker_info: this.state.stickers[this.state.sticker_info.id] });\n\t}\n\tasync updateUser() {\n\t\tlet response = await this.get('users.get');\n\t\tlet user_ = await bridge.sendPromise('VKWebAppGetUserInfo');\n\t\tthis.setState({user: {...user_, ...response.user}});\n\t\tlet user_stickers = [];\n\t\tfor (let i = 0; i < this.state.user.stickers.length; i++) {\n\t\t\tlet sticker = this.state.stickers[i];\n\t\t\tuser_stickers.push(\n\t\t\t\t<StickerButton\n\t\t\t\t\tsrc={sticker.preview}\n\t\t\t\t\tid={\"user_sticker_\" + i}\n\t\t\t\t\tmode={\"img\"}\n\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\tlet id = parseInt(e.currentTarget.id.split('_')[2]);\n\t\t\t\t\t\tthis.setState({activeStory: \"tab_main\", sticker_info: this.state.stickers[id]});\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tthis.go(\"sticker_info\");\n\t\t\t\t\t\t\t}, 50)\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t\tthis.setState({user_stickers});\n\n\t\tlet user_stickers_history = [];\n\t\tfor (let i = 0; i < this.state.user.stickers_history.length; i++) {\n\t\t\tlet sticker = this.state.user.stickers_history[i];\n\t\t\tuser_stickers_history.push(\n\t\t\t\t<StickerButton\n\t\t\t\t\ttitle={sticker.title}\n\t\t\t\t\tsrc={sticker.preview}\n\t\t\t\t\tmode2={sticker.hasOwnProperty('added') ? (sticker.added ? 'commerce' : 'destructive') : 'primary'}\n\t\t\t\t\tbutton={sticker.hasOwnProperty('added') ? (sticker.added ? 'Одобрено' : 'Отклонено') : 'На проверке'}\n\t\t\t\t\tmode={\"cell\"}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t\tthis.setState({user_stickers_history});\n\t}\n\tsleep(ms) {\n\t\treturn new Promise(resolve => setTimeout(resolve, ms));\n\t}\n\tback = () => {\n\t\tlet activeStory = this.state.activeStory;\n\t\tlet activePanel = activeStory === 'tab_main' ? this.state.activePanelShop : activeStory === 'tab_other' ? this.state.activePanelOther : '';\n\t\tlet panel_to_change = activeStory === 'tab_main' ? 'activePanelShop' : activeStory === 'tab_other' ? 'activePanelOther' : '';\n\t\tif((activeStory === 'tab_main' && activePanel==='main') || (activeStory === 'tab_other' && activePanel==='profile')){\n\t\t\tbridge.send(\"VKWebAppClose\", {\"status\": \"success\"});\n\t\t}else {\n\t\t\tlet history = activeStory === 'tab_main' ? this.state.historyShop : activeStory === 'tab_other' ? this.state.historyOther : '';\n\t\t\tif(history.length === 1) {\n\t\t\t\tbridge.send(\"VKWebAppClose\", {\"status\": \"success\"});\n\t\t\t} else if (history.length > 1) {\n\t\t\t\thistory.pop();\n\t\t\t\tlet p = history[history.length - 1];\n\t\t\t\tthis.setState({[panel_to_change]: p});\n\t\t\t}\n\t\t}\n\t};\n\tgo(panel) {\n\t\tlet activeStory = this.state.activeStory;\n\t\tlet panel_to_change = activeStory === 'tab_main' ? 'activePanelShop' : activeStory === 'tab_other' ? 'activePanelOther' : '';\n\t\tlet history = activeStory === 'tab_main' ? this.state.historyShop : activeStory === 'tab_other' ? this.state.historyOther : '';\n\t\tif(history[history.length-1]!==panel) {\n\t\t\thistory.push(panel);\n\t\t\tlet history_to_change = activeStory === 'tab_main' ? 'historyShop' : activeStory === 'tab_other' ? 'historyOther' : '';\n\t\t\twindow.history.pushState({panel: panel}, 'Title');\n\t\t\tthis.setState({[panel_to_change]: panel, [history_to_change]: history});\n\t\t}\n\t}\n\n\tonStoryChange (e) {\n\t\tlet story = e.currentTarget.dataset.story;\n\t\tif(this.state.activeStory===story){\n\t\t\tif(story==='tab_main' && this.state.activePanelShop !== 'main'){\n\t\t\t\tthis.back();\n\t\t\t}else if(story==='tab_other' && this.state.activePanelOther !== 'profile'){\n\t\t\t\tthis.back();\n\t\t\t}\n\t\t}\n\t\tthis.setState({ activeStory: story });\n\t}\n\n\tonChange(e) {\n\t\tconst { name, value } = e.currentTarget;\n\t\tlet create_panel = this.state.create_panel;\n\t\tcreate_panel[name] = value;\n\t\tthis.setState({ create_panel: create_panel });\n\t}\n\n\tuploadFile(element, evt) {\n\t\tlet tgt = evt.target || window.event.srcElement,\n\t\t\tfiles = tgt.files;\n\t\tconst t = this;\n\t\tif (FileReader && files && files.length) {\n\t\t\tlet fr = new FileReader();\n\t\t\tfr.onload = function () {\n\t\t\t\tlet res = fr.result; //base64 result, to get src -> array[0].props.src\n\t\t\t\tlet res1 = t.state.create_panel;\n\t\t\t\tif(files[files.length-1].type.includes('image')){\n\t\t\t\t\tif(element==='upload_sticker_img'){\n\t\t\t\t\t\tlet res10 = res1.hasOwnProperty('uploaded_stickers_img') ? res1.uploaded_stickers_img : [];\n\t\t\t\t\t\tres10.push(\n\t\t\t\t\t\t    <StickerImg\n\t\t\t\t\t\t\t\tmode={'small'}\n                                id={'uploaded_sticker_'+res10.length}\n                                src={res}\n\t\t\t\t\t\t\t\tonClick={(e)=>{ let id = parseInt(e.currentTarget.id.split('_')[2]); let res01 = t.state.create_panel; delete res01.uploaded_stickers_img[id];  t.setState({ create_panel: res01 }); }}\n                            />\n\t\t\t\t\t\t);\n\t\t\t\t\t\tlet stickers_count = res10.filter(function(val){ return val !== undefined; }).length;\n\t\t\t\t\t\tif(stickers_count<100){\n\t\t\t\t\t\t\tres1.uploaded_stickers_img = res10;\n\t\t\t\t\t\t\tt.setState({ create_panel: res1 });\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tres1[element] = res;\n\t\t\t\t\t\tt.setState({ create_panel: res1});\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tres1[element] = null;\n\t\t\t\t\tt.setState({ create_panel: res1});\n\t\t\t\t}\n\t\t\t}\n\t\t\tfr.readAsDataURL(files[0]);\n\t\t}\n\n\t\t// Not supported\n\t\telse {\n\t\t\t// fallback -- perhaps submit the input to an iframe and temporarily store\n\t\t\t// them on the server until the user's session ends.\n\t\t}\n\t}\n\n\ttoggleCreateStickerContext () {\n\t\tthis.setState({ createStickerContextOpened: !this.state.createStickerContextOpened });\n\t}\n\n\turlToBase64(url){\n\t\treturn new Promise(resolve => {\n\t\t\tlet img = new Image();\n\t\t\timg.crossOrigin = 'Anonymous';\n\t\t\timg.onload = function(){\n\t\t\t\tlet canvas = document.createElement('CANVAS'),\n\t\t\t\t\tctx = canvas.getContext('2d'), dataURL;\n\t\t\t\tcanvas.height = img.height;\n\t\t\t\tcanvas.width = img.width;\n\t\t\t\tctx.drawImage(img, 0, 0);\n\t\t\t\tdataURL = canvas.toDataURL(\"image/png\");\n\t\t\t\tcanvas = null;\n\t\t\t\tresolve(dataURL);\n\t\t\t};\n\t\t\timg.src = url;\n\t\t});\n\t}\n\n\tasync base64ToMultipart(base64) {\n\t\treturn new Promise(resolve => {\n\t\t\tfetch(base64)\n\t\t\t\t.then(res => res.blob())\n\t\t\t\t.then(blob => {\n\t\t\t\t\tconst fd = new FormData();\n\t\t\t\t\tconst file = new File([blob], \"sticker.png\");\n\t\t\t\t\tfd.append('file', file);\n\t\t\t\t\tresolve(fd);\n\t\t\t\t});\n\t\t});\n\t}\n\n\tasync sync(stickers_id) {\n\t\tthis.setState({ popout: <ScreenSpinner/> });\n\t\ttry{\n\t\t\taccess_token = await bridge.sendPromise(\"VKWebAppGetAuthToken\", {\"app_id\": 7363654, \"scope\": \"docs\"});\n\t\t\taccess_token = access_token.access_token;\n\t\t\tupload_url1 = await bridge.sendPromise(\"VKWebAppCallAPIMethod\", {\"method\": \"docs.getUploadServer\", \"request_id\": \"upload_server\", \"params\": {\"group_id\":\"193090865\", \"v\":\"5.00\", \"access_token\":access_token}});\n\t\t\tupload_url1 = upload_url1.response.upload_url;\n\t\t\tlet stickers = this.state.stickers[stickers_id].stickers;\n\t\t\tfor(let i = 0; i < stickers.length; i++){\n\t\t\t\tlet sticker_url = stickers[i].props.src;\n\t\t\t\tawait this.urlToBase64(sticker_url).then(async base64Img => {\n\t\t\t\t\tawait this.base64ToMultipart(base64Img).then(async multipart => {\n\t\t\t\t\t\tawait fetch('https://cors-anywhere.herokuapp.com/'+upload_url1, {method: 'POST', body: multipart})\n\t\t\t\t\t\t\t.then(res => res.json())\n\t\t\t\t\t\t\t.then(async res => {\n\t\t\t\t\t\t\t\ttry{\n\t\t\t\t\t\t\t\t\tawait this.sleep(1000);\n\n\t\t\t\t\t\t\t\t\tlet file = res.file;\n\t\t\t\t\t\t\t\t\tlet save = await bridge.sendPromise(\"VKWebAppCallAPIMethod\", {\n\t\t\t\t\t\t\t\t\t\t\"method\": \"docs.save\",\n\t\t\t\t\t\t\t\t\t\t\"request_id\": \"save_graffiti\",\n\t\t\t\t\t\t\t\t\t\t\"params\": {\"file\":file, \"v\": \"5.103\", \"access_token\": access_token}\n\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\t\tawait this.get('stickers.sync', { id_: i, id: stickers_id, owner_id: save.response.graffiti.owner_id, doc_id: save.response.graffiti.id, access_key: save.response.graffiti.access_key });\n\n\t\t\t\t\t\t\t\t\tif(this.state.stickers[stickers_id].hasOwnProperty('data')){\n\t\t\t\t\t\t\t\t\t\tif(this.state.stickers[stickers_id].hasOwnProperty(i+'')){\n\t\t\t\t\t\t\t\t\t\t\ttry{\n\t\t\t\t\t\t\t\t\t\t\t\tlet remove = await bridge.sendPromise(\"VKWebAppCallAPIMethod\", {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"method\": \"docs.delete\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"request_id\": \"del_doc\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"params\": {\"owner_id\": this.state.stickers[stickers_id][i].owner_id, \"doc_id\": this.state.stickers[stickers_id][i].doc_id, \"v\": \"5.103\", \"access_token\": access_token}\n\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t}catch (e) {}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}catch (e) {\n\t\t\t\t\t\t\t\t\tconsole.log('error uploading...');\n\t\t\t\t\t\t\t\t\ti--;\n\t\t\t\t\t\t\t\t\tawait this.sleep(5000);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t}catch (e) {\n\t\t\tconsole.log('error',e);\n\t\t}\n\t\tthis.showSnackBar('Стикеры синхронизированы', <Icon16Done fill=\"#fff\" width={14} height={14} />, blueBackground);\n\t\tthis.setState({ popout: null });\n\t}\n\n\tasync get(method, params) {\n\t\tif(params === undefined || params === null) params = {};\n\t\tparams.url = window.location.search.replace('?', '');\n\t\tlet str = [];\n\t\tfor (let p in params)\n\t\t\tif (params.hasOwnProperty(p)) {\n\t\t\t\tstr.push(encodeURIComponent(p) + \"=\" + encodeURIComponent(params[p]));\n\t\t\t}\n\t\tparams = str.join(\"&\");\n\t\tlet response = await fetch('https://ih1705413.vds.myihor.ru:4040/'+method+'?'+params, {method: 'GET'})\n\t\t\t.then(res => res.json())\n\t\t\t.then(res => {\n\t\t\t\treturn res;\n\t\t\t});\n\t\tconsole.log(response);\n\t\treturn response;\n\t}\n\n\tasync install(stickers_id) {\n\t\tthis.setState({ popout: <ScreenSpinner/> });\n\t\ttry{\n\t\t\taccess_token = await bridge.sendPromise(\"VKWebAppGetAuthToken\", {\"app_id\": 7363654, \"scope\": \"docs\"});\n\t\t\taccess_token = access_token.access_token;\n\t\t\tlet stickers = await this.get('stickers.get');\n\t\t\tstickers = stickers.stickers[stickers_id];\n\t\t\tif(stickers.hasOwnProperty('data')){\n\t\t\t\tlet data = stickers.data;\n\t\t\t\tfor(var i = 0; i < data.length; i++){\n\t\t\t\t\tif(!this.state.captcha.done){\n\t\t\t\t\t\ttry{\n\t\t\t\t\t\t\tif(this.state.user.hasOwnProperty('stickers_cache')){\n\t\t\t\t\t\t\t\tif(this.state.user.stickers_cache.hasOwnProperty(stickers_id+'')){\n\t\t\t\t\t\t\t\t\ttry{\n\t\t\t\t\t\t\t\t\t\tlet remove = await bridge.sendPromise(\"VKWebAppCallAPIMethod\", {\n\t\t\t\t\t\t\t\t\t\t\t\"method\": \"docs.delete\",\n\t\t\t\t\t\t\t\t\t\t\t\"request_id\": \"del_doc\",\n\t\t\t\t\t\t\t\t\t\t\t\"params\": {\"owner_id\": this.state.user.id, \"doc_id\": this.state.user.stickers_cache[stickers_id][i], \"v\": \"5.103\", \"access_token\": access_token}\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\tawait this.sleep(1000);\n\t\t\t\t\t\t\t\t\t}catch (e) {}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tlet obj = data[i];\n\t\t\t\t\t\t\tlet add = await bridge.sendPromise(\"VKWebAppCallAPIMethod\", {\n\t\t\t\t\t\t\t\t\"method\": \"docs.add\",\n\t\t\t\t\t\t\t\t\"request_id\": \"add_doc\",\n\t\t\t\t\t\t\t\t\"params\": {\"owner_id\": obj.owner_id, \"doc_id\": obj.doc_id, \"access_key\": obj.access_key, \"v\": \"5.103\", \"access_token\": access_token}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tlet added = await this.get('stickers.add', { stickers_id: stickers_id, i: i, doc_id: add.response });\n\t\t\t\t\t\t\tif(added.access === false){\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tawait this.sleep(1000);\n\t\t\t\t\t\t}catch (e) {\n\t\t\t\t\t\t\tconsole.log('error add...');\n\t\t\t\t\t\t\ti--;\n\t\t\t\t\t\t\tawait this.sleep(5000);\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tif(this.state.captcha.done === true){\n\t\t\t\t\t\t\tthis.setState({ popout: <ScreenSpinner/> });\n\t\t\t\t\t\t\ttry{\n\t\t\t\t\t\t\t\tlet obj = data[i];\n\t\t\t\t\t\t\t\tlet add = await bridge.sendPromise(\"VKWebAppCallAPIMethod\", {\n\t\t\t\t\t\t\t\t\t\"method\": \"docs.add\",\n\t\t\t\t\t\t\t\t\t\"request_id\": \"add_doc\",\n\t\t\t\t\t\t\t\t\t\"params\": {\"owner_id\": obj.owner_id, \"doc_id\": obj.doc_id, \"access_key\": obj.access_key, \"captcha_sid\": this.state.captcha.sid, \"captcha_key\": this.state.captcha.text, \"v\": \"5.103\", \"access_token\": access_token}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tlet added = await this.get('stickers.add', { stickers_id: stickers_id, i: i, doc_id: add.response });\n\t\t\t\t\t\t\t\tif(added.access === false){\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tawait this.sleep(1000);\n\t\t\t\t\t\t\t}catch (e) {\n\t\t\t\t\t\t\t\ti--;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\ti--;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.showSnackBar('Стикеры установлены', <Icon16Done fill=\"#fff\" width={14} height={14} />, blueBackground);\n\t\t\t}else{\n\t\t\t\tthis.showSnackBar('Стикеры не синхронизированы', <Icon16Cancel fill=\"#fff\" width={14} height={14} />, redBackground);\n\t\t\t}\n\t\t}catch (e) {\n\t\t\tthis.showSnackBar('Произошла ошибка при получении данных', <Icon16Cancel fill=\"#fff\" width={14} height={14} />, redBackground);\n\t\t}\n\t\tthis.setState({ popout: null });\n\t}\n\n\tasync delete (stickers_id) {\n\t\tthis.setState({ popout: <ScreenSpinner/> });\n\t\taccess_token = await bridge.sendPromise(\"VKWebAppGetAuthToken\", {\"app_id\": 7363654, \"scope\": \"docs\"});\n\t\taccess_token = access_token.access_token;\n\t\tif(this.state.user.hasOwnProperty('stickers_cache')) {\n\t\t\tif (this.state.user.stickers_cache.hasOwnProperty(stickers_id + '')) {\n\t\t\t\tfor(var i = 0; i < this.state.user.stickers_cache[stickers_id].length; i++){\n\t\t\t\t\ttry{\n\t\t\t\t\t\tlet remove = await bridge.sendPromise(\"VKWebAppCallAPIMethod\", {\n\t\t\t\t\t\t\t\"method\": \"docs.delete\",\n\t\t\t\t\t\t\t\"request_id\": \"del_doc\",\n\t\t\t\t\t\t\t\"params\": {\"owner_id\": this.state.user.id, \"doc_id\": this.state.user.stickers_cache[stickers_id][i], \"v\": \"5.103\", \"access_token\": access_token}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tawait this.sleep(1000);\n\t\t\t\t\t}catch (e) {\n\t\t\t\t\t\tconsole.log('error delete...');\n\t\t\t\t\t\ti--;\n\t\t\t\t\t\tawait this.sleep(5000);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tawait this.get('stickers.delete', { stickers_id: stickers_id });\n\t\t\t}\n\t\t}\n\t\tthis.setState({ popout: null });\n\t\tthis.showSnackBar('Стикеры очищены', <Icon16Done fill=\"#fff\" width={14} height={14} />, blueBackground);\n\t}\n\n\tshowSnackBar (text, icon, style){\n\t\tthis.setState({ snackbar: null });\n\t\tthis.setState({ snackbar:\n\t\t\t\t<Snackbar\n\t\t\t\t\tlayout=\"vertical\"\n\t\t\t\t\tonClose={() => this.setState({ snackbar: null })}\n\t\t\t\t\tbefore={<Avatar size={24} style={style}>{icon}</Avatar>}\n\t\t\t\t>\n\t\t\t\t\t{text}\n\t\t\t\t</Snackbar>\n\t\t});\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<Epic activeStory={this.state.activeStory} tabbar={\n\t\t\t\t<Tabbar>\n\t\t\t\t\t<TabbarItem\n\t\t\t\t\t\tonClick={this.onStoryChange}\n\t\t\t\t\t\tselected={this.state.activeStory === 'tab_main'}\n\t\t\t\t\t\tdata-story=\"tab_main\"\n\t\t\t\t\t><Icon28MarketOutline/></TabbarItem>\n\t\t\t\t\t<TabbarItem\n\t\t\t\t\t\tonClick={this.onStoryChange}\n\t\t\t\t\t\tselected={this.state.activeStory === 'tab_other'}\n\t\t\t\t\t\tdata-story=\"tab_other\"\n\t\t\t\t\t><Icon28UserOutline /></TabbarItem>\n\t\t\t\t</Tabbar>\n\t\t\t}>\n\t\t\t\t<View id=\"tab_main\" activePanel={this.state.activePanelShop} popout={this.state.popout} history={this.state.historyShop} onSwipeBack={this.back} header={false}>\n\t\t\t\t\t<Panel id=\"main\" separator={false}>\n\t\t\t\t\t\t<PanelHeaderSimple\n\t\t\t\t\t\t\tseparator={false}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tСтикеры\n\t\t\t\t\t\t</PanelHeaderSimple>\n\t\t\t\t\t\t<Tabs>\n\t\t\t\t\t\t\t<TabsItem\n\t\t\t\t\t\t\t\tonClick={() => this.setState({ slideTabIndex: 0 })}\n\t\t\t\t\t\t\t\tselected={this.state.slideTabIndex === 0}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tНовинки\n\t\t\t\t\t\t\t</TabsItem>\n\t\t\t\t\t\t\t<TabsItem\n\t\t\t\t\t\t\t\tonClick={() => this.setState({ slideTabIndex: 1 })}\n\t\t\t\t\t\t\t\tselected={this.state.slideTabIndex === 1}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tПопулярные\n\t\t\t\t\t\t\t</TabsItem>\n\t\t\t\t\t\t</Tabs>\n\t\t\t\t\t\t<Separator />\n\t\t\t\t\t\t<PullToRefresh onRefresh={async () => {\n\t\t\t\t\t\t\tthis.setState({ refreshedStickers: true });\n\t\t\t\t\t\t\tawait this.updateStickers();\n\t\t\t\t\t\t\tthis.setState({ refreshedStickers: false });\n\t\t\t\t\t\t}} isFetching={this.state.refreshedStickers}>\n\t\t\t\t\t\t\t<Gallery\n\t\t\t\t\t\t\t\tslideWidth=\"100%\"\n\t\t\t\t\t\t\t\tstyle={{ height: \"100%\", margin: \"8px\" }}\n\t\t\t\t\t\t\t\tslideIndex={this.state.slideTabIndex}\n\t\t\t\t\t\t\t\tonChange={(slideIndex) => { this.setState({slideTabIndex: slideIndex}); }}>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<List style={{ marginTop: \"15px\" }}>\n\t\t\t\t\t\t\t\t\t\t{this.state.stickers_panel_new}\n\t\t\t\t\t\t\t\t\t</List>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<List style={{ marginTop: \"15px\" }}>\n\t\t\t\t\t\t\t\t\t\t{this.state.stickers_panel_popular}\n\t\t\t\t\t\t\t\t\t</List>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</Gallery>\n\t\t\t\t\t\t</PullToRefresh>\n\t\t\t\t\t</Panel>\n\t\t\t\t\t<Panel id=\"sticker_info\">\n\t\t\t\t\t\t<PanelHeaderSimple><PanelHeaderContent>\n\t\t\t\t\t\t\tИнформация\n\t\t\t\t\t\t</PanelHeaderContent></PanelHeaderSimple>\n\t\t\t\t\t\t<PullToRefresh onRefresh={async () => {\n\t\t\t\t\t\t\tthis.setState({ refreshedStickersInfo: true });\n\t\t\t\t\t\t\tawait this.updateStickersInfo();\n\t\t\t\t\t\t\tthis.setState({ refreshedStickersInfo: false });\n\t\t\t\t\t\t}} isFetching={this.state.refreshedStickersInfo}>\n\t\t\t\t\t\t\t<Div>\n\t\t\t\t\t\t\t\t<Cell before={<StickerImg mode={'medium'} src={this.state.sticker_info.preview}/>} description={this.state.sticker_info.author}>{this.state.sticker_info.title}</Cell>\n\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t<StickerDescription>{this.state.sticker_info.description}</StickerDescription>\n\t\t\t\t\t\t\t\t<div style={{ marginTop: '10px'}}>\n\t\t\t\t\t\t\t\t\t{this.state.user.stickers.indexOf(this.state.sticker_info.id)>=0 ?\n\t\t\t\t\t\t\t\t\t\t<div style={{ display: 'flex' }}>\n\t\t\t\t\t\t\t\t\t\t\t<Button onClick={()=>{ this.install(this.state.sticker_info.id); }} size={\"xl\"} stretched>{'Установить'}</Button>\n\t\t\t\t\t\t\t\t\t\t\t{this.state.user.hasOwnProperty('stickers_cache') ? this.state.user.stickers_cache.hasOwnProperty(this.state.sticker_info.id) ?\n\t\t\t\t\t\t\t\t\t\t\t\t<Button style={{ marginLeft: '8px' }} mode={\"secondary\"} onClick={()=>{ this.delete(this.state.sticker_info.id); }} size={\"xl\"} stretched>{'Очистить'}</Button> : null : null}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t\t<div style={{ display: 'flex' }}>\n\t\t\t\t\t\t\t\t\t\t\t<Button size={\"xl\"} stretched mode=\"commerce\">{'Получить за '+this.state.sticker_info.price+' руб.'}</Button>\n\t\t\t\t\t\t\t\t\t\t</div>}\n\t\t\t\t\t\t\t\t\t{this.state.user.is_admin && <div style={{ display: 'flex', marginTop: '10px' }}><Button onClick={()=> { this.sync(this.state.sticker_info.id); }} size={\"xl\"} stretched>{'Синхронизировать'}</Button></div>}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"centered\" style={{ marginTop: \"18px\" }}>\n\t\t\t\t\t\t\t\t\t<StickerGrid mode={\"small\"}>\n\t\t\t\t\t\t\t\t\t\t{this.state.sticker_info.stickers}\n\t\t\t\t\t\t\t\t\t</StickerGrid>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</Div>\n\t\t\t\t\t\t\t{this.state.snackbar}\n\t\t\t\t\t\t</PullToRefresh>\n\t\t\t\t\t</Panel>\n\t\t\t\t\t<Panel id=\"input_captcha\">\n\t\t\t\t\t\t<PanelHeaderSimple><PanelHeaderContent>\n\t\t\t\t\t\t\tВвод капчи\n\t\t\t\t\t\t</PanelHeaderContent></PanelHeaderSimple>\n\t\t\t\t\t\t<FormLayout>\n\t\t\t\t\t\t\t<div style={{ display: \"flex\", alignItems: \"center\", justifyContent: \"center\" }}>\n\t\t\t\t\t\t\t\t<img width={'60%'} src={this.state.captcha.img}/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\talign={'center'}\n\t\t\t\t\t\t\t\tvalue={this.state.captcha.text}\n\t\t\t\t\t\t\t\tonChange={(e)=> { let c = this.state.captcha; c.text = e.currentTarget.value; this.setState({ captcha: c }); }}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Button size=\"xl\" onClick={()=> { let c = this.state.captcha; c.done = true; this.setState({ captcha: c }); this.back(); }}>Отправить</Button>\n\t\t\t\t\t\t</FormLayout>\n\t\t\t\t\t</Panel>\n\t\t\t\t</View>\n\t\t\t\t<View id=\"tab_other\" activePanel={this.state.activePanelOther} popout={this.state.popout} history={this.state.historyOther} onSwipeBack={this.back} header={false}>\n\t\t\t\t\t<Panel id=\"profile\">\n\t\t\t\t\t\t<PanelHeaderSimple><PanelHeaderContent>\n\t\t\t\t\t\t\tПрофиль\n\t\t\t\t\t\t</PanelHeaderContent></PanelHeaderSimple>\n\t\t\t\t\t\t<PullToRefresh onRefresh={async () => {\n\t\t\t\t\t\t\tthis.setState({ refreshedProfile: true });\n\t\t\t\t\t\t\tawait this.updateUser();\n\t\t\t\t\t\t\tthis.setState({ refreshedProfile: false });\n\t\t\t\t\t\t}} isFetching={this.state.refreshedProfile}>\n\t\t\t\t\t\t\t<Div>\n\t\t\t\t\t\t\t\t<div className=\"centered\">\n\t\t\t\t\t\t\t\t\t<Avatar src={this.state.user.photo_100} size={100}/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t<div className=\"centered\" style={{ fontSize: \"large\"}}>\n\t\t\t\t\t\t\t\t\t{this.state.user.first_name+' '+this.state.user.last_name}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t<Group separator=\"hide\">\n\t\t\t\t\t\t\t\t\t<Cell asideContent={<Icon16Dropdown style={{ transform: `rotate(${this.state.balance_manipulation ? '180deg' : '0'})` }} />} onClick={()=> { this.setState({ balance_manipulation: !this.state.balance_manipulation }); }} indicator={this.state.user.balance+' ₽'}>Ваш баланс</Cell>\n\t\t\t\t\t\t\t\t\t{this.state.balance_manipulation && <div style={{ display: 'flex', justifyContent: 'flex-end', marginTop: '8px' }}>\n\t\t\t\t\t\t\t\t\t\t<Button size=\"l\" before={<Icon16Down/>}>Пополнить</Button>\n\t\t\t\t\t\t\t\t\t\t<Button size=\"l\" before={<Icon16Up/>} mode=\"secondary\" style={{ marginLeft: 8 }}>Вывести</Button>\n\t\t\t\t\t\t\t\t\t</div>}\n\t\t\t\t\t\t\t\t</Group>\n\t\t\t\t\t\t\t\t<Group separator=\"hide\" header={<Header mode=\"primary\">Ваши стикеры</Header>}>\n\t\t\t\t\t\t\t\t\t<div className=\"centered\" style={{ marginTop: \"18px\" }}>\n\t\t\t\t\t\t\t\t\t\t<StickerGrid mode={\"big\"}>\n\t\t\t\t\t\t\t\t\t\t\t{this.state.user_stickers}\n\t\t\t\t\t\t\t\t\t\t\t<StickerImg mode={'big'} onClick={()=> { this.go(\"create\"); }}>\n\t\t\t\t\t\t\t\t\t\t\t\t+\n\t\t\t\t\t\t\t\t\t\t\t</StickerImg>\n\t\t\t\t\t\t\t\t\t\t</StickerGrid>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</Group>\n\t\t\t\t\t\t\t</Div>\n\t\t\t\t\t\t</PullToRefresh>\n\t\t\t\t\t</Panel>\n\t\t\t\t\t<Panel id=\"create\">\n\t\t\t\t\t\t<PanelHeaderSimple>\n\t\t\t\t\t\t\t<PanelHeaderContent\n\t\t\t\t\t\t\t\taside={<Icon16Dropdown style={{ transform: `rotate(${this.state.createStickerContextOpened ? '180deg' : '0'})` }} />}\n\t\t\t\t\t\t\t\tonClick={ () => { this.toggleCreateStickerContext(); }}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tДобавить стикеры\n\t\t\t\t\t\t\t</PanelHeaderContent>\n\t\t\t\t\t\t</PanelHeaderSimple>\n\t\t\t\t\t\t<PanelHeaderContext opened={this.state.createStickerContextOpened} onClose={ () => { this.toggleCreateStickerContext(); }}>\n\t\t\t\t\t\t\t<List>\n\t\t\t\t\t\t\t\t<Cell\n\t\t\t\t\t\t\t\t\tbefore={<Icon28HistoryForwardOutline/>}\n\t\t\t\t\t\t\t\t\tonClick={ () => { this.toggleCreateStickerContext(); this.go(\"stickers_history\") }}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tИстория\n\t\t\t\t\t\t\t\t</Cell>\n\t\t\t\t\t\t\t</List>\n\t\t\t\t\t\t</PanelHeaderContext>\n\t\t\t\t\t\t<FormLayout>\n\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\ttop=\"Название стикер-пака\"\n\t\t\t\t\t\t\t\tname=\"title\"\n\t\t\t\t\t\t\t\tvalue={this.state.create_panel.title}\n\t\t\t\t\t\t\t\tonChange={this.onChange}\n\t\t\t\t\t\t\t\tstatus={this.state.create_panel.title ? this.state.create_panel.title.length <= 20 ? 'valid' : 'error' : 'error'}\n\t\t\t\t\t\t\t\tbottom={this.state.create_panel.title ? this.state.create_panel.title.length <= 20 ? '' : 'Максимальная длина - 20' : 'Пожалуйста, введите название'}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\ttop=\"Описание\"\n\t\t\t\t\t\t\t\tname=\"description\"\n\t\t\t\t\t\t\t\tvalue={this.state.create_panel.description}\n\t\t\t\t\t\t\t\tonChange={this.onChange}\n\t\t\t\t\t\t\t\tstatus={this.state.create_panel.description ? this.state.create_panel.description.length <= 100 ? 'valid' : 'error' : 'error'}\n\t\t\t\t\t\t\t\tbottom={this.state.create_panel.description ? this.state.create_panel.description.length <= 100 ? '' : 'Максимальная длина - 100' : 'Пожалуйста, введите описание'}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\ttop=\"Цена\"\n\t\t\t\t\t\t\t\tname=\"price\"\n\t\t\t\t\t\t\t\tvalue={this.state.create_panel.price}\n\t\t\t\t\t\t\t\tonChange={this.onChange}\n\t\t\t\t\t\t\t\tstatus={this.state.create_panel.price > 0 ? this.state.create_panel.price <= 1000 ? this.state.create_panel.price.toString().includes('.') ? 'error' : 'valid' : 'error' : 'error'}\n\t\t\t\t\t\t\t\tbottom={this.state.create_panel.price > 0 ? this.state.create_panel.price <= 1000 ? this.state.create_panel.price.toString().includes('.') ? 'Число должно быть целым' : '' : 'Максимальная цена- 1 000 руб.' : 'Минимальная цена - 1 руб.'}\n\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t<StickerUploadButton\n\t\t\t\t\t\t\t\tsrc={this.state.create_panel.upload_preview_img && this.state.create_panel.upload_preview_img}\n\t\t\t\t\t\t\t\ttitle={'Превью'}\n\t\t\t\t\t\t\t\tdescription={'Загрузите главную фотографию стикер-пака (128×128px)'}\n\t\t\t\t\t\t\t\tonChange={(event)=> {this.uploadFile('upload_preview_img', event)}}\n\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t<StickerUploadButton\n\t\t\t\t\t\t\t\ttitle={'Стикеры'}\n\t\t\t\t\t\t\t\tdescription={'Загрузите все стикеры (минимум - 4), которые будут содержаться в паке (128×128px)'}\n\t\t\t\t\t\t\t\tonChange={(event)=> {this.uploadFile('upload_sticker_img', event)}}\n\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t<div className=\"centered\" style={{ paddingBottom: \"16px\" }}>\n\t\t\t\t\t\t\t\t<div style={{ minWidth: \"64px\", maxWidth: \"296px\", display: \"grid\", gridTemplateColumns: \"repeat(auto-fill, 64px)\", gridGap: \"10px\" }}>\n\t\t\t\t\t\t\t\t\t{this.state.create_panel.uploaded_stickers_img}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<Button size=\"xl\" disabled={this.state.create_panel.title ? this.state.create_panel.description ? this.state.create_panel.price > 0 ? this.state.create_panel.title.length <= 20 ? this.state.create_panel.description.length <= 100 ? this.state.create_panel.price <= 1000 ? this.state.create_panel.price.toString().includes('.') ?  true : this.state.create_panel.upload_preview_img ? this.state.create_panel.uploaded_stickers_img ? this.state.create_panel.uploaded_stickers_img.filter(function(val){ return val !== undefined; }).length >= 4 ? false : true : true : true : true : true : true : true : true : true }>Продолжить</Button>\n\t\t\t\t\t\t</FormLayout>\n\t\t\t\t\t</Panel>\n\t\t\t\t\t<Panel id={\"stickers_history\"}>\n\t\t\t\t\t\t<PanelHeaderSimple><PanelHeaderContent>\n\t\t\t\t\t\t\tИстория\n\t\t\t\t\t\t</PanelHeaderContent></PanelHeaderSimple>\n\t\t\t\t\t\t{this.state.user_stickers_history && this.state.user_stickers_history.length > 0 ? <Div>\n\t\t\t\t\t\t\t<List>\n\t\t\t\t\t\t\t\t{this.state.user_stickers_history}\n\t\t\t\t\t\t\t</List>\n\t\t\t\t\t\t</Div>\n\t\t\t\t\t\t:\n\t\t\t\t\t\t\t<Placeholder\n\t\t\t\t\t\t\t\ticon={<Icon56HistoryOutline/>}\n\t\t\t\t\t\t\t\theader={'Пусто'}\n\t\t\t\t\t\t\t\tstretched\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tВы пока еще не создавали стикеры\n\t\t\t\t\t\t\t</Placeholder>}\n\t\t\t\t\t</Panel>\n\t\t\t\t</View>\n\t\t\t</Epic>\n\t\t);\n\t}\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}