{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\Admin\\\\NodeProjects\\\\VKStickers2\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\Admin\\\\NodeProjects\\\\VKStickers2\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"C:\\\\Users\\\\Admin\\\\NodeProjects\\\\VKStickers2\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _classCallCheck from\"C:\\\\Users\\\\Admin\\\\NodeProjects\\\\VKStickers2\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Admin\\\\NodeProjects\\\\VKStickers2\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\Admin\\\\NodeProjects\\\\VKStickers2\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\Admin\\\\NodeProjects\\\\VKStickers2\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"C:\\\\Users\\\\Admin\\\\NodeProjects\\\\VKStickers2\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\Admin\\\\NodeProjects\\\\VKStickers2\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}import React from'react';import bridge from'@vkontakte/vk-bridge';import'@vkontakte/vkui/dist/vkui.css';import'./css/App.css';import{Panel,PanelHeader,Div,View,ScreenSpinner,List,Cell,Gallery,FormLayout,Input,Avatar,Group,Epic,Tabbar,TabbarItem,Separator,Button,PanelHeaderContext,Header,PanelHeaderSimple,PanelHeaderContent,Placeholder,Tabs,TabsItem,PullToRefresh,Snackbar,Textarea,PanelHeaderBack,PanelHeaderClose,CellButton,Alert,Link}from'@vkontakte/vkui';import Icon16Spinner from'@vkontakte/icons/dist/16/spinner';import Icon16Done from'@vkontakte/icons/dist/16/done';import Icon16Cancel from'@vkontakte/icons/dist/16/cancel';import Icon16Dropdown from'@vkontakte/icons/dist/16/dropdown';import Icon16Down from'@vkontakte/icons/dist/16/down';import Icon16Up from'@vkontakte/icons/dist/16/up';import Icon28BugOutline from'@vkontakte/icons/dist/28/bug_outline';import Icon28ReportOutline from'@vkontakte/icons/dist/28/report_outline';import Icon28ShareOutline from'@vkontakte/icons/dist/28/share_outline';import Icon28CancelOutline from'@vkontakte/icons/dist/28/cancel_outline';import Icon28WriteOutline from'@vkontakte/icons/dist/28/write_outline';import Icon28AddCircleOutline from'@vkontakte/icons/dist/28/add_circle_outline';import Icon28HistoryForwardOutline from'@vkontakte/icons/dist/28/history_forward_outline';import Icon28MarketOutline from'@vkontakte/icons/dist/28/market_outline';import Icon28UserOutline from'@vkontakte/icons/dist/28/user_outline';import Icon56HistoryOutline from'@vkontakte/icons/dist/56/history_outline';import Icon56GalleryOutline from'@vkontakte/icons/dist/56/gallery_outline';import Icon56CheckCircleDeviceOutline from'@vkontakte/icons/dist/56/check_circle_device_outline';import Icon56MoneyTransferOutline from'@vkontakte/icons/dist/56/money_transfer_outline';import{StickerImg}from\"./components/StickerImg\";import{StickerButton}from\"./components/StickerButton\";import{StickerDescription}from\"./components/StickerDescription\";import{StickerGrid}from\"./components/StickerGrid\";import{StickerUploadButton}from\"./components/StickerUploadButton\";import{CardElements}from\"./components/CardElements\";import{CardElement}from\"./components/CardElement\";import request from\"request\";var access_token='',upload_url1='';var blueBackground={backgroundColor:'var(--accent)'},redBackground={backgroundColor:'var(--dynamic_red)'};var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);function App(props){var _this;_classCallCheck(this,App);_this=_possibleConstructorReturn(this,_getPrototypeOf(App).call(this,props));_this.back=function(){if(_this.state.popout!==null){if(_this.state.popout.props.actionsLayout){_this.setState({popout:null});return;}}var activeStory=_this.state.activeStory;var activePanel=activeStory==='tab_main'?_this.state.activePanelShop:activeStory==='tab_other'?_this.state.activePanelOther:'';if(activePanel==='create'&&_this.state.create_panel.hasOwnProperty('stickers_id')){_this.setState({create_panel:{title:\"\",preview:\"\",price:1,description:\"\",stickers:[]}});}else if(activePanel==='create'&&_this.state.createStickerContextOpened){_this.setState({createStickerContextOpened:false});}var panel_to_change=activeStory==='tab_main'?'activePanelShop':activeStory==='tab_other'?'activePanelOther':'';if(activeStory==='tab_main'&&activePanel==='main'||activeStory==='tab_other'&&activePanel==='profile'){bridge.send(\"VKWebAppClose\",{\"status\":\"success\"});}else{var history=activeStory==='tab_main'?_this.state.historyShop:activeStory==='tab_other'?_this.state.historyOther:'';if(history.length===1){bridge.send(\"VKWebAppClose\",{\"status\":\"success\"});}else if(history.length>1){history.pop();var p=history[history.length-1];_this.setState(_defineProperty({},panel_to_change,p));_this.change_hash(p);}}};_this.state={initialized:false,popout:React.createElement(ScreenSpinner,null),activeStory:'tab_main',slideTabIndex_main:0,slideTabIndex_moderation:0,activePanelShop:\"main\",historyShop:[\"main\"],activePanelOther:\"profile\",historyOther:[\"profile\"],createStickerContextOpened:false,balance_manipulation:false,report_other_visible:false,report_reason_text:'',stickers_panel_new:[],stickers_panel_popular:[],stickers_panel_moderation:[],report_panel_moderation:[],withdraw_panel_moderation:[],sticker_info:{title:\"\",author:\"\",preview:\"\",price:0,description:\"\",stickers:[],sales:0},moderation_sticker_info:{title:\"\",author:\"\",preview:\"\",price:0,description:\"\",stickers_:[]},user:{first_name:'',last_name:'',photo_100:'',stickers:[],balance:0,stickers_history:[]},create_panel:{title:\"\",preview:\"\",price:1,description:\"\",stickers:[]},captcha:{text:'',url:'',done:false}};_this.onStoryChange=_this.onStoryChange.bind(_assertThisInitialized(_this));_this.onChange=_this.onChange.bind(_assertThisInitialized(_this));_this.uploadFile=_this.uploadFile.bind(_assertThisInitialized(_this));_this.toggleCreateStickerContext=_this.toggleCreateStickerContext.bind(_assertThisInitialized(_this));_this.approveStickers=_this.approveStickers.bind(_assertThisInitialized(_this));_this.rejectStickers=_this.rejectStickers.bind(_assertThisInitialized(_this));_this.install=_this.install.bind(_assertThisInitialized(_this));_this.delete=_this.delete.bind(_assertThisInitialized(_this));_this.create_stickers=_this.create_stickers.bind(_assertThisInitialized(_this));_this.go_to_edit=_this.go_to_edit.bind(_assertThisInitialized(_this));_this.report_stickers=_this.report_stickers.bind(_assertThisInitialized(_this));_this.withdraw=_this.withdraw.bind(_assertThisInitialized(_this));_this.componentDidMount=_this.componentDidMount.bind(_assertThisInitialized(_this));_this.initializeApp=_this.initializeApp.bind(_assertThisInitialized(_this));_this.updateStickers=_this.updateStickers.bind(_assertThisInitialized(_this));_this.updateStickersInfo=_this.updateStickersInfo.bind(_assertThisInitialized(_this));_this.updateUser=_this.updateUser.bind(_assertThisInitialized(_this));_this.updateQuestions=_this.updateQuestions.bind(_assertThisInitialized(_this));_this.updateReportReasons=_this.updateReportReasons.bind(_assertThisInitialized(_this));_this.updateModeration=_this.updateModeration.bind(_assertThisInitialized(_this));_this.back=_this.back.bind(_assertThisInitialized(_this));_this.go=_this.go.bind(_assertThisInitialized(_this));_this.change_hash=_this.change_hash.bind(_assertThisInitialized(_this));return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;window.addEventListener('popstate',function(e){e.preventDefault();var activeStory=_this2.state.activeStory;var activePanel=activeStory==='tab_main'?_this2.state.activePanelShop:activeStory==='tab_other'?_this2.state.activePanelOther:'';if(activePanel!=='input_captcha'){_this2.back(e);}});bridge.subscribe(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref){var _ref$detail,type,data,schemeAttribute,login,c,i,request_params,params,method,request_id,key,value,res_back;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_ref$detail=_ref.detail,type=_ref$detail.type,data=_ref$detail.data;if(type!==undefined)console.log(type,data);if(!(type==='VKWebAppUpdateConfig')){_context.next=8;break;}schemeAttribute=document.createAttribute('scheme');schemeAttribute.value=data.scheme?data.scheme:'client_light';document.body.attributes.setNamedItem(schemeAttribute);_context.next=59;break;case 8:if(!(type==='VKWebAppGetUserInfoResult')){_context.next=16;break;}if(_this2.state.initialized){_context.next=14;break;}_context.next=12;return _this2.get('users.auth');case 12:login=_context.sent;if(login.access){/*\n                        data.stickers = [ 0 ];\n                        data.balance = 0;\n                        data.stickers_history = [ { title: \"Илай\", preview: \"https://vk.com/sticker/1-18781-128\", added: false }, { title: \"Бисквит\", author: \"Илья Ульянов\", preview: \"https://vk.com/sticker/2-533-cover-140b-0\" } ];\n                        */_this2.setState({initialized:true,popout:null});_this2.initializeApp();}case 14:_context.next=59;break;case 16:if(!(type==='VKWebAppViewRestore')){_context.next=20;break;}if(_this2.state.popout!==null){_this2.setState({popout:null});}_context.next=59;break;case 20:if(!(type==='VKWebAppCallAPIMethodFailed')){_context.next=59;break;}if(!(data.error_data.error_reason.error_code===14)){_context.next=59;break;}c=_this2.state.captcha;c.done=null;c.url=data.error_data.error_reason.captcha_img;c.sid=data.error_data.error_reason.captcha_sid;_this2.setState({captcha:c,popout:null});_this2.go('input_captcha');i=0;case 29:if(!(i<2)){_context.next=40;break;}if(!(_this2.state.captcha.done===null)){_context.next=36;break;}i--;_context.next=34;return _this2.sleep(1000);case 34:_context.next=37;break;case 36:return _context.abrupt(\"break\",40);case 37:i++;_context.next=29;break;case 40:_this2.setState({popout:React.createElement(ScreenSpinner,null)});request_params=data.error_data.error_reason.request_params;params={};method='';request_id='';for(i=0;i<request_params.length;i++){key=request_params[i].key;value=request_params[i].value;if(key!=='api_id'&&key!=='format'&&key!=='oauth'){if(key==='method'){method=value;}else if(key==='request_id'){request_id=value;}else{params[key]=value;}}}params.access_token=access_token;params.captcha_sid=_this2.state.captcha.sid;params.captcha_key=_this2.state.captcha.text;_context.prev=49;_context.next=52;return bridge.sendPromise(\"VKWebAppCallAPIMethod\",{\"method\":method,\"request_id\":request_id,\"params\":params});case 52:res_back=_context.sent;_this2.setState({captcha:{text:'',url:'',done:false}});_this2.back();_context.next=59;break;case 57:_context.prev=57;_context.t0=_context[\"catch\"](49);case 59:case\"end\":return _context.stop();}}},_callee,null,[[49,57]]);}));return function(_x){return _ref2.apply(this,arguments);};}());this.initializeApp();}},{key:\"initializeApp\",value:function(){var _initializeApp=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var hash,hash_;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return this.updateStickers();case 2:_context2.next=4;return this.updateUser();case 4:_context2.next=6;return this.updateQuestions();case 6:_context2.next=8;return this.updateReportReasons();case 8:_context2.next=10;return this.updateModeration();case 10:hash=window.location.hash;if(hash){hash=hash.replace('#','');hash_=hash.split('_');this.setState({activeStory:hash_[0]+'_'+hash_[1]});this.go(hash.substring((hash_[0]+'_'+hash_[1]+'_').length));}else{this.change_hash('main');}case 12:case\"end\":return _context2.stop();}}},_callee2,this);}));function initializeApp(){return _initializeApp.apply(this,arguments);}return initializeApp;}()},{key:\"updateStickers\",value:function(){var _updateStickers=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(){var response,stickers,stickers_panel_new,stickers_panel_popular;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return this.get('stickers.get');case 2:response=_context5.sent;this.setState({stickers:response.stickers});stickers=this.state.stickers;stickers_panel_new=Object.keys(stickers).map(function(key,i){var _this3=this;var stickers_=[];for(var j=0;j<stickers[i].data.length;j++){stickers_.push(React.createElement(StickerImg,{mode:\"small\",src:stickers[i].data[j].url}));}stickers[i].stickers=stickers_;stickers[i].id=i;if(!stickers[i].hasOwnProperty('banned')){stickers_panel_new.push(React.createElement(StickerButton,{title:stickers[i].title,description:stickers[i].author,src:stickers[i].preview,price:stickers[i].price,mode:\"cell\",sales:stickers[i].sales===0?0:stickers[i].sales.length,onClick:/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var response,user_;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_this3.setState({sticker_info:stickers[i],popout:React.createElement(ScreenSpinner,null)});_context3.next=3;return _this3.get('users.get');case 3:response=_context3.sent;_context3.next=6;return bridge.sendPromise('VKWebAppGetUserInfo');case 6:user_=_context3.sent;_this3.setState({user:_objectSpread({},user_,{},response.user),popout:null});_this3.go('sticker_info');case 9:case\"end\":return _context3.stop();}}},_callee3);}))}));}}).reverse();stickers_panel_popular=Object.keys(stickers).map(function(key,i){var _this4=this;var stickers_=[];for(var j=0;j<stickers[i].data.length;j++){stickers_.push(React.createElement(StickerImg,{mode:\"small\",src:stickers[i].data[j].url}));}stickers[i].stickers=stickers_;stickers[i].id=i;if(!stickers[i].hasOwnProperty('banned')){stickers_panel_new.push(React.createElement(StickerButton,{title:stickers[i].title,description:stickers[i].author,src:stickers[i].preview,price:stickers[i].price,mode:\"cell\",sales:stickers[i].sales===0?0:stickers[i].sales.length,onClick:/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var response,user_;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_this4.setState({sticker_info:stickers[i],popout:React.createElement(ScreenSpinner,null)});_context4.next=3;return _this4.get('users.get');case 3:response=_context4.sent;_context4.next=6;return bridge.sendPromise('VKWebAppGetUserInfo');case 6:user_=_context4.sent;_this4.setState({user:_objectSpread({},user_,{},response.user),popout:null});_this4.go('sticker_info');case 9:case\"end\":return _context4.stop();}}},_callee4);}))}));}}).sort(function(itemA,itemB){return itemA.props.sales-itemB.props.sales;}).reverse();this.setState({stickers_panel_new:stickers_panel_new,stickers_panel_popular:stickers_panel_popular});case 8:case\"end\":return _context5.stop();}}},_callee5,this);}));function updateStickers(){return _updateStickers.apply(this,arguments);}return updateStickers;}()},{key:\"updateStickersInfo\",value:function(){var _updateStickersInfo=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(){return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return this.updateStickers();case 2:_context6.next=4;return this.updateUser();case 4:this.setState({sticker_info:this.state.stickers[this.state.sticker_info.id]});case 5:case\"end\":return _context6.stop();}}},_callee6,this);}));function updateStickersInfo(){return _updateStickersInfo.apply(this,arguments);}return updateStickersInfo;}()},{key:\"updateUser\",value:function(){var _updateUser=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(){var _this5=this;var response,user_,user_stickers,_loop,i,user_stickers_history,_loop2,_i;return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.next=2;return this.get('users.get');case 2:response=_context8.sent;_context8.next=5;return bridge.sendPromise('VKWebAppGetUserInfo');case 5:user_=_context8.sent;this.setState({user:_objectSpread({},user_,{},response.user)});user_stickers=[];_loop=function _loop(i){var sticker=_this5.state.stickers[i];user_stickers.push(React.createElement(StickerButton,{src:sticker.preview,mode:\"img\",onClick:function onClick(){_this5.setState({activeStory:\"tab_main\",sticker_info:_this5.state.stickers[i]});setTimeout(function(){_this5.go('sticker_info');},50);}}));};for(i=0;i<this.state.user.stickers.length;i++){_loop(i);}this.setState({user_stickers:user_stickers});user_stickers_history=[];_loop2=function _loop2(_i){var sticker=_this5.state.user.stickers_history[_i];user_stickers_history.push(React.createElement(StickerButton,{title:sticker.title,src:sticker.preview,buttons:sticker.hasOwnProperty('added')?sticker.added?React.createElement(Button,{mode:\"commerce\"},\"\\u041E\\u0434\\u043E\\u0431\\u0440\\u0435\\u043D\\u043E\"):React.createElement(Button,{mode:\"destructive\"},\"\\u041E\\u0442\\u043A\\u043B\\u043E\\u043D\\u0435\\u043D\\u043E\"):sticker.hasOwnProperty('deleted')?React.createElement(Button,{mode:\"secondary\"},\"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0435\\u043D\\u043E\"):React.createElement(Button,{mode:\"primary\"},\"\\u041D\\u0430 \\u043F\\u0440\\u043E\\u0432\\u0435\\u0440\\u043A\\u0435\"),mode:\"cell\",more:sticker.hasOwnProperty('added')===false&&sticker.hasOwnProperty('deleted')===false&&React.createElement(Icon28CancelOutline,{onClick:function onClick(){_this5.setState({popout:React.createElement(Alert,{actionsLayout:\"horizontal\",actions:[{title:'Да',autoclose:true,mode:'destructive',action:function(){var _action=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(){return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_this5.setState({popout:React.createElement(ScreenSpinner,null)});_context7.next=3;return _this5.get('stickers.cancel_moderation',{stickers_id:_i});case 3:_context7.next=5;return _this5.updateUser();case 5:_this5.setState({popout:null});case 6:case\"end\":return _context7.stop();}}},_callee7);}));function action(){return _action.apply(this,arguments);}return action;}()},{title:'Нет',autoclose:true,mode:'cancel'}],onClose:function onClose(){_this5.setState({popout:null});}},React.createElement(\"h2\",null,\"\\u041F\\u043E\\u0434\\u0442\\u0432\\u0435\\u0440\\u0434\\u0438\\u0442\\u0435 \\u0434\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u0435\"),React.createElement(\"p\",null,\"\\u0412\\u044B \\u0443\\u0432\\u0435\\u0440\\u0435\\u043D\\u044B, \\u0447\\u0442\\u043E \\u0445\\u043E\\u0442\\u0438\\u0442\\u0435 \\u043E\\u0442\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C \\u043C\\u043E\\u0434\\u0435\\u0440\\u0430\\u0446\\u0438\\u044E \\u0441\\u0442\\u0438\\u043A\\u0435\\u0440\\u043E\\u0432?\"))});},fill:'#ff5c5c'})}));};for(_i=0;_i<this.state.user.stickers_history.length;_i++){_loop2(_i);}this.setState({user_stickers_history:user_stickers_history});case 15:case\"end\":return _context8.stop();}}},_callee8,this);}));function updateUser(){return _updateUser.apply(this,arguments);}return updateUser;}()},{key:\"updateQuestions\",value:function(){var _updateQuestions=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee9(){var response,questions,questions_panel,_iteratorNormalCompletion,_didIteratorError,_iteratorError,_iterator,_step,val;return _regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:_context9.next=2;return this.get('questions.get');case 2:response=_context9.sent;questions=response.questions;questions_panel=[];_iteratorNormalCompletion=true;_didIteratorError=false;_iteratorError=undefined;_context9.prev=8;for(_iterator=questions[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){val=_step.value;questions_panel.push(React.createElement(CardElement,{link:val.link,text:val.text}));}_context9.next=16;break;case 12:_context9.prev=12;_context9.t0=_context9[\"catch\"](8);_didIteratorError=true;_iteratorError=_context9.t0;case 16:_context9.prev=16;_context9.prev=17;if(!_iteratorNormalCompletion&&_iterator.return!=null){_iterator.return();}case 19:_context9.prev=19;if(!_didIteratorError){_context9.next=22;break;}throw _iteratorError;case 22:return _context9.finish(19);case 23:return _context9.finish(16);case 24:this.setState({questions_panel:questions_panel.length>0?questions_panel:null});case 25:case\"end\":return _context9.stop();}}},_callee9,this,[[8,12,16,24],[17,,19,23]]);}));function updateQuestions(){return _updateQuestions.apply(this,arguments);}return updateQuestions;}()},{key:\"updateReportReasons\",value:function(){var _updateReportReasons=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee10(){var _this6=this;var response,report_reasons,report_reasons_panel,_loop3,i;return _regeneratorRuntime.wrap(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:_context10.next=2;return this.get('report.getReasons');case 2:response=_context10.sent;report_reasons=response.report_reasons;this.setState({report_reasons:report_reasons});report_reasons_panel=[];_loop3=function _loop3(i){var val=report_reasons[i];report_reasons_panel.push(React.createElement(CellButton,{onClick:function onClick(){_this6.report_stickers(_this6.state.sticker_info.id,i);}},val));};for(i=0;i<report_reasons.length;i++){_loop3(i);}this.setState({report_reasons_panel:report_reasons_panel.length>0?report_reasons_panel:null});case 9:case\"end\":return _context10.stop();}}},_callee10,this);}));function updateReportReasons(){return _updateReportReasons.apply(this,arguments);}return updateReportReasons;}()},{key:\"updateModeration\",value:function(){var _updateModeration=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee15(){var _this7=this;var stickers,stickers_panel_moderation,_loop4,i,reports,report_panel_moderation,_loop5,_i2,withdraw,withdraw_panel_moderation,_loop6,_i3;return _regeneratorRuntime.wrap(function _callee15$(_context15){while(1){switch(_context15.prev=_context15.next){case 0:_context15.next=2;return this.get('moderation.getStickers');case 2:stickers=_context15.sent;stickers=stickers.stickers;this.setState({moderation_stickers:stickers});stickers_panel_moderation=[];_loop4=function _loop4(i){var stickers_=[];for(var j=0;j<stickers[i].stickers.length;j++){stickers_.push(React.createElement(StickerImg,{mode:\"small\",src:stickers[i].stickers[j]}));}stickers[i].id=i;stickers[i].stickers_=stickers_;stickers_panel_moderation.push(React.createElement(StickerButton,{title:stickers[i].title,description:stickers[i].author,src:stickers[i].preview,price:stickers[i].price,mode:\"cell\",onClick:function onClick(){_this7.setState({moderation_sticker_info:stickers[i]});_this7.go('moderation_sticker_info');}}));};for(i=0;i<stickers.length;i++){_loop4(i);}this.setState({stickers_panel_moderation:stickers_panel_moderation});_context15.next=11;return this.get('moderation.getReports');case 11:reports=_context15.sent;reports=reports.reports;report_panel_moderation=[];_loop5=function _loop5(_i2){var report=reports[_i2];if(!report.hasOwnProperty('status')){report_panel_moderation.push(React.createElement(StickerButton,{title:_this7.state.stickers[report.stickers_id].title,description:report.hasOwnProperty('report_reason_id')?_this7.state.report_reasons[report.report_reason_id]:report.hasOwnProperty('report_reason_text')&&report.report_reason_text,src:_this7.state.stickers[report.stickers_id].preview,buttons:React.createElement(\"div\",{style:{display:'flex'}},\" \",React.createElement(Button,{onClick:/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee11(){return _regeneratorRuntime.wrap(function _callee11$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:_this7.setState({popout:React.createElement(ScreenSpinner,null)});_context11.next=3;return _this7.get('moderation.approveReport',{report_id:_i2});case 3:_context11.next=5;return _this7.updateModeration();case 5:_this7.setState({popout:null,activeStory:\"tab_other\"});case 6:case\"end\":return _context11.stop();}}},_callee11);})),mode:\"primary\"},\"\\u041E\\u0434\\u043E\\u0431\\u0440\\u0438\\u0442\\u044C\"),\" \",React.createElement(Button,{onClick:/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee12(){return _regeneratorRuntime.wrap(function _callee12$(_context12){while(1){switch(_context12.prev=_context12.next){case 0:_this7.setState({popout:React.createElement(ScreenSpinner,null)});_context12.next=3;return _this7.get('moderation.rejectReport',{report_id:_i2});case 3:_context12.next=5;return _this7.updateModeration();case 5:_this7.setState({popout:null,activeStory:\"tab_other\"});case 6:case\"end\":return _context12.stop();}}},_callee12);})),mode:\"secondary\",style:{marginLeft:'8px'}},\"\\u041E\\u0442\\u043A\\u043B\\u043E\\u043D\\u0438\\u0442\\u044C\")),mode:\"cell\",onClick:function onClick(){_this7.setState({activeStory:\"tab_main\",sticker_info:_this7.state.stickers[report.stickers_id]});setTimeout(function(){if(_this7.state.activeStory==='tab_main'){_this7.go('sticker_info');}},50);}}));}};for(_i2=0;_i2<reports.length;_i2++){_loop5(_i2);}this.setState({report_panel_moderation:report_panel_moderation});_context15.next=19;return this.get('moderation.getWithdraw');case 19:withdraw=_context15.sent;withdraw=withdraw.withdraw;withdraw_panel_moderation=[];_loop6=function _loop6(_i3){var withdraw_=withdraw[_i3];if(withdraw_.success===false){withdraw_panel_moderation.push(React.createElement(StickerButton,{img_type:'round',src:withdraw_.photo,title:React.createElement(Link,{target:'_blank',href:'https://vk.com/id'+withdraw_.user_id},withdraw_.name),description:withdraw_.amount+' руб.',buttons:React.createElement(\"div\",{style:{display:'flex'}},\" \",React.createElement(Button,{onClick:/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee13(){var transaction;return _regeneratorRuntime.wrap(function _callee13$(_context13){while(1){switch(_context13.prev=_context13.next){case 0:_this7.setState({popout:React.createElement(ScreenSpinner,null)});_context13.prev=1;_context13.next=4;return bridge.sendPromise(\"VKWebAppOpenPayForm\",{\"app_id\":7363654,\"action\":\"pay-to-user\",\"params\":{amount:withdraw_.amount,description:'Вывод средств из магазина стикеров',user_id:withdraw_.user_id}});case 4:transaction=_context13.sent;if(!transaction.status){_context13.next=10;break;}_context13.next=8;return _this7.get('moderation.approveWithdraw',{withdraw_id:_i3});case 8:_context13.next=10;return _this7.updateModeration();case 10:_context13.next=14;break;case 12:_context13.prev=12;_context13.t0=_context13[\"catch\"](1);case 14:_this7.setState({popout:null});case 15:case\"end\":return _context13.stop();}}},_callee13,null,[[1,12]]);})),mode:\"primary\"},\"\\u041E\\u0434\\u043E\\u0431\\u0440\\u0438\\u0442\\u044C\"),\" \",React.createElement(Button,{onClick:/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee14(){return _regeneratorRuntime.wrap(function _callee14$(_context14){while(1){switch(_context14.prev=_context14.next){case 0:_this7.setState({popout:React.createElement(ScreenSpinner,null)});_context14.next=3;return _this7.get('moderation.rejectWithdraw',{withdraw_id:_i3});case 3:_context14.next=5;return _this7.updateModeration();case 5:_this7.setState({popout:null});case 6:case\"end\":return _context14.stop();}}},_callee14);})),mode:\"secondary\",style:{marginLeft:'8px'}},\"\\u041E\\u0442\\u043A\\u043B\\u043E\\u043D\\u0438\\u0442\\u044C\")),mode:\"cell\"}));}};for(_i3=0;_i3<withdraw.length;_i3++){_loop6(_i3);}this.setState({withdraw_panel_moderation:withdraw_panel_moderation});case 25:case\"end\":return _context15.stop();}}},_callee15,this);}));function updateModeration(){return _updateModeration.apply(this,arguments);}return updateModeration;}()},{key:\"get\",value:function(){var _get=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee16(method,params){var str,p,response;return _regeneratorRuntime.wrap(function _callee16$(_context16){while(1){switch(_context16.prev=_context16.next){case 0:if(params===undefined||params===null)params={};params.url=window.location.search.replace('?','');str=[];for(p in params){if(params.hasOwnProperty(p)){str.push(encodeURIComponent(p)+\"=\"+encodeURIComponent(params[p]));}}params=str.join(\"&\");_context16.next=7;return fetch('https://ih1705413.vds.myihor.ru:4040/'+method+'?'+params,{method:'GET'}).then(function(res){return res.json();}).then(function(res){return res;});case 7:response=_context16.sent;console.log(response);return _context16.abrupt(\"return\",response);case 10:case\"end\":return _context16.stop();}}},_callee16);}));function get(_x2,_x3){return _get.apply(this,arguments);}return get;}()},{key:\"sleep\",value:function sleep(ms){return new Promise(function(resolve){return setTimeout(resolve,ms);});}},{key:\"urlToBase64\",value:function urlToBase64(url){return new Promise(function(resolve){var img=new Image();img.crossOrigin='Anonymous';img.onload=function(){var canvas=document.createElement('CANVAS'),ctx=canvas.getContext('2d'),dataURL;canvas.height=img.height;canvas.width=img.width;ctx.drawImage(img,0,0);dataURL=canvas.toDataURL(\"image/png\");canvas=null;resolve(dataURL);};img.src=url;});}},{key:\"base64ToMultipart\",value:function base64ToMultipart(base64){return new Promise(function(resolve){fetch(base64).then(function(res){return res.blob();}).then(function(blob){var fd=new FormData();var file=new File([blob],\"sticker.png\");fd.append('file',file);resolve(fd);});});}},{key:\"go\",value:function go(panel){var activeStory=this.state.activeStory;var panel_to_change=activeStory==='tab_main'?'activePanelShop':activeStory==='tab_other'?'activePanelOther':'';var history=activeStory==='tab_main'?this.state.historyShop:activeStory==='tab_other'?this.state.historyOther:'';if(panel.startsWith('sticker_info_')){var stickers_id=panel.split('_')[2];if(this.state.stickers.hasOwnProperty(stickers_id)){this.setState({sticker_info:this.state.stickers[stickers_id]});panel='sticker_info';}else{panel='main';}}else if(panel.startsWith('stickers_report_')){var _stickers_id=panel.split('_')[2];if(this.state.stickers.hasOwnProperty(_stickers_id)){this.setState({sticker_info:this.state.stickers[_stickers_id]});panel='stickers_report';}else{panel='main';}}else if(panel==='stickers_report'){this.setState({report_other_visible:false});}if(history[history.length-1]!==panel){var _this$setState2;history.push(panel);var history_to_change=activeStory==='tab_main'?'historyShop':activeStory==='tab_other'?'historyOther':'';window.history.pushState({panel:panel},'Title');this.setState((_this$setState2={},_defineProperty(_this$setState2,panel_to_change,panel),_defineProperty(_this$setState2,history_to_change,history),_defineProperty(_this$setState2,\"snackbar\",null),_this$setState2));}this.change_hash(panel);}},{key:\"change_hash\",value:function change_hash(panel){var activeStory=this.state.activeStory;if(panel==='sticker_info'||panel==='stickers_report'){panel=panel+'_'+this.state.sticker_info.id;}bridge.send(\"VKWebAppSetLocation\",{\"location\":activeStory+'_'+panel});}},{key:\"onStoryChange\",value:function onStoryChange(e){var _this8=this;var story=e.currentTarget.dataset.story;this.setState({activeStory:story,snackbar:null});if(this.state.activeStory===story){if(story==='tab_main'&&this.state.activePanelShop!=='main'){this.back();}else if(story==='tab_other'&&this.state.activePanelOther!=='profile'){this.back();}}else{var panel_=story==='tab_main'?'activePanelShop':story==='tab_other'?'activePanelOther':'';var panel=this.state[panel_];setTimeout(function(){_this8.change_hash(panel);},150);}}},{key:\"onChange\",value:function onChange(e){var _e$currentTarget=e.currentTarget,name=_e$currentTarget.name,value=_e$currentTarget.value;var create_panel=this.state.create_panel;create_panel[name]=value;this.setState({create_panel:create_panel});}},{key:\"toggleCreateStickerContext\",value:function toggleCreateStickerContext(){this.setState({createStickerContextOpened:!this.state.createStickerContextOpened});}},{key:\"uploadFile\",value:function(){var _uploadFile=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee19(element,evt){var tgt,files,t,_iteratorNormalCompletion2,_didIteratorError2,_iteratorError2,_loop7,_iterator2,_step2;return _regeneratorRuntime.wrap(function _callee19$(_context20){while(1){switch(_context20.prev=_context20.next){case 0:tgt=evt.target||window.event.srcElement,files=tgt.files;t=this;if(!(FileReader&&files&&files.length)){_context20.next=30;break;}_iteratorNormalCompletion2=true;_didIteratorError2=false;_iteratorError2=undefined;_context20.prev=6;_loop7=/*#__PURE__*/_regeneratorRuntime.mark(function _loop7(){var file,fr;return _regeneratorRuntime.wrap(function _loop7$(_context19){while(1){switch(_context19.prev=_context19.next){case 0:file=_step2.value;fr=new FileReader();fr.onload=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee18(){var res,res1,image;return _regeneratorRuntime.wrap(function _callee18$(_context18){while(1){switch(_context18.prev=_context18.next){case 0:res=fr.result;//base64 result, to get src -> array[0].props.src\nres1=t.state.create_panel;if(file.type.includes('image')){image=new Image();image.src=res;image.onload=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee17(){var res10,stickers_count;return _regeneratorRuntime.wrap(function _callee17$(_context17){while(1){switch(_context17.prev=_context17.next){case 0:if(!(image.width===128&&image.height===128)){_context17.next=14;break;}if(!(element==='upload_sticker_img')){_context17.next=10;break;}res10=res1.hasOwnProperty('uploaded_stickers_img')?res1.uploaded_stickers_img:[];_context17.next=5;return res10.filter(function(val){return val!==undefined;}).length;case 5:_context17.t0=_context17.sent;stickers_count=_context17.t0+1;if(stickers_count<=48){res10.push(React.createElement(StickerImg,{mode:'small',id:'uploaded_sticker_'+res10.length,src:res,onClick:function onClick(e){var id=parseInt(e.currentTarget.id.split('_')[2]);var res01=t.state.create_panel;delete res01.uploaded_stickers_img[id];t.setState({create_panel:res01});}}));res1.uploaded_stickers_img=res10;t.setState({create_panel:res1});}_context17.next=12;break;case 10:res1[element]=res;t.setState({create_panel:res1});case 12:_context17.next=15;break;case 14:t.showSnackBar('Размер изображения должен быть 128×128px',React.createElement(Icon16Cancel,{fill:\"#fff\",width:14,height:14}),redBackground);case 15:case\"end\":return _context17.stop();}}},_callee17);}));}else{t.showSnackBar('Необходимо загрузить изображение в формате PNG',React.createElement(Icon16Cancel,{fill:\"#fff\",width:14,height:14}),redBackground);res1[element]=null;t.setState({create_panel:res1});}case 3:case\"end\":return _context18.stop();}}},_callee18);}));_context19.next=5;return fr.readAsDataURL(file);case 5:case\"end\":return _context19.stop();}}},_loop7);});_iterator2=files[Symbol.iterator]();case 9:if(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done){_context20.next=14;break;}return _context20.delegateYield(_loop7(),\"t0\",11);case 11:_iteratorNormalCompletion2=true;_context20.next=9;break;case 14:_context20.next=20;break;case 16:_context20.prev=16;_context20.t1=_context20[\"catch\"](6);_didIteratorError2=true;_iteratorError2=_context20.t1;case 20:_context20.prev=20;_context20.prev=21;if(!_iteratorNormalCompletion2&&_iterator2.return!=null){_iterator2.return();}case 23:_context20.prev=23;if(!_didIteratorError2){_context20.next=26;break;}throw _iteratorError2;case 26:return _context20.finish(23);case 27:return _context20.finish(20);case 28:_context20.next=30;break;case 30:case\"end\":return _context20.stop();}}},_callee19,this,[[6,16,20,28],[21,,23,27]]);}));function uploadFile(_x4,_x5){return _uploadFile.apply(this,arguments);}return uploadFile;}()},{key:\"showSnackBar\",value:function(){var _showSnackBar=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee20(text,icon,style){var _this9=this;return _regeneratorRuntime.wrap(function _callee20$(_context21){while(1){switch(_context21.prev=_context21.next){case 0:this.setState({snackbar:null});_context21.next=3;return this.sleep(150);case 3:this.setState({snackbar:React.createElement(Snackbar,{layout:\"vertical\",onClose:function onClose(){return _this9.setState({snackbar:null});},before:React.createElement(Avatar,{size:24,style:style},icon)},text)});case 4:case\"end\":return _context21.stop();}}},_callee20,this);}));function showSnackBar(_x6,_x7,_x8){return _showSnackBar.apply(this,arguments);}return showSnackBar;}()},{key:\"approveStickers\",value:function(){var _approveStickers=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee25(){var _this10=this;return _regeneratorRuntime.wrap(function _callee25$(_context27){while(1){switch(_context27.prev=_context27.next){case 0:this.setState({popout:React.createElement(ScreenSpinner,null)});_context27.prev=1;return _context27.delegateYield(/*#__PURE__*/_regeneratorRuntime.mark(function _callee24(){var stickers,sticker_pack,_loop8,i,to_id,params;return _regeneratorRuntime.wrap(function _callee24$(_context26){while(1){switch(_context26.prev=_context26.next){case 0:_context26.next=2;return bridge.sendPromise(\"VKWebAppGetAuthToken\",{\"app_id\":7363654,\"scope\":\"docs\"});case 2:access_token=_context26.sent;access_token=access_token.access_token;_context26.next=6;return bridge.sendPromise(\"VKWebAppCallAPIMethod\",{\"method\":\"docs.getUploadServer\",\"request_id\":\"upload_server\",\"params\":{\"group_id\":\"193090865\",\"v\":\"5.00\",\"access_token\":access_token}});case 6:upload_url1=_context26.sent;upload_url1=upload_url1.response.upload_url;stickers=_this10.state.moderation_sticker_info.stickers_;/*if (this.state.stickers[stickers_id].hasOwnProperty('data')) {\n\t\t\t\tfor(var i = 0; i < this.state.stickers[stickers_id].data.length; i++){\n\t\t\t\t\tif(this.state.captcha.done === false && this.state.activePanelShop === 'sticker_info') {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tlet remove = await bridge.sendPromise(\"VKWebAppCallAPIMethod\", {\n\t\t\t\t\t\t\t\t\"method\": \"docs.delete\",\n\t\t\t\t\t\t\t\t\"request_id\": \"del_doc\",\n\t\t\t\t\t\t\t\t\"params\": {\n\t\t\t\t\t\t\t\t\t\"owner_id\": this.state.stickers[stickers_id].data[i].owner_id,\n\t\t\t\t\t\t\t\t\t\"doc_id\": this.state.stickers[stickers_id].data[i].doc_id,\n\t\t\t\t\t\t\t\t\t\"v\": \"5.103\",\n\t\t\t\t\t\t\t\t\t\"access_token\": access_token\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\tconsole.log('error del...');\n\t\t\t\t\t\t\ti--;\n\t\t\t\t\t\t}\n\t\t\t\t\t}else if(this.state.captcha.done === null){\n\t\t\t\t\t\ti--;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}*/sticker_pack={author:_this10.state.moderation_sticker_info.author,author_id:_this10.state.moderation_sticker_info.user_id,data:[],description:_this10.state.moderation_sticker_info.description,preview:_this10.state.moderation_sticker_info.preview,price:_this10.state.moderation_sticker_info.price,title:_this10.state.moderation_sticker_info.title};_loop8=/*#__PURE__*/_regeneratorRuntime.mark(function _loop8(_i4){var sticker_url;return _regeneratorRuntime.wrap(function _loop8$(_context25){while(1){switch(_context25.prev=_context25.next){case 0:if(!(_this10.state.captcha.done===false&&_this10.state.activePanelOther==='moderation_sticker_info')){_context25.next=6;break;}sticker_url=stickers[_i4].props.src;_context25.next=4;return _this10.urlToBase64('https://murmuring-bastion-20764.herokuapp.com/'+sticker_url).then(/*#__PURE__*/function(){var _ref11=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee23(base64Img){return _regeneratorRuntime.wrap(function _callee23$(_context24){while(1){switch(_context24.prev=_context24.next){case 0:_context24.next=2;return _this10.base64ToMultipart(base64Img).then(/*#__PURE__*/function(){var _ref12=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee22(multipart){return _regeneratorRuntime.wrap(function _callee22$(_context23){while(1){switch(_context23.prev=_context23.next){case 0:_context23.next=2;return fetch('https://murmuring-bastion-20764.herokuapp.com/'+upload_url1,{method:'POST',body:multipart}).then(function(res){return res.json();}).then(/*#__PURE__*/function(){var _ref13=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee21(res){var file,save;return _regeneratorRuntime.wrap(function _callee21$(_context22){while(1){switch(_context22.prev=_context22.next){case 0:_context22.prev=0;file=res.file;_context22.next=4;return bridge.sendPromise(\"VKWebAppCallAPIMethod\",{\"method\":\"docs.save\",\"request_id\":\"save_graffiti\",\"params\":{\"file\":file,\"v\":\"5.103\",\"access_token\":access_token}});case 4:save=_context22.sent;sticker_pack.data.push({access_key:save.response.graffiti.access_key,doc_id:save.response.graffiti.id,owner_id:save.response.graffiti.owner_id,url:save.response.graffiti.url});_context22.next=12;break;case 8:_context22.prev=8;_context22.t0=_context22[\"catch\"](0);console.log('error uploading...');_i4--;case 12:_context22.next=14;return _this10.sleep(1000);case 14:case\"end\":return _context22.stop();}}},_callee21,null,[[0,8]]);}));return function(_x11){return _ref13.apply(this,arguments);};}());case 2:case\"end\":return _context23.stop();}}},_callee22);}));return function(_x10){return _ref12.apply(this,arguments);};}());case 2:case\"end\":return _context24.stop();}}},_callee23);}));return function(_x9){return _ref11.apply(this,arguments);};}());case 4:_context25.next=7;break;case 6:if(_this10.state.captcha.done===null){_i4--;}case 7:i=_i4;case 8:case\"end\":return _context25.stop();}}},_loop8);});i=0;case 12:if(!(i<stickers.length)){_context26.next=17;break;}return _context26.delegateYield(_loop8(i),\"t0\",14);case 14:i++;_context26.next=12;break;case 17:console.log(sticker_pack);to_id=_this10.state.moderation_sticker_info.hasOwnProperty('stickers_id')?_this10.state.moderation_sticker_info.stickers_id:null;params={sticker_pack:JSON.stringify(sticker_pack),stickers_history_id:_this10.state.moderation_sticker_info.i};if(to_id!==null){params.to_id=to_id;}else{params.sales=0;}_context26.next=23;return _this10.get('moderation.approveStickers',params);case 23:_context26.next=25;return _this10.updateModeration();case 25:case\"end\":return _context26.stop();}}},_callee24);})(),\"t0\",3);case 3:_context27.next=9;break;case 5:_context27.prev=5;_context27.t1=_context27[\"catch\"](1);console.log(_context27.t1);this.showSnackBar('Произошла ошибка при получении данных',React.createElement(Icon16Cancel,{fill:\"#fff\",width:14,height:14}),redBackground);case 9:this.setState({popout:null});this.back();case 11:case\"end\":return _context27.stop();}}},_callee25,this,[[1,5]]);}));function approveStickers(){return _approveStickers.apply(this,arguments);}return approveStickers;}()},{key:\"rejectStickers\",value:function(){var _rejectStickers=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee26(){var author_id,stickers_history_id;return _regeneratorRuntime.wrap(function _callee26$(_context28){while(1){switch(_context28.prev=_context28.next){case 0:this.setState({popout:React.createElement(ScreenSpinner,null)});author_id=this.state.moderation_sticker_info.user_id;stickers_history_id=this.state.moderation_sticker_info.i;_context28.next=5;return this.get('moderation.rejectStickers',{author_id:author_id,stickers_history_id:stickers_history_id});case 5:_context28.next=7;return this.updateModeration();case 7:this.setState({popout:null});this.back();case 9:case\"end\":return _context28.stop();}}},_callee26,this);}));function rejectStickers(){return _rejectStickers.apply(this,arguments);}return rejectStickers;}()},{key:\"install\",value:function(){var _install=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee27(stickers_id){var _stickers,data,i,remove,obj,add,added;return _regeneratorRuntime.wrap(function _callee27$(_context29){while(1){switch(_context29.prev=_context29.next){case 0:this.showSnackBar('Идёт установка стикеров, пожалуйста не выходите из приложения - иначе они могут установиться не правильно',React.createElement(Icon16Spinner,{fill:\"#fff\",width:14,height:14}),blueBackground);this.setState({popout:React.createElement(ScreenSpinner,null)});_context29.prev=2;_context29.next=5;return bridge.sendPromise(\"VKWebAppGetAuthToken\",{\"app_id\":7363654,\"scope\":\"docs\"});case 5:access_token=_context29.sent;access_token=access_token.access_token;_context29.next=9;return this.get('stickers.get');case 9:_stickers=_context29.sent;_stickers=_stickers.stickers[stickers_id];data=_stickers.data;if(!this.state.user.hasOwnProperty('stickers_cache')){_context29.next=35;break;}if(!this.state.user.stickers_cache.hasOwnProperty(stickers_id+'')){_context29.next=35;break;}i=0;case 15:if(!(i<this.state.user.stickers_cache[stickers_id].length)){_context29.next=35;break;}if(!(this.state.captcha.done===false&&this.state.activePanelShop==='sticker_info')){_context29.next=29;break;}_context29.prev=17;_context29.next=20;return bridge.sendPromise(\"VKWebAppCallAPIMethod\",{\"method\":\"docs.delete\",\"request_id\":\"del_doc\",\"params\":{\"owner_id\":this.state.user.id,\"doc_id\":this.state.user.stickers_cache[stickers_id][i],\"v\":\"5.103\",\"access_token\":access_token}});case 20:remove=_context29.sent;_context29.next=27;break;case 23:_context29.prev=23;_context29.t0=_context29[\"catch\"](17);console.log('error del...');i--;case 27:_context29.next=30;break;case 29:if(this.state.captcha.done===null){i--;}case 30:_context29.next=32;return this.sleep(500);case 32:i++;_context29.next=15;break;case 35:i=0;case 36:if(!(i<data.length)){_context29.next=62;break;}if(!(this.state.captcha.done===false&&this.state.activePanelShop==='sticker_info')){_context29.next=56;break;}_context29.prev=38;obj=data[i];_context29.next=42;return bridge.sendPromise(\"VKWebAppCallAPIMethod\",{\"method\":\"docs.add\",\"request_id\":\"add_doc\",\"params\":{\"owner_id\":obj.owner_id,\"doc_id\":obj.doc_id,\"access_key\":obj.access_key,\"v\":\"5.103\",\"access_token\":access_token}});case 42:add=_context29.sent;_context29.next=45;return this.get('stickers.add',{stickers_id:stickers_id,i:i,doc_id:add.response});case 45:added=_context29.sent;if(!(added.access===false)){_context29.next=48;break;}return _context29.abrupt(\"break\",62);case 48:_context29.next=54;break;case 50:_context29.prev=50;_context29.t1=_context29[\"catch\"](38);console.log('error add...');i--;case 54:_context29.next=57;break;case 56:if(this.state.captcha.done===null){i--;}case 57:_context29.next=59;return this.sleep(500);case 59:i++;_context29.next=36;break;case 62:this.showSnackBar('Стикеры установлены',React.createElement(Icon16Done,{fill:\"#fff\",width:14,height:14}),blueBackground);_context29.next=68;break;case 65:_context29.prev=65;_context29.t2=_context29[\"catch\"](2);this.showSnackBar('Произошла ошибка при получении данных',React.createElement(Icon16Cancel,{fill:\"#fff\",width:14,height:14}),redBackground);case 68:this.updateStickersInfo();this.setState({popout:null});case 70:case\"end\":return _context29.stop();}}},_callee27,this,[[2,65],[17,23],[38,50]]);}));function install(_x12){return _install.apply(this,arguments);}return install;}()},{key:\"delete\",value:function(){var _delete2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee28(stickers_id){var i,remove;return _regeneratorRuntime.wrap(function _callee28$(_context30){while(1){switch(_context30.prev=_context30.next){case 0:this.showSnackBar('Идёт очистка стикеров, пожалуйста не выходите из приложения - иначе они могут очиститься не правильно',React.createElement(Icon16Spinner,{fill:\"#fff\",width:14,height:14}),blueBackground);this.setState({popout:React.createElement(ScreenSpinner,null)});_context30.prev=2;_context30.next=5;return bridge.sendPromise(\"VKWebAppGetAuthToken\",{\"app_id\":7363654,\"scope\":\"docs\"});case 5:access_token=_context30.sent;access_token=access_token.access_token;if(!this.state.user.hasOwnProperty('stickers_cache')){_context30.next=33;break;}if(!this.state.user.stickers_cache.hasOwnProperty(stickers_id+'')){_context30.next=33;break;}i=0;case 10:if(!(i<this.state.user.stickers_cache[stickers_id].length)){_context30.next=30;break;}if(!(this.state.captcha.done===false&&this.state.activePanelShop==='sticker_info')){_context30.next=24;break;}_context30.prev=12;_context30.next=15;return bridge.sendPromise(\"VKWebAppCallAPIMethod\",{\"method\":\"docs.delete\",\"request_id\":\"del_doc\",\"params\":{\"owner_id\":this.state.user.id,\"doc_id\":this.state.user.stickers_cache[stickers_id][i],\"v\":\"5.103\",\"access_token\":access_token}});case 15:remove=_context30.sent;_context30.next=22;break;case 18:_context30.prev=18;_context30.t0=_context30[\"catch\"](12);console.log('error delete...');i--;case 22:_context30.next=25;break;case 24:if(this.state.captcha.done===null){i--;}case 25:_context30.next=27;return this.sleep(500);case 27:i++;_context30.next=10;break;case 30:_context30.next=32;return this.get('stickers.delete',{stickers_id:stickers_id});case 32:this.showSnackBar('Стикеры очищены',React.createElement(Icon16Done,{fill:\"#fff\",width:14,height:14}),blueBackground);case 33:_context30.next=38;break;case 35:_context30.prev=35;_context30.t1=_context30[\"catch\"](2);this.showSnackBar('Произошла ошибка при получении данных',React.createElement(Icon16Cancel,{fill:\"#fff\",width:14,height:14}),redBackground);case 38:this.updateStickersInfo();this.setState({popout:null});case 40:case\"end\":return _context30.stop();}}},_callee28,this,[[2,35],[12,18]]);}));function _delete(_x13){return _delete2.apply(this,arguments);}return _delete;}()},{key:\"create_stickers\",value:function(){var _create_stickers=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee29(){var _this$state$create_pa,title,description,price,upload_preview_img,uploaded_stickers_img,author,preview,stickers,uploaded,_iteratorNormalCompletion3,_didIteratorError3,_iteratorError3,_iterator3,_step3,sticker,_i5,resp;return _regeneratorRuntime.wrap(function _callee29$(_context31){while(1){switch(_context31.prev=_context31.next){case 0:this.setState({popout:React.createElement(ScreenSpinner,null)});_this$state$create_pa=this.state.create_panel,title=_this$state$create_pa.title,description=_this$state$create_pa.description,price=_this$state$create_pa.price,upload_preview_img=_this$state$create_pa.upload_preview_img,uploaded_stickers_img=_this$state$create_pa.uploaded_stickers_img;author=this.state.user.first_name+' '+this.state.user.last_name;preview='';stickers=[];uploaded=0;_context31.next=8;return request({url:'https://murmuring-bastion-20764.herokuapp.com/https://api.imgbb.com/1/upload?key=b2bfb837d63c6adae4d191841abb04dc',method:'POST',form:{image:upload_preview_img.replace('data:image/png;base64,','')}},function(error,response,body){if(response.statusCode===200){body=JSON.parse(body);var url=body.data.url;preview=url;uploaded++;}else{console.log('error',body);}});case 8:_iteratorNormalCompletion3=true;_didIteratorError3=false;_iteratorError3=undefined;_context31.prev=11;_iterator3=uploaded_stickers_img[Symbol.iterator]();case 13:if(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done){_context31.next=23;break;}sticker=_step3.value;if(!(sticker!==undefined)){_context31.next=20;break;}_context31.next=18;return request({url:'https://murmuring-bastion-20764.herokuapp.com/https://api.imgbb.com/1/upload?key=b2bfb837d63c6adae4d191841abb04dc',method:'POST',form:{image:sticker.props.src.replace('data:image/png;base64,','')}},function(error,response,body){if(response.statusCode===200){body=JSON.parse(body);var url=body.data.url;stickers.push(url);uploaded++;}else{console.log('error',body);}});case 18:_context31.next=20;return this.sleep(500);case 20:_iteratorNormalCompletion3=true;_context31.next=13;break;case 23:_context31.next=29;break;case 25:_context31.prev=25;_context31.t0=_context31[\"catch\"](11);_didIteratorError3=true;_iteratorError3=_context31.t0;case 29:_context31.prev=29;_context31.prev=30;if(!_iteratorNormalCompletion3&&_iterator3.return!=null){_iterator3.return();}case 32:_context31.prev=32;if(!_didIteratorError3){_context31.next=35;break;}throw _iteratorError3;case 35:return _context31.finish(32);case 36:return _context31.finish(29);case 37:_i5=0;case 38:if(!(_i5<2)){_context31.next=49;break;}if(!(uploaded===uploaded_stickers_img.length+1)){_context31.next=43;break;}return _context31.abrupt(\"break\",49);case 43:_i5--;_context31.next=46;return this.sleep(500);case 46:_i5++;_context31.next=38;break;case 49:_context31.next=51;return this.get('stickers.create',{title:title,description:description,price:price,preview:preview,stickers:stickers,author:author,stickers_id:this.state.create_panel.hasOwnProperty('stickers_id')?parseInt(this.state.create_panel.stickers_id):null});case 51:resp=_context31.sent;if(!(resp.status==='ok')){_context31.next=57;break;}this.setState({create_panel:{title:\"\",preview:\"\",price:1,description:\"\",stickers:[]}});_context31.next=56;return this.updateUser();case 56:this.go('stickers_history');case 57:this.setState({popout:null});case 58:case\"end\":return _context31.stop();}}},_callee29,this,[[11,25,29,37],[30,,32,36]]);}));function create_stickers(){return _create_stickers.apply(this,arguments);}return create_stickers;}()},{key:\"go_to_edit\",value:function go_to_edit(){var _this11=this;var create_panel=this.state.create_panel;var stickers_=this.state.sticker_info.stickers;var stickers=[];create_panel.stickers_id=this.state.sticker_info.id;create_panel.title=this.state.sticker_info.title;create_panel.description=this.state.sticker_info.description;create_panel.price=this.state.sticker_info.price;create_panel.upload_preview_img=this.state.sticker_info.preview;for(var _i6=0;_i6<stickers_.length;_i6++){var sticker=stickers_[_i6];stickers.push(React.createElement(StickerImg,{mode:'small',id:'uploaded_sticker_'+_i6,src:sticker.props.src,onClick:function onClick(e){var id=parseInt(e.currentTarget.id.split('_')[2]);var create_panel_=_this11.state.create_panel;delete create_panel_.uploaded_stickers_img[id];_this11.setState({create_panel:create_panel_});}}));}create_panel.uploaded_stickers_img=stickers;this.setState({create_panel:create_panel,activeStory:'tab_other'});setTimeout(function(){_this11.go('create');},150);}},{key:\"report_stickers\",value:function(){var _report_stickers=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee30(stickers_id,report_reason){return _regeneratorRuntime.wrap(function _callee30$(_context32){while(1){switch(_context32.prev=_context32.next){case 0:this.setState({popout:React.createElement(ScreenSpinner,null)});if(!(typeof report_reason==='number')){_context32.next=6;break;}_context32.next=4;return this.get('report.send',{stickers_id:stickers_id,report_reason_id:report_reason});case 4:_context32.next=8;break;case 6:_context32.next=8;return this.get('report.send',{stickers_id:stickers_id,report_reason_text:report_reason});case 8:this.setState({popout:null});this.back();this.showSnackBar('Жалоба отправлена, спасибо!',React.createElement(Icon16Done,{fill:\"#fff\",width:14,height:14}),blueBackground);case 11:case\"end\":return _context32.stop();}}},_callee30,this);}));function report_stickers(_x14,_x15){return _report_stickers.apply(this,arguments);}return report_stickers;}()},{key:\"withdraw\",value:function(){var _withdraw=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee31(){var resp;return _regeneratorRuntime.wrap(function _callee31$(_context33){while(1){switch(_context33.prev=_context33.next){case 0:this.setState({popout:React.createElement(ScreenSpinner,null)});_context33.next=3;return this.get('users.withdraw');case 3:resp=_context33.sent;this.setState({popout:null});if(resp.access===false){this.showSnackBar(resp.error_text,React.createElement(Icon16Cancel,{fill:\"#fff\",width:14,height:14}),redBackground);}else{this.showSnackBar('Запрос на вывод средств отправлен, ожидайте',React.createElement(Icon16Done,{fill:\"#fff\",width:14,height:14}),blueBackground);}case 6:case\"end\":return _context33.stop();}}},_callee31,this);}));function withdraw(){return _withdraw.apply(this,arguments);}return withdraw;}()},{key:\"render\",value:function render(){var _this12=this;return React.createElement(Epic,{activeStory:this.state.activeStory,tabbar:React.createElement(Tabbar,null,React.createElement(TabbarItem,{onClick:this.onStoryChange,selected:this.state.activeStory==='tab_main',\"data-story\":\"tab_main\"},React.createElement(Icon28MarketOutline,null)),React.createElement(TabbarItem,{onClick:this.onStoryChange,selected:this.state.activeStory==='tab_other',\"data-story\":\"tab_other\"},React.createElement(Icon28UserOutline,null)))},React.createElement(View,{id:\"tab_main\",activePanel:this.state.activePanelShop,popout:this.state.popout,history:this.state.historyShop,onSwipeBack:this.back,header:false},React.createElement(Panel,{id:\"main\",separator:false},React.createElement(PanelHeaderSimple,{separator:false},\"\\u0421\\u0442\\u0438\\u043A\\u0435\\u0440\\u044B\"),this.state.stickers_panel_new.length>0&&React.createElement(Tabs,null,React.createElement(TabsItem,{onClick:function onClick(){return _this12.setState({slideTabIndex_main:0});},selected:this.state.slideTabIndex_main===0},\"\\u041D\\u043E\\u0432\\u0438\\u043D\\u043A\\u0438\"),React.createElement(TabsItem,{onClick:function onClick(){return _this12.setState({slideTabIndex_main:1});},selected:this.state.slideTabIndex_main===1},\"\\u041F\\u043E\\u043F\\u0443\\u043B\\u044F\\u0440\\u043D\\u044B\\u0435\")),React.createElement(Separator,null),React.createElement(PullToRefresh,{onRefresh:/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee32(){return _regeneratorRuntime.wrap(function _callee32$(_context34){while(1){switch(_context34.prev=_context34.next){case 0:_this12.setState({refreshedStickers:true});_context34.next=3;return _this12.updateStickers();case 3:_context34.next=5;return _this12.updateQuestions();case 5:_this12.setState({refreshedStickers:false});case 6:case\"end\":return _context34.stop();}}},_callee32);})),isFetching:this.state.refreshedStickers},this.state.stickers_panel_new.length>0?React.createElement(Gallery,{slideWidth:\"100%\",style:{height:\"100%\",margin:\"8px\"},slideIndex:this.state.slideTabIndex_main,onChange:function onChange(slideIndex){_this12.setState({slideTabIndex_main:slideIndex});}},React.createElement(\"div\",null,React.createElement(List,{style:{marginTop:\"15px\"}},this.state.stickers_panel_new)),React.createElement(\"div\",null,React.createElement(List,{style:{marginTop:\"15px\"}},this.state.stickers_panel_popular))):React.createElement(Placeholder,{icon:React.createElement(Icon56GalleryOutline,null),stretched:true},\"\\u0421\\u0442\\u0438\\u043A\\u0435\\u0440\\u043E\\u0432 \\u043F\\u043E\\u043A\\u0430 \\u0447\\u0442\\u043E \\u043D\\u0435\\u0442\"),this.state.snackbar&&this.state.snackbar)),React.createElement(Panel,{id:\"sticker_info\"},React.createElement(PanelHeaderSimple,{left:React.createElement(PanelHeaderBack,{onClick:function onClick(){_this12.back();}})},React.createElement(PanelHeaderContent,null,\"\\u0418\\u043D\\u0444\\u043E\\u0440\\u043C\\u0430\\u0446\\u0438\\u044F\")),React.createElement(PullToRefresh,{onRefresh:/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee33(){return _regeneratorRuntime.wrap(function _callee33$(_context35){while(1){switch(_context35.prev=_context35.next){case 0:_this12.setState({refreshedStickersInfo:true});_context35.next=3;return _this12.updateStickersInfo();case 3:_context35.next=5;return _this12.updateQuestions();case 5:_this12.setState({refreshedStickersInfo:false});case 6:case\"end\":return _context35.stop();}}},_callee33);})),isFetching:this.state.refreshedStickersInfo},React.createElement(Div,null,React.createElement(StickerButton,{title:this.state.sticker_info.title,description:this.state.sticker_info.author+'\\nПродано: '+(this.state.sticker_info.sales===0?0:this.state.sticker_info.sales.length),src:this.state.sticker_info.preview,mode:\"cell\",more:this.state.sticker_info.author_id+''===this.state.user.id+''?React.createElement(Icon28WriteOutline,{onClick:function onClick(){_this12.go_to_edit();},fill:'#ffa000'}):React.createElement(Icon28ReportOutline,{onClick:/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee34(){return _regeneratorRuntime.wrap(function _callee34$(_context36){while(1){switch(_context36.prev=_context36.next){case 0:_context36.next=2;return _this12.updateReportReasons();case 2:_this12.go('stickers_report');case 3:case\"end\":return _context36.stop();}}},_callee34);})),fill:'#eb4250'})}),React.createElement(\"div\",{style:{marginLeft:'8px',marginRight:'8px'}},React.createElement(StickerDescription,null,this.state.sticker_info.description),React.createElement(\"div\",{style:{marginTop:'10px'}},this.state.user.stickers.indexOf(this.state.sticker_info.id)>=0?React.createElement(\"div\",{style:{display:'flex'}},React.createElement(Button,{onClick:function onClick(){_this12.install(_this12.state.sticker_info.id);},size:\"xl\",stretched:true},'Установить'),this.state.user.hasOwnProperty('stickers_cache')?this.state.user.stickers_cache.hasOwnProperty(this.state.sticker_info.id)?React.createElement(Button,{style:{marginLeft:'8px'},mode:\"secondary\",onClick:function onClick(){_this12.delete(_this12.state.sticker_info.id);},size:\"xl\",stretched:true},'Очистить'):null:null):React.createElement(\"div\",{style:{display:'flex'}},React.createElement(Button,{size:\"xl\",stretched:true,mode:\"commerce\",onClick:/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee35(){return _regeneratorRuntime.wrap(function _callee35$(_context37){while(1){switch(_context37.prev=_context37.next){case 0:if(!(_this12.state.user.balance>=_this12.state.sticker_info.price)){_context37.next=9;break;}_this12.setState({popout:React.createElement(ScreenSpinner,null)});_context37.next=4;return _this12.get('stickers.buy',{stickers_id:_this12.state.sticker_info.id});case 4:_context37.next=6;return _this12.updateStickersInfo();case 6:_this12.setState({popout:null});_context37.next=10;break;case 9:_this12.showSnackBar('На вашем балансе недостаточно средств',React.createElement(Icon16Cancel,{fill:\"#fff\",width:14,height:14}),redBackground);case 10:case\"end\":return _context37.stop();}}},_callee35);}))},'Получить за '+this.state.sticker_info.price+' руб.')))),React.createElement(\"div\",{className:\"centered\",style:{marginTop:\"18px\"}},React.createElement(StickerGrid,{mode:\"small\"},this.state.sticker_info.stickers))),this.state.questions_panel&&React.createElement(Div,null,React.createElement(\"div\",{className:\"centered\"},React.createElement(\"h4\",null,\"\\u041E\\u0442\\u0432\\u0435\\u0442\\u044B \\u043D\\u0430 \\u0432\\u043E\\u043F\\u0440\\u043E\\u0441\\u044B\")),React.createElement(\"div\",{className:\"centered\"},React.createElement(CardElements,null,this.state.questions_panel))),this.state.snackbar&&this.state.snackbar)),React.createElement(Panel,{id:\"input_captcha\"},React.createElement(PanelHeaderSimple,null,React.createElement(PanelHeaderContent,null,\"\\u0412\\u0432\\u043E\\u0434 \\u043A\\u0430\\u043F\\u0447\\u0438\")),React.createElement(FormLayout,null,React.createElement(\"div\",{className:\"centered\"},React.createElement(\"img\",{width:'60%',src:this.state.captcha.url})),React.createElement(Input,{align:'center',value:this.state.captcha.text,onChange:function onChange(e){var c=_this12.state.captcha;c.text=e.currentTarget.value;_this12.setState({captcha:c});}}),React.createElement(Button,{size:\"xl\",onClick:function onClick(){var c=_this12.state.captcha;c.done=true;_this12.setState({captcha:c});}},\"\\u041E\\u0442\\u043F\\u0440\\u0430\\u0432\\u0438\\u0442\\u044C\"))),React.createElement(Panel,{id:\"stickers_report\"},React.createElement(PanelHeaderSimple,{left:React.createElement(PanelHeaderClose,{onClick:function onClick(){_this12.back();}})},React.createElement(PanelHeaderContent,null,\"\\u0416\\u0430\\u043B\\u043E\\u0431\\u0430\")),React.createElement(Group,{header:React.createElement(Header,{mode:\"secondary\"},\"\\u041F\\u0440\\u0438\\u0447\\u0438\\u043D\\u0430 \\u0436\\u0430\\u043B\\u043E\\u0431\\u044B\")},this.state.report_reasons_panel&&this.state.report_reasons_panel,React.createElement(CellButton,{onClick:function onClick(){_this12.setState({report_other_visible:!_this12.state.report_other_visible});}},\"\\u0414\\u0440\\u0443\\u0433\\u043E\\u0435\"),this.state.report_other_visible&&React.createElement(FormLayout,null,React.createElement(Textarea,{value:this.state.report_reason_text,onChange:function onChange(e){_this12.setState({report_reason_text:e.currentTarget.value});},top:\"\\u041E\\u043F\\u0438\\u0448\\u0438\\u0442\\u0435 \\u043F\\u043E\\u0434\\u0440\\u043E\\u0431\\u043D\\u0435\\u0435\"}),React.createElement(Button,{onClick:function onClick(){_this12.report_stickers(_this12.state.sticker_info.id,_this12.state.report_reason_text);},disabled:this.state.report_reason_text.length===0,size:\"xl\"},\"\\u041E\\u0442\\u043F\\u0440\\u0430\\u0432\\u0438\\u0442\\u044C\"))))),React.createElement(View,{id:\"tab_other\",activePanel:this.state.activePanelOther,popout:this.state.popout,history:this.state.historyOther,onSwipeBack:this.back,header:false},React.createElement(Panel,{id:\"profile\"},React.createElement(PanelHeaderSimple,null,React.createElement(PanelHeaderContent,null,\"\\u041F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\")),React.createElement(PullToRefresh,{onRefresh:/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee36(){return _regeneratorRuntime.wrap(function _callee36$(_context38){while(1){switch(_context38.prev=_context38.next){case 0:_this12.setState({refreshedProfile:true});_context38.next=3;return _this12.updateUser();case 3:_this12.setState({refreshedProfile:false});case 4:case\"end\":return _context38.stop();}}},_callee36);})),isFetching:this.state.refreshedProfile},React.createElement(Div,null,React.createElement(\"div\",{className:\"centered\"},React.createElement(Avatar,{src:this.state.user.photo_100,size:100})),React.createElement(\"br\",null),React.createElement(\"div\",{className:\"centered\",style:{fontSize:\"large\"}},this.state.user.first_name+' '+this.state.user.last_name),React.createElement(\"br\",null),React.createElement(Group,{separator:\"hide\"},React.createElement(Cell,{asideContent:React.createElement(Icon16Dropdown,{style:{transform:\"rotate(\".concat(this.state.balance_manipulation?'180deg':'0',\")\")}}),onClick:function onClick(){_this12.setState({balance_manipulation:!_this12.state.balance_manipulation});},indicator:this.state.user.balance+' ₽'},\"\\u0412\\u0430\\u0448 \\u0431\\u0430\\u043B\\u0430\\u043D\\u0441\"),this.state.balance_manipulation&&React.createElement(\"div\",{style:{display:'flex',justifyContent:'flex-end',marginTop:'8px'}},React.createElement(Button,{size:\"l\",onClick:/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee37(){return _regeneratorRuntime.wrap(function _callee37$(_context39){while(1){switch(_context39.prev=_context39.next){case 0:_this12.setState({popout:React.createElement(ScreenSpinner,null)});_context39.prev=1;_context39.next=4;return bridge.sendPromise(\"VKWebAppOpenPayForm\",{\"app_id\":7363654,\"action\":\"transfer-to-group\",\"params\":{group_id:193090865}});case 4:_context39.next=8;break;case 6:_context39.prev=6;_context39.t0=_context39[\"catch\"](1);case 8:_context39.next=10;return _this12.sleep(3000);case 10:_context39.next=12;return _this12.updateUser();case 12:_this12.setState({popout:null});case 13:case\"end\":return _context39.stop();}}},_callee37,null,[[1,6]]);})),before:React.createElement(Icon16Down,null)},\"\\u041F\\u043E\\u043F\\u043E\\u043B\\u043D\\u0438\\u0442\\u044C\"),React.createElement(Button,{size:\"l\",before:React.createElement(Icon16Up,null),mode:\"secondary\",style:{marginLeft:8},onClick:/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee38(){return _regeneratorRuntime.wrap(function _callee38$(_context40){while(1){switch(_context40.prev=_context40.next){case 0:if(!(_this12.state.user.balance>0)){_context40.next=5;break;}_context40.next=3;return _this12.withdraw();case 3:_context40.next=6;break;case 5:_this12.showSnackBar('Ваш баланс равен нулю',React.createElement(Icon16Cancel,{fill:\"#fff\",width:14,height:14}),redBackground);case 6:case\"end\":return _context40.stop();}}},_callee38);}))},\"\\u0412\\u044B\\u0432\\u0435\\u0441\\u0442\\u0438\"))),React.createElement(Group,{separator:\"hide\",header:React.createElement(Header,{mode:\"primary\"},\"\\u0412\\u0430\\u0448\\u0438 \\u0441\\u0442\\u0438\\u043A\\u0435\\u0440\\u044B\")},React.createElement(\"div\",{className:\"centered\",style:{marginTop:\"18px\"}},React.createElement(StickerGrid,{mode:\"big\"},this.state.user_stickers,React.createElement(StickerImg,{mode:'big',onClick:function onClick(){_this12.go(\"create\");}},\"+\"))))),this.state.snackbar&&this.state.snackbar)),React.createElement(Panel,{id:\"create\"},React.createElement(PanelHeaderSimple,{left:React.createElement(PanelHeaderBack,{onClick:function onClick(){_this12.back();}})},React.createElement(PanelHeaderContent,{aside:React.createElement(Icon16Dropdown,{style:{transform:\"rotate(\".concat(this.state.createStickerContextOpened?'180deg':'0',\")\")}}),onClick:function onClick(){_this12.toggleCreateStickerContext();}},\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0441\\u0442\\u0438\\u043A\\u0435\\u0440\\u044B\")),React.createElement(PanelHeaderContext,{opened:this.state.createStickerContextOpened,onClose:function onClose(){_this12.toggleCreateStickerContext();}},React.createElement(List,null,React.createElement(Cell,{before:React.createElement(Icon28HistoryForwardOutline,null),onClick:function onClick(){_this12.toggleCreateStickerContext();_this12.updateUser();_this12.go(\"stickers_history\");}},\"\\u0418\\u0441\\u0442\\u043E\\u0440\\u0438\\u044F\"),this.state.user.is_admin&&React.createElement(Cell,{before:React.createElement(Icon28BugOutline,null),onClick:/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee39(){return _regeneratorRuntime.wrap(function _callee39$(_context41){while(1){switch(_context41.prev=_context41.next){case 0:_context41.next=2;return _this12.updateModeration();case 2:_this12.toggleCreateStickerContext();_this12.go(\"moderation\");case 4:case\"end\":return _context41.stop();}}},_callee39);}))},\"\\u041C\\u043E\\u0434\\u0435\\u0440\\u0430\\u0446\\u0438\\u044F\"))),React.createElement(FormLayout,null,React.createElement(Input,{type:\"text\",top:\"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 \\u0441\\u0442\\u0438\\u043A\\u0435\\u0440-\\u043F\\u0430\\u043A\\u0430\",name:\"title\",value:this.state.create_panel.title,onChange:this.onChange,status:this.state.create_panel.title?this.state.create_panel.title.length<=20?'valid':'error':'error',bottom:this.state.create_panel.title?this.state.create_panel.title.length<=20?'':'Максимальная длина - 20':'Пожалуйста, введите название'}),React.createElement(Textarea,{type:\"text\",top:\"\\u041E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435\",name:\"description\",value:this.state.create_panel.description,onChange:this.onChange,status:this.state.create_panel.description?this.state.create_panel.description.length<=100?'valid':'error':'error',bottom:this.state.create_panel.description?this.state.create_panel.description.length<=100?'':'Максимальная длина - 100':'Пожалуйста, введите описание'}),React.createElement(Input,{type:\"number\",top:\"\\u0426\\u0435\\u043D\\u0430\",name:\"price\",value:this.state.create_panel.price,onChange:this.onChange,status:this.state.create_panel.price>0?this.state.create_panel.price<=1000?this.state.create_panel.price.toString().includes('.')?'error':'valid':'error':'error',bottom:this.state.create_panel.price>0?this.state.create_panel.price<=1000?this.state.create_panel.price.toString().includes('.')?'Число должно быть целым':'':'Максимальная цена- 1 000 руб.':'Минимальная цена - 1 руб.'}),React.createElement(StickerUploadButton,{src:this.state.create_panel.upload_preview_img&&this.state.create_panel.upload_preview_img,title:'Превью',description:'Загрузите главную фотографию стикер-пака в формате png (128×128px)',onChange:function onChange(event){_this12.uploadFile('upload_preview_img',event);}}),React.createElement(StickerUploadButton,{title:'Стикеры',description:'Загрузите все стикеры в формате png (минимум - 4, максимум - 48), которые будут содержаться в паке (128×128px)',onChange:function onChange(event){_this12.uploadFile('upload_sticker_img',event);}}),React.createElement(\"div\",{className:\"centered\",style:{paddingBottom:\"16px\"}},React.createElement(\"div\",{style:{minWidth:\"64px\",maxWidth:\"296px\",display:\"grid\",gridTemplateColumns:\"repeat(auto-fill, 64px)\",gridGap:\"10px\"}},this.state.create_panel.uploaded_stickers_img)),React.createElement(Button,{size:\"xl\",onClick:function onClick(){_this12.create_stickers();},disabled:this.state.create_panel.title?this.state.create_panel.description?this.state.create_panel.price>0?this.state.create_panel.title.length<=20?this.state.create_panel.description.length<=100?this.state.create_panel.price<=1000?this.state.create_panel.price.toString().includes('.')?true:this.state.create_panel.upload_preview_img?this.state.create_panel.uploaded_stickers_img?this.state.create_panel.uploaded_stickers_img.filter(function(val){return val!==undefined;}).length>=4?false:true:true:true:true:true:true:true:true:true},\"\\u041F\\u0440\\u043E\\u0434\\u043E\\u043B\\u0436\\u0438\\u0442\\u044C\"),this.state.snackbar&&this.state.snackbar)),React.createElement(Panel,{id:\"stickers_history\"},React.createElement(PanelHeaderSimple,{left:React.createElement(PanelHeaderBack,{onClick:function onClick(){_this12.back();}})},React.createElement(PanelHeaderContent,null,\"\\u0418\\u0441\\u0442\\u043E\\u0440\\u0438\\u044F\")),React.createElement(PullToRefresh,{onRefresh:/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee40(){return _regeneratorRuntime.wrap(function _callee40$(_context42){while(1){switch(_context42.prev=_context42.next){case 0:_this12.setState({refreshedStickersHistory:true});_context42.next=3;return _this12.updateUser();case 3:_this12.setState({refreshedStickersHistory:false});case 4:case\"end\":return _context42.stop();}}},_callee40);})),isFetching:this.state.refreshedStickersHistory},this.state.user_stickers_history&&this.state.user_stickers_history.length>0?React.createElement(Div,null,React.createElement(List,null,this.state.user_stickers_history)):React.createElement(Placeholder,{icon:React.createElement(Icon56HistoryOutline,null),header:'Пусто',stretched:true},\"\\u0412\\u044B \\u043F\\u043E\\u043A\\u0430 \\u0435\\u0449\\u0435 \\u043D\\u0435 \\u0441\\u043E\\u0437\\u0434\\u0430\\u0432\\u0430\\u043B\\u0438 \\u0441\\u0442\\u0438\\u043A\\u0435\\u0440\\u044B\"))),React.createElement(Panel,{id:\"moderation\"},React.createElement(PanelHeaderSimple,{left:React.createElement(PanelHeaderBack,{onClick:function onClick(){_this12.back();}}),separator:false},React.createElement(PanelHeaderContent,null,\"\\u041C\\u043E\\u0434\\u0435\\u0440\\u0430\\u0446\\u0438\\u044F\")),React.createElement(Tabs,null,React.createElement(TabsItem,{onClick:function onClick(){return _this12.setState({slideTabIndex_moderation:0});},selected:this.state.slideTabIndex_moderation===0},\"\\u0421\\u0442\\u0438\\u043A\\u0435\\u0440\\u044B\"),React.createElement(TabsItem,{onClick:function onClick(){return _this12.setState({slideTabIndex_moderation:1});},selected:this.state.slideTabIndex_moderation===1},\"\\u0416\\u0430\\u043B\\u043E\\u0431\\u044B\"),React.createElement(TabsItem,{onClick:function onClick(){return _this12.setState({slideTabIndex_moderation:2});},selected:this.state.slideTabIndex_moderation===2},\"\\u0412\\u044B\\u0432\\u043E\\u0434 \\u0441\\u0440\\u0435\\u0434\\u0441\\u0442\\u0432\")),React.createElement(Separator,null),React.createElement(PullToRefresh,{onRefresh:/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee41(){return _regeneratorRuntime.wrap(function _callee41$(_context43){while(1){switch(_context43.prev=_context43.next){case 0:_this12.setState({refreshedModeration:true});_context43.next=3;return _this12.updateModeration();case 3:_this12.setState({refreshedModeration:false});case 4:case\"end\":return _context43.stop();}}},_callee41);})),isFetching:this.state.refreshedModeration},React.createElement(Gallery,{slideWidth:\"100%\",style:{height:\"100%\",margin:\"8px\"},slideIndex:this.state.slideTabIndex_moderation,onChange:function onChange(slideIndex){_this12.setState({slideTabIndex_moderation:slideIndex});}},React.createElement(\"div\",null,this.state.stickers_panel_moderation.length>0?React.createElement(List,{style:{marginTop:\"15px\"}},this.state.stickers_panel_moderation):React.createElement(\"div\",{style:{display:\"flex\",height:\"75vh\"}},React.createElement(\"div\",{style:{display:\"flex\",alignItems:\"center\",justifyContent:\"center\",width:\"100%\",height:\"100%\"}},React.createElement(Placeholder,{icon:React.createElement(Icon56GalleryOutline,null)},\"\\u0421\\u0442\\u0438\\u043A\\u0435\\u0440\\u043E\\u0432 \\u043F\\u043E\\u043A\\u0430 \\u0447\\u0442\\u043E \\u043D\\u0435\\u0442\")))),React.createElement(\"div\",null,this.state.report_panel_moderation.length>0?React.createElement(List,{style:{marginTop:\"15px\"}},this.state.report_panel_moderation):React.createElement(\"div\",{style:{display:\"flex\",height:\"75vh\"}},React.createElement(\"div\",{style:{display:\"flex\",alignItems:\"center\",justifyContent:\"center\",width:\"100%\",height:\"100%\"}},React.createElement(Placeholder,{icon:React.createElement(Icon56CheckCircleDeviceOutline,null)},\"\\u0416\\u0430\\u043B\\u043E\\u0431 \\u043F\\u043E\\u043A\\u0430 \\u0447\\u0442\\u043E \\u043D\\u0435\\u0442\")))),React.createElement(\"div\",null,this.state.withdraw_panel_moderation.length>0?React.createElement(List,{style:{marginTop:\"15px\"}},this.state.withdraw_panel_moderation):React.createElement(\"div\",{style:{display:\"flex\",height:\"75vh\"}},React.createElement(\"div\",{style:{display:\"flex\",alignItems:\"center\",justifyContent:\"center\",width:\"100%\",height:\"100%\"}},React.createElement(Placeholder,{icon:React.createElement(Icon56MoneyTransferOutline,null)},\"\\u0417\\u0430\\u043F\\u0440\\u043E\\u0441\\u043E\\u0432 \\u043D\\u0430 \\u0432\\u044B\\u0432\\u043E\\u0434 \\u0441\\u0440\\u0435\\u0434\\u0441\\u0442\\u0432 \\u043F\\u043E\\u043A\\u0430 \\u0447\\u0442\\u043E \\u043D\\u0435\\u0442\")))))),this.state.snackbar&&this.state.snackbar),React.createElement(Panel,{id:\"moderation_sticker_info\"},React.createElement(PanelHeaderSimple,{left:React.createElement(PanelHeaderBack,{onClick:function onClick(){_this12.back();}})},React.createElement(PanelHeaderContent,null,\"\\u0418\\u043D\\u0444\\u043E\\u0440\\u043C\\u0430\\u0446\\u0438\\u044F\")),React.createElement(Div,null,React.createElement(StickerButton,{title:this.state.moderation_sticker_info.title,description:this.state.moderation_sticker_info.author+'\\n'+this.state.moderation_sticker_info.price+' руб.',src:this.state.moderation_sticker_info.preview,mode:\"cell\",more:this.state.moderation_sticker_info.hasOwnProperty('stickers_id')?React.createElement(Icon28WriteOutline,{fill:'#ffa000'}):React.createElement(Icon28AddCircleOutline,{fill:'#4bb34b'})}),React.createElement(\"div\",{style:{marginLeft:'8px',marginRight:'8px'}},React.createElement(StickerDescription,null,this.state.moderation_sticker_info.description),React.createElement(\"div\",{style:{marginTop:'10px'}},React.createElement(\"div\",{style:{display:'flex'}},React.createElement(Button,{onClick:/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee42(){return _regeneratorRuntime.wrap(function _callee42$(_context44){while(1){switch(_context44.prev=_context44.next){case 0:_context44.next=2;return _this12.approveStickers();case 2:case\"end\":return _context44.stop();}}},_callee42);})),size:\"xl\",stretched:true},'Одобрить'),React.createElement(Button,{style:{marginLeft:'8px'},mode:\"secondary\",onClick:/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee43(){return _regeneratorRuntime.wrap(function _callee43$(_context45){while(1){switch(_context45.prev=_context45.next){case 0:_context45.next=2;return _this12.rejectStickers();case 2:case\"end\":return _context45.stop();}}},_callee43);})),size:\"xl\",stretched:true},'Отклонить')))),React.createElement(\"div\",{className:\"centered\",style:{marginTop:\"18px\"}},React.createElement(StickerGrid,{mode:\"small\"},this.state.moderation_sticker_info.stickers_))),this.state.snackbar&&this.state.snackbar)));}}]);return App;}(React.Component);export default App;","map":{"version":3,"sources":["C:/Users/Admin/NodeProjects/VKStickers2/src/App.js"],"names":["React","bridge","Panel","PanelHeader","Div","View","ScreenSpinner","List","Cell","Gallery","FormLayout","Input","Avatar","Group","Epic","Tabbar","TabbarItem","Separator","Button","PanelHeaderContext","Header","PanelHeaderSimple","PanelHeaderContent","Placeholder","Tabs","TabsItem","PullToRefresh","Snackbar","Textarea","PanelHeaderBack","PanelHeaderClose","CellButton","Alert","Link","Icon16Spinner","Icon16Done","Icon16Cancel","Icon16Dropdown","Icon16Down","Icon16Up","Icon28BugOutline","Icon28ReportOutline","Icon28ShareOutline","Icon28CancelOutline","Icon28WriteOutline","Icon28AddCircleOutline","Icon28HistoryForwardOutline","Icon28MarketOutline","Icon28UserOutline","Icon56HistoryOutline","Icon56GalleryOutline","Icon56CheckCircleDeviceOutline","Icon56MoneyTransferOutline","StickerImg","StickerButton","StickerDescription","StickerGrid","StickerUploadButton","CardElements","CardElement","request","access_token","upload_url1","blueBackground","backgroundColor","redBackground","App","props","back","state","popout","actionsLayout","setState","activeStory","activePanel","activePanelShop","activePanelOther","create_panel","hasOwnProperty","title","preview","price","description","stickers","createStickerContextOpened","panel_to_change","send","history","historyShop","historyOther","length","pop","p","change_hash","initialized","slideTabIndex_main","slideTabIndex_moderation","balance_manipulation","report_other_visible","report_reason_text","stickers_panel_new","stickers_panel_popular","stickers_panel_moderation","report_panel_moderation","withdraw_panel_moderation","sticker_info","author","sales","moderation_sticker_info","stickers_","user","first_name","last_name","photo_100","balance","stickers_history","captcha","text","url","done","onStoryChange","bind","onChange","uploadFile","toggleCreateStickerContext","approveStickers","rejectStickers","install","delete","create_stickers","go_to_edit","report_stickers","withdraw","componentDidMount","initializeApp","updateStickers","updateStickersInfo","updateUser","updateQuestions","updateReportReasons","updateModeration","go","window","addEventListener","e","preventDefault","subscribe","detail","type","data","undefined","console","log","schemeAttribute","document","createAttribute","value","scheme","body","attributes","setNamedItem","get","login","access","error_data","error_reason","error_code","c","captcha_img","sid","captcha_sid","i","sleep","request_params","params","method","request_id","key","captcha_key","sendPromise","res_back","hash","location","replace","hash_","split","substring","response","Object","keys","map","j","push","id","user_","reverse","sort","itemA","itemB","user_stickers","sticker","setTimeout","user_stickers_history","added","autoclose","mode","action","stickers_id","questions","questions_panel","val","link","report_reasons","report_reasons_panel","moderation_stickers","reports","report","report_reason_id","display","report_id","marginLeft","withdraw_","success","photo","user_id","name","amount","transaction","status","withdraw_id","search","str","encodeURIComponent","join","fetch","then","res","json","ms","Promise","resolve","img","Image","crossOrigin","onload","canvas","createElement","ctx","getContext","dataURL","height","width","drawImage","toDataURL","src","base64","blob","fd","FormData","file","File","append","panel","startsWith","history_to_change","pushState","story","currentTarget","dataset","snackbar","panel_","element","evt","tgt","target","event","srcElement","files","t","FileReader","fr","result","res1","includes","image","res10","uploaded_stickers_img","filter","stickers_count","parseInt","res01","showSnackBar","readAsDataURL","icon","style","upload_url","sticker_pack","author_id","sticker_url","urlToBase64","base64Img","base64ToMultipart","multipart","save","access_key","graffiti","doc_id","owner_id","to_id","JSON","stringify","stickers_history_id","stickers_cache","remove","obj","add","upload_preview_img","uploaded","form","error","statusCode","parse","resp","create_panel_","report_reason","error_text","refreshedStickers","margin","slideIndex","marginTop","refreshedStickersInfo","marginRight","indexOf","refreshedProfile","fontSize","transform","justifyContent","group_id","is_admin","toString","paddingBottom","minWidth","maxWidth","gridTemplateColumns","gridGap","refreshedStickersHistory","refreshedModeration","alignItems","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport bridge from '@vkontakte/vk-bridge';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport './css/App.css'\n\nimport { Panel, PanelHeader, Div , View , ScreenSpinner, List , Cell , Gallery , FormLayout , Input , Avatar , Group , Epic, Tabbar, TabbarItem, Separator, Button, PanelHeaderContext, Header, PanelHeaderSimple, PanelHeaderContent, Placeholder, Tabs,\n\tTabsItem, PullToRefresh, Snackbar, Textarea, PanelHeaderBack, PanelHeaderClose, CellButton, Alert, Link  } from '@vkontakte/vkui';\n\nimport Icon16Spinner from '@vkontakte/icons/dist/16/spinner';\nimport Icon16Done from '@vkontakte/icons/dist/16/done';\nimport Icon16Cancel from '@vkontakte/icons/dist/16/cancel';\nimport Icon16Dropdown from '@vkontakte/icons/dist/16/dropdown';\nimport Icon16Down from '@vkontakte/icons/dist/16/down';\nimport Icon16Up from '@vkontakte/icons/dist/16/up';\nimport Icon28BugOutline from '@vkontakte/icons/dist/28/bug_outline';\nimport Icon28ReportOutline from '@vkontakte/icons/dist/28/report_outline';\nimport Icon28ShareOutline from '@vkontakte/icons/dist/28/share_outline';\nimport Icon28CancelOutline from '@vkontakte/icons/dist/28/cancel_outline';\nimport Icon28WriteOutline from '@vkontakte/icons/dist/28/write_outline';\nimport Icon28AddCircleOutline from '@vkontakte/icons/dist/28/add_circle_outline';\nimport Icon28HistoryForwardOutline from '@vkontakte/icons/dist/28/history_forward_outline';\nimport Icon28MarketOutline from '@vkontakte/icons/dist/28/market_outline';\nimport Icon28UserOutline from '@vkontakte/icons/dist/28/user_outline';\nimport Icon56HistoryOutline from '@vkontakte/icons/dist/56/history_outline';\nimport Icon56GalleryOutline from '@vkontakte/icons/dist/56/gallery_outline';\nimport Icon56CheckCircleDeviceOutline from '@vkontakte/icons/dist/56/check_circle_device_outline';\nimport Icon56MoneyTransferOutline from '@vkontakte/icons/dist/56/money_transfer_outline';\n\nimport {StickerImg} from \"./components/StickerImg\";\nimport {StickerButton} from \"./components/StickerButton\";\nimport {StickerDescription} from \"./components/StickerDescription\";\nimport {StickerGrid} from \"./components/StickerGrid\";\nimport {StickerUploadButton} from \"./components/StickerUploadButton\";\nimport {CardElements} from \"./components/CardElements\";\nimport {CardElement} from \"./components/CardElement\";\n\nimport request from \"request\";\n\nlet access_token = '', upload_url1 = '';\n\nconst blueBackground = {\n\tbackgroundColor: 'var(--accent)'\n}, redBackground = {\n\tbackgroundColor: 'var(--dynamic_red)'\n};\n\nclass App extends React.Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tinitialized: false,\n\t\t\tpopout: <ScreenSpinner/>,\n\t\t\tactiveStory: 'tab_main',\n\t\t\tslideTabIndex_main: 0,\n\t\t\tslideTabIndex_moderation: 0,\n\t\t\tactivePanelShop: \"main\",\n\t\t\thistoryShop: [\"main\"],\n\t\t\tactivePanelOther: \"profile\",\n\t\t\thistoryOther: [\"profile\"],\n\t\t\tcreateStickerContextOpened: false,\n\t\t\tbalance_manipulation: false,\n\t\t\treport_other_visible: false,\n\t\t\treport_reason_text: '',\n\t\t\tstickers_panel_new: [],\n\t\t\tstickers_panel_popular: [],\n\t\t\tstickers_panel_moderation: [],\n\t\t\treport_panel_moderation: [],\n\t\t\twithdraw_panel_moderation: [],\n\t\t\tsticker_info: { title: \"\", author: \"\", preview: \"\", price: 0, description: \"\", stickers: [], sales: 0 },\n\t\t\tmoderation_sticker_info: { title: \"\", author: \"\", preview: \"\", price: 0, description: \"\", stickers_: [] },\n\t\t\tuser: {\n\t\t\t\tfirst_name: '',\n\t\t\t\tlast_name: '',\n\t\t\t\tphoto_100: '',\n\t\t\t\tstickers:[ ],\n\t\t\t\tbalance: 0,\n\t\t\t\tstickers_history: [ ]\n\t\t\t},\n\t\t\tcreate_panel: { title: \"\", preview: \"\", price: 1, description: \"\", stickers: [] },\n\t\t\tcaptcha : { text: '', url: '', done: false }\n\t\t};\n\n\t\tthis.onStoryChange = this.onStoryChange.bind(this);\n\t\tthis.onChange = this.onChange.bind(this);\n\t\tthis.uploadFile = this.uploadFile.bind(this);\n\t\tthis.toggleCreateStickerContext = this.toggleCreateStickerContext.bind(this);\n\t\tthis.approveStickers = this.approveStickers.bind(this);\n\t\tthis.rejectStickers = this.rejectStickers.bind(this);\n\t\tthis.install = this.install.bind(this);\n\t\tthis.delete = this.delete.bind(this);\n\t\tthis.create_stickers = this.create_stickers.bind(this);\n\t\tthis.go_to_edit = this.go_to_edit.bind(this);\n\t\tthis.report_stickers = this.report_stickers.bind(this);\n\t\tthis.withdraw = this.withdraw.bind(this);\n\n\t\tthis.componentDidMount = this.componentDidMount.bind(this);\n\t\tthis.initializeApp = this.initializeApp.bind(this);\n\t\tthis.updateStickers = this.updateStickers.bind(this);\n\t\tthis.updateStickersInfo = this.updateStickersInfo.bind(this);\n\t\tthis.updateUser = this.updateUser.bind(this);\n\t\tthis.updateQuestions = this.updateQuestions.bind(this);\n\t\tthis.updateReportReasons = this.updateReportReasons.bind(this);\n\t\tthis.updateModeration = this.updateModeration.bind(this);\n\t\tthis.back = this.back.bind(this);\n\t\tthis.go = this.go.bind(this);\n\t\tthis.change_hash = this.change_hash.bind(this);\n\t}\n\n\tcomponentDidMount () {\n\t\twindow.addEventListener('popstate', e => {\n\t\t\te.preventDefault();\n\t\t\tlet activeStory = this.state.activeStory;\n\t\t\tlet activePanel = activeStory === 'tab_main' ? this.state.activePanelShop : activeStory === 'tab_other' ? this.state.activePanelOther : '';\n\t\t\tif(activePanel !== 'input_captcha') {\n\t\t\t\tthis.back(e);\n\t\t\t}\n\t\t});\n\n\t\tbridge.subscribe(async ({ detail: { type, data }}) => {\n\t\t\tif(type !== undefined) console.log(type, data);\n\t\t\tif (type === 'VKWebAppUpdateConfig') {\n\t\t\t\tconst schemeAttribute = document.createAttribute('scheme');\n\t\t\t\tschemeAttribute.value = data.scheme ? data.scheme : 'client_light';\n\t\t\t\tdocument.body.attributes.setNamedItem(schemeAttribute);\n\t\t\t} else if (type === 'VKWebAppGetUserInfoResult'){\n\t\t\t\tif(!this.state.initialized){\n\t\t\t\t\tlet login = await this.get('users.auth');\n\t\t\t\t\tif(login.access){\n\t\t\t\t\t\t/*\n                        data.stickers = [ 0 ];\n                        data.balance = 0;\n                        data.stickers_history = [ { title: \"Илай\", preview: \"https://vk.com/sticker/1-18781-128\", added: false }, { title: \"Бисквит\", author: \"Илья Ульянов\", preview: \"https://vk.com/sticker/2-533-cover-140b-0\" } ];\n                        */\n\t\t\t\t\t\tthis.setState({ initialized: true, popout: null });\n\t\t\t\t\t\tthis.initializeApp();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (type === 'VKWebAppViewRestore'){\n\t\t\t\tif(this.state.popout !== null){\n\t\t\t\t\tthis.setState({ popout: null });\n\t\t\t\t}\n\t\t\t} else if (type === 'VKWebAppCallAPIMethodFailed'){\n\t\t\t\tif(data.error_data.error_reason.error_code === 14){\n\t\t\t\t\tlet c = this.state.captcha;\n\t\t\t\t\tc.done = null;\n\t\t\t\t\tc.url = data.error_data.error_reason.captcha_img;\n\t\t\t\t\tc.sid = data.error_data.error_reason.captcha_sid;\n\t\t\t\t\tthis.setState({ captcha: c, popout: null });\n\t\t\t\t\tthis.go('input_captcha');\n\t\t\t\t\tfor(var i = 0; i < 2; i++){\n\t\t\t\t\t    if(this.state.captcha.done === null){\n\t\t\t\t\t        i--;\n                            await this.sleep(1000);\n                        }else{\n\t\t\t\t\t        break;\n                        }\n                    }\n\n\t\t\t\t\tthis.setState({ popout: <ScreenSpinner/> });\n\t\t\t\t\tlet request_params = data.error_data.error_reason.request_params;\n\t\t\t\t\tlet params = {};\n\t\t\t\t\tlet method = '';\n\t\t\t\t\tlet request_id = '';\n\t\t\t\t\tfor(var i = 0; i < request_params.length; i++){\n\t\t\t\t\t\tlet key = request_params[i].key;\n\t\t\t\t\t\tlet value = request_params[i].value;\n\t\t\t\t\t\tif(key !== 'api_id' && key !== 'format' && key !== 'oauth'){\n\t\t\t\t\t\t\tif(key === 'method'){\n\t\t\t\t\t\t\t\tmethod = value;\n\t\t\t\t\t\t\t}else if (key === 'request_id'){\n\t\t\t\t\t\t\t\trequest_id = value;\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tparams[key] = value;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tparams.access_token = access_token;\n\t\t\t\t\tparams.captcha_sid = this.state.captcha.sid;\n\t\t\t\t\tparams.captcha_key = this.state.captcha.text;\n\t\t\t\t\ttry{\n\t\t\t\t\t\tlet res_back = await bridge.sendPromise(\"VKWebAppCallAPIMethod\", {\n\t\t\t\t\t\t\t\"method\": method,\n\t\t\t\t\t\t\t\"request_id\": request_id,\n\t\t\t\t\t\t\t\"params\": params\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthis.setState({ captcha : { text: '', url: '', done: false } });\n\t\t\t\t\t\tthis.back();\n\t\t\t\t\t}catch (e) {\n\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tthis.initializeApp();\n\t}\n\n\tasync initializeApp() {\n\t\tawait this.updateStickers();\n\t\tawait this.updateUser();\n\t\tawait this.updateQuestions();\n\t\tawait this.updateReportReasons();\n\t\tawait this.updateModeration();\n\n\t\tlet hash = window.location.hash;\n\t\tif (hash) {\n\t\t\thash = hash.replace('#','');\n\t\t\tlet hash_ = hash.split('_');\n\t\t\tthis.setState({ activeStory: hash_[0]+'_'+hash_[1] });\n\t\t\tthis.go(hash.substring((hash_[0]+'_'+hash_[1]+'_').length));\n\t\t}else{\n\t\t\tthis.change_hash('main');\n\t\t}\n\t}\n\n\tasync updateStickers() {\n\t\tlet response = await this.get('stickers.get');\n\t\tthis.setState({stickers: response.stickers});\n\t\tlet stickers = this.state.stickers;\n\n\t\tlet stickers_panel_new = Object.keys(stickers).map(function (key, i) {\n\t\t\tlet stickers_ = [];\n\t\t\tfor (let j = 0; j < stickers[i].data.length; j++) {\n\t\t\t\tstickers_.push(\n\t\t\t\t\t<StickerImg mode={\"small\"} src={stickers[i].data[j].url}/>\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tstickers[i].stickers = stickers_;\n\t\t\tstickers[i].id = i;\n\t\t\tif(!stickers[i].hasOwnProperty('banned')){\n\t\t\t\tstickers_panel_new.push(\n\t\t\t\t\t<StickerButton\n\t\t\t\t\t\ttitle={stickers[i].title}\n\t\t\t\t\t\tdescription={stickers[i].author}\n\t\t\t\t\t\tsrc={stickers[i].preview}\n\t\t\t\t\t\tprice={stickers[i].price}\n\t\t\t\t\t\tmode={\"cell\"}\n\t\t\t\t\t\tsales={stickers[i].sales === 0 ? 0 : stickers[i].sales.length}\n\t\t\t\t\t\tonClick={async () => {\n\t\t\t\t\t\t\tthis.setState({sticker_info: stickers[i], popout: <ScreenSpinner/>});\n\t\t\t\t\t\t\tlet response = await this.get('users.get');\n\t\t\t\t\t\t\tlet user_ = await bridge.sendPromise('VKWebAppGetUserInfo');\n\t\t\t\t\t\t\tthis.setState({user: {...user_, ...response.user}, popout: null});\n\t\t\t\t\t\t\tthis.go('sticker_info');\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t}\n\t\t}).reverse();\n\n\t\tlet stickers_panel_popular = Object.keys(stickers).map(function (key, i) {\n\t\t\tlet stickers_ = [];\n\t\t\tfor (let j = 0; j < stickers[i].data.length; j++) {\n\t\t\t\tstickers_.push(\n\t\t\t\t\t<StickerImg mode={\"small\"} src={stickers[i].data[j].url}/>\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tstickers[i].stickers = stickers_;\n\t\t\tstickers[i].id = i;\n\t\t\tif(!stickers[i].hasOwnProperty('banned')){\n\t\t\t\tstickers_panel_new.push(\n\t\t\t\t\t<StickerButton\n\t\t\t\t\t\ttitle={stickers[i].title}\n\t\t\t\t\t\tdescription={stickers[i].author}\n\t\t\t\t\t\tsrc={stickers[i].preview}\n\t\t\t\t\t\tprice={stickers[i].price}\n\t\t\t\t\t\tmode={\"cell\"}\n\t\t\t\t\t\tsales={stickers[i].sales === 0 ? 0 : stickers[i].sales.length}\n\t\t\t\t\t\tonClick={async () => {\n\t\t\t\t\t\t\tthis.setState({sticker_info: stickers[i], popout: <ScreenSpinner/>});\n\t\t\t\t\t\t\tlet response = await this.get('users.get');\n\t\t\t\t\t\t\tlet user_ = await bridge.sendPromise('VKWebAppGetUserInfo');\n\t\t\t\t\t\t\tthis.setState({user: {...user_, ...response.user}, popout: null});\n\t\t\t\t\t\t\tthis.go('sticker_info');\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t}\n\t\t}).sort(function (itemA, itemB) {\n\t\t\treturn itemA.props.sales - itemB.props.sales;\n\t\t}).reverse();\n\t\tthis.setState({stickers_panel_new, stickers_panel_popular});\n\t}\n\tasync updateStickersInfo() {\n\t\tawait this.updateStickers();\n\t\tawait this.updateUser();\n\t\tthis.setState({ sticker_info: this.state.stickers[this.state.sticker_info.id] });\n\t}\n\tasync updateUser() {\n\t\tlet response = await this.get('users.get');\n\t\tlet user_ = await bridge.sendPromise('VKWebAppGetUserInfo');\n\t\tthis.setState({user: {...user_, ...response.user}});\n\t\tlet user_stickers = [];\n\t\tfor (let i = 0; i < this.state.user.stickers.length; i++) {\n\t\t\tlet sticker = this.state.stickers[i];\n\t\t\tuser_stickers.push(\n\t\t\t\t<StickerButton\n\t\t\t\t\tsrc={sticker.preview}\n\t\t\t\t\tmode={\"img\"}\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tthis.setState({activeStory: \"tab_main\", sticker_info: this.state.stickers[i]});\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tthis.go('sticker_info');\n\t\t\t\t\t\t\t}, 50)\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t\tthis.setState({user_stickers});\n\n\t\tlet user_stickers_history = [];\n\t\tfor (let i = 0; i < this.state.user.stickers_history.length; i++) {\n\t\t\tlet sticker = this.state.user.stickers_history[i];\n\t\t\tuser_stickers_history.push(\n\t\t\t\t<StickerButton\n\t\t\t\t\ttitle={sticker.title}\n\t\t\t\t\tsrc={sticker.preview}\n\t\t\t\t\tbuttons={sticker.hasOwnProperty('added') ? (sticker.added ? <Button mode='commerce'>Одобрено</Button> : <Button mode='destructive'>Отклонено</Button>) : sticker.hasOwnProperty('deleted') ? <Button mode='secondary'>Отменено</Button> : <Button mode='primary'>На проверке</Button>}\n\t\t\t\t\tmode={\"cell\"}\n\t\t\t\t\tmore={\n\t\t\t\t\t\t(sticker.hasOwnProperty('added') === false && sticker.hasOwnProperty('deleted') === false) &&\n\t\t\t\t\t\t<Icon28CancelOutline onClick={()=>{\n\t\t\t\t\t\t\tthis.setState({ popout:\n\t\t\t\t\t\t\t\t\t<Alert\n\t\t\t\t\t\t\t\t\t\tactionsLayout=\"horizontal\"\n\t\t\t\t\t\t\t\t\t\tactions={[{\n\t\t\t\t\t\t\t\t\t\t\ttitle: 'Да',\n\t\t\t\t\t\t\t\t\t\t\tautoclose: true,\n\t\t\t\t\t\t\t\t\t\t\tmode: 'destructive',\n\t\t\t\t\t\t\t\t\t\t\taction: async () => {\n\t\t\t\t\t\t\t\t\t\t\t\tthis.setState({ popout: <ScreenSpinner/> });\n\t\t\t\t\t\t\t\t\t\t\t\tawait this.get('stickers.cancel_moderation',{ stickers_id: i });\n\t\t\t\t\t\t\t\t\t\t\t\tawait this.updateUser();\n\t\t\t\t\t\t\t\t\t\t\t\tthis.setState({ popout: null });\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\t\t\t\t\ttitle: 'Нет',\n\t\t\t\t\t\t\t\t\t\t\tautoclose: true,\n\t\t\t\t\t\t\t\t\t\t\tmode: 'cancel'\n\t\t\t\t\t\t\t\t\t\t}]}\n\t\t\t\t\t\t\t\t\t\tonClose={()=>{ this.setState({ popout: null }); }}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<h2>Подтвердите действие</h2>\n\t\t\t\t\t\t\t\t\t\t<p>Вы уверены, что хотите отменить модерацию стикеров?</p>\n\t\t\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}} fill={'#ff5c5c'}/>\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t\tthis.setState({user_stickers_history});\n\t}\n\tasync updateQuestions() {\n\t\tlet response = await this.get('questions.get');\n\t\tlet questions = response.questions;\n\t\tlet questions_panel = [];\n\t\tfor(let val of questions){\n\t\t\tquestions_panel.push(<CardElement link={val.link} text={val.text}/>);\n\t\t}\n\n\t\tthis.setState({ questions_panel: questions_panel.length > 0 ? questions_panel : null })\n\t}\n\tasync updateReportReasons() {\n\t\tlet response = await this.get('report.getReasons');\n\t\tlet report_reasons = response.report_reasons;\n\t\tthis.setState({ report_reasons });\n\t\tlet report_reasons_panel = [];\n\t\tfor(let i = 0; i < report_reasons.length; i++){\n\t\t\tlet val = report_reasons[i];\n\t\t\treport_reasons_panel.push(<CellButton onClick={()=>{ this.report_stickers(this.state.sticker_info.id, i); }} >{val}</CellButton>);\n\t\t}\n\n\t\tthis.setState({ report_reasons_panel: report_reasons_panel.length > 0 ? report_reasons_panel : null })\n\t}\n\tasync updateModeration() {\n\t\tlet stickers = await this.get('moderation.getStickers');\n\t\tstickers = stickers.stickers;\n\t\tthis.setState({ moderation_stickers: stickers });\n\t\tlet stickers_panel_moderation = [];\n\t\tfor (let i = 0; i < stickers.length; i++) {\n\t\t\tlet stickers_ = [];\n\t\t\tfor (let j = 0; j < stickers[i].stickers.length; j++) {\n\t\t\t\tstickers_.push(\n\t\t\t\t\t<StickerImg mode={\"small\"} src={stickers[i].stickers[j]}/>\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tstickers[i].id = i;\n\t\t\tstickers[i].stickers_ = stickers_;\n\t\t\tstickers_panel_moderation.push(\n\t\t\t\t<StickerButton\n\t\t\t\t\ttitle={stickers[i].title}\n\t\t\t\t\tdescription={stickers[i].author}\n\t\t\t\t\tsrc={stickers[i].preview}\n\t\t\t\t\tprice={stickers[i].price}\n\t\t\t\t\tmode={\"cell\"}\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tthis.setState({moderation_sticker_info: stickers[i]});\n\t\t\t\t\t\tthis.go('moderation_sticker_info');\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t\tthis.setState({stickers_panel_moderation});\n\n\t\tlet reports = await this.get('moderation.getReports');\n\t\treports = reports.reports;\n\t\tlet report_panel_moderation = [];\n\t\tfor (let i = 0; i < reports.length; i++) {\n\t\t\tlet report = reports[i];\n\t\t\tif(!report.hasOwnProperty('status')){\n\t\t\t\treport_panel_moderation.push(\n\t\t\t\t\t<StickerButton\n\t\t\t\t\t\ttitle={this.state.stickers[report.stickers_id].title}\n\t\t\t\t\t\tdescription={report.hasOwnProperty('report_reason_id') ? this.state.report_reasons[report.report_reason_id] : report.hasOwnProperty('report_reason_text') && report.report_reason_text }\n\t\t\t\t\t\tsrc={this.state.stickers[report.stickers_id].preview}\n\t\t\t\t\t\tbuttons={<div style={{ display: 'flex' }}> <Button onClick={async ()=>{\n\t\t\t\t\t\t\tthis.setState({ popout: <ScreenSpinner/> });\n\t\t\t\t\t\t\tawait this.get('moderation.approveReport', { report_id: i });\n\t\t\t\t\t\t\tawait this.updateModeration();\n\t\t\t\t\t\t\tthis.setState({ popout: null, activeStory: \"tab_other\" });\n\t\t\t\t\t\t}} mode='primary'>Одобрить</Button> <Button onClick={async ()=>{\n\t\t\t\t\t\t\tthis.setState({ popout: <ScreenSpinner/> });\n\t\t\t\t\t\t\tawait this.get('moderation.rejectReport', { report_id: i });\n\t\t\t\t\t\t\tawait this.updateModeration();\n\t\t\t\t\t\t\tthis.setState({ popout: null, activeStory: \"tab_other\" });\n\t\t\t\t\t\t}} mode='secondary' style={{ marginLeft: '8px' }}>Отклонить</Button></div>}\n\t\t\t\t\t\tmode={\"cell\"}\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tthis.setState({activeStory: \"tab_main\", sticker_info: this.state.stickers[report.stickers_id]});\n\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\tif(this.state.activeStory === 'tab_main') { this.go('sticker_info'); }\n\t\t\t\t\t\t\t}, 50)\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t\tthis.setState({report_panel_moderation});\n\n\t\tlet withdraw = await this.get('moderation.getWithdraw');\n\t\twithdraw = withdraw.withdraw;\n\t\tlet withdraw_panel_moderation = [];\n\t\tfor (let i = 0; i < withdraw.length; i++) {\n\t\t\tlet withdraw_ = withdraw[i];\n\t\t\tif(withdraw_.success === false){\n\t\t\t\twithdraw_panel_moderation.push(\n\t\t\t\t\t<StickerButton\n\t\t\t\t\t\timg_type={'round'}\n\t\t\t\t\t\tsrc={withdraw_.photo}\n\t\t\t\t\t\ttitle={<Link target={'_blank'} href={'https://vk.com/id'+withdraw_.user_id}>{withdraw_.name}</Link>}\n\t\t\t\t\t\tdescription={withdraw_.amount+' руб.'}\n\t\t\t\t\t\tbuttons={<div style={{ display: 'flex' }}> <Button onClick={async ()=>{\n\t\t\t\t\t\t\tthis.setState({ popout: <ScreenSpinner/> });\n\t\t\t\t\t\t\ttry{\n\t\t\t\t\t\t\t\tlet transaction = await bridge.sendPromise(\"VKWebAppOpenPayForm\", {\"app_id\": 7363654, \"action\": \"pay-to-user\", \"params\": { amount: withdraw_.amount, description: 'Вывод средств из магазина стикеров', user_id: withdraw_.user_id }});\n\t\t\t\t\t\t\t\tif(transaction.status){\n\t\t\t\t\t\t\t\t\tawait this.get('moderation.approveWithdraw', { withdraw_id: i });\n\t\t\t\t\t\t\t\t\tawait this.updateModeration();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}catch (e) {}\n\t\t\t\t\t\t\tthis.setState({ popout: null });\n\t\t\t\t\t\t}} mode='primary'>Одобрить</Button> <Button  onClick={async ()=>{\n\t\t\t\t\t\t\tthis.setState({ popout: <ScreenSpinner/> });\n\t\t\t\t\t\t\tawait this.get('moderation.rejectWithdraw', { withdraw_id: i });\n\t\t\t\t\t\t\tawait this.updateModeration();\n\t\t\t\t\t\t\tthis.setState({ popout: null });\n\t\t\t\t\t\t}} mode='secondary' style={{ marginLeft: '8px' }}>Отклонить</Button></div>}\n\t\t\t\t\t\tmode={\"cell\"}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t\tthis.setState({withdraw_panel_moderation});\n\t}\n\tasync get(method, params) {\n\t\tif(params === undefined || params === null) params = {};\n\t\tparams.url = window.location.search.replace('?', '');\n\t\tlet str = [];\n\t\tfor (let p in params)\n\t\t\tif (params.hasOwnProperty(p)) {\n\t\t\t\tstr.push(encodeURIComponent(p) + \"=\" + encodeURIComponent(params[p]));\n\t\t\t}\n\t\tparams = str.join(\"&\");\n\t\tlet response = await fetch('https://ih1705413.vds.myihor.ru:4040/'+method+'?'+params, {method: 'GET'})\n\t\t\t.then(res => res.json())\n\t\t\t.then(res => {\n\t\t\t\treturn res;\n\t\t\t});\n\t\tconsole.log(response);\n\t\treturn response;\n\t}\n\n\tsleep(ms) {\n\t\treturn new Promise(resolve => setTimeout(resolve, ms));\n\t}\n\turlToBase64(url){\n\t\treturn new Promise(resolve => {\n\t\t\tlet img = new Image();\n\t\t\timg.crossOrigin = 'Anonymous';\n\t\t\timg.onload = function(){\n\t\t\t\tlet canvas = document.createElement('CANVAS'),\n\t\t\t\t\tctx = canvas.getContext('2d'), dataURL;\n\t\t\t\tcanvas.height = img.height;\n\t\t\t\tcanvas.width = img.width;\n\t\t\t\tctx.drawImage(img, 0, 0);\n\t\t\t\tdataURL = canvas.toDataURL(\"image/png\");\n\t\t\t\tcanvas = null;\n\t\t\t\tresolve(dataURL);\n\t\t\t};\n\t\t\timg.src = url;\n\t\t});\n\t}\n\tbase64ToMultipart(base64) {\n\t\treturn new Promise(resolve => {\n\t\t\tfetch(base64)\n\t\t\t\t.then(res => res.blob())\n\t\t\t\t.then(blob => {\n\t\t\t\t\tconst fd = new FormData();\n\t\t\t\t\tconst file = new File([blob], \"sticker.png\");\n\t\t\t\t\tfd.append('file', file);\n\t\t\t\t\tresolve(fd);\n\t\t\t\t});\n\t\t});\n\t}\n\n\tback = () => {\n\t\tif(this.state.popout !== null){\n\t\t\tif(this.state.popout.props.actionsLayout){\n\t\t\t\tthis.setState({ popout: null });\n\t\t\t\treturn ;\n\t\t\t}\n\t\t}\n\t\tlet activeStory = this.state.activeStory;\n\t\tlet activePanel = activeStory === 'tab_main' ? this.state.activePanelShop : activeStory === 'tab_other' ? this.state.activePanelOther : '';\n\t\tif(activePanel === 'create' && this.state.create_panel.hasOwnProperty('stickers_id')){\n\t\t\tthis.setState({ create_panel: { title: \"\", preview: \"\", price: 1, description: \"\", stickers: [] } });\n\t\t}else if(activePanel === 'create' && this.state.createStickerContextOpened){\n\t\t\tthis.setState({ createStickerContextOpened: false });\n\t\t}\n\t\tlet panel_to_change = activeStory === 'tab_main' ? 'activePanelShop' : activeStory === 'tab_other' ? 'activePanelOther' : '';\n\t\tif((activeStory === 'tab_main' && activePanel==='main') || (activeStory === 'tab_other' && activePanel==='profile')){\n\t\t\tbridge.send(\"VKWebAppClose\", {\"status\": \"success\"});\n\t\t}else {\n\t\t\tlet history = activeStory === 'tab_main' ? this.state.historyShop : activeStory === 'tab_other' ? this.state.historyOther : '';\n\t\t\tif(history.length === 1) {\n\t\t\t\tbridge.send(\"VKWebAppClose\", {\"status\": \"success\"});\n\t\t\t} else if (history.length > 1) {\n\t\t\t\thistory.pop();\n\t\t\t\tlet p = history[history.length - 1];\n\t\t\t\tthis.setState({[panel_to_change]: p});\n\t\t\t\tthis.change_hash(p);\n\t\t\t}\n\t\t}\n\t};\n\tgo(panel) {\n\t\tlet activeStory = this.state.activeStory;\n\t\tlet panel_to_change = activeStory === 'tab_main' ? 'activePanelShop' : activeStory === 'tab_other' ? 'activePanelOther' : '';\n\t\tlet history = activeStory === 'tab_main' ? this.state.historyShop : activeStory === 'tab_other' ? this.state.historyOther : '';\n\t\tif(panel.startsWith('sticker_info_')){\n\t\t\tlet stickers_id = panel.split('_')[2];\n\t\t\tif(this.state.stickers.hasOwnProperty(stickers_id)){\n\t\t\t\tthis.setState({ sticker_info: this.state.stickers[stickers_id] });\n\t\t\t\tpanel = 'sticker_info';\n\t\t\t}else{\n\t\t\t\tpanel = 'main';\n\t\t\t}\n\t\t}else if (panel.startsWith('stickers_report_')){\n\t\t\tlet stickers_id = panel.split('_')[2];\n\t\t\tif(this.state.stickers.hasOwnProperty(stickers_id)){\n\t\t\t\tthis.setState({ sticker_info: this.state.stickers[stickers_id] });\n\t\t\t\tpanel = 'stickers_report';\n\t\t\t}else{\n\t\t\t\tpanel = 'main';\n\t\t\t}\n\t\t}else if (panel === 'stickers_report'){\n\t\t\tthis.setState({ report_other_visible: false });\n\t\t}\n\t\tif(history[history.length-1] !== panel) {\n\t\t\thistory.push(panel);\n\t\t\tlet history_to_change = activeStory === 'tab_main' ? 'historyShop' : activeStory === 'tab_other' ? 'historyOther' : '';\n\t\t\twindow.history.pushState({panel: panel}, 'Title');\n\t\t\tthis.setState({[panel_to_change]: panel, [history_to_change]: history, snackbar: null});\n\t\t}\n\t\tthis.change_hash(panel);\n\t}\n\tchange_hash (panel){\n\t\tlet activeStory = this.state.activeStory;\n\t\tif(panel === 'sticker_info' || panel === 'stickers_report'){\n\t\t\tpanel = panel+'_'+this.state.sticker_info.id;\n\t\t}\n\t\tbridge.send(\"VKWebAppSetLocation\", {\"location\": activeStory+'_'+panel});\n\t}\n\n\tonStoryChange (e) {\n\t\tlet story = e.currentTarget.dataset.story;\n\t\tthis.setState({ activeStory: story, snackbar: null });\n\n\t\tif(this.state.activeStory===story){\n\t\t\tif(story==='tab_main' && this.state.activePanelShop !== 'main'){\n\t\t\t\tthis.back();\n\t\t\t}else if(story==='tab_other' && this.state.activePanelOther !== 'profile'){\n\t\t\t\tthis.back();\n\t\t\t}\n\t\t}else{\n\t\t\tlet panel_ = story === 'tab_main' ? 'activePanelShop' : story === 'tab_other' ? 'activePanelOther' : '';\n\t\t\tlet panel = this.state[panel_];\n\t\t\tsetTimeout(()=>{\n\t\t\t\tthis.change_hash(panel);\n\t\t\t}, 150);\n\t\t}\n\t}\n\tonChange(e) {\n\t\tconst { name, value } = e.currentTarget;\n\t\tlet create_panel = this.state.create_panel;\n\t\tcreate_panel[name] = value;\n\t\tthis.setState({ create_panel: create_panel });\n\t}\n\ttoggleCreateStickerContext () {\n\t\tthis.setState({ createStickerContextOpened: !this.state.createStickerContextOpened });\n\t}\n\tasync uploadFile(element, evt) {\n\t\tlet tgt = evt.target || window.event.srcElement,\n\t\t\tfiles = tgt.files;\n\t\tconst t = this;\n\n\t\tif (FileReader && files && files.length) {\n\t\t\tfor (let file of files) {\n\t\t\t\tlet fr = new FileReader();\n\t\t\t\tfr.onload = async function () {\n\t\t\t\t\tlet res = fr.result; //base64 result, to get src -> array[0].props.src\n\t\t\t\t\tlet res1 = t.state.create_panel;\n\t\t\t\t\tif (file.type.includes('image')) {\n\t\t\t\t\t\tlet image = new Image();\n\t\t\t\t\t\timage.src = res;\n\t\t\t\t\t\timage.onload = async function() {\n\t\t\t\t\t\t\tif(image.width === 128 && image.height === 128){\n\t\t\t\t\t\t\t\tif (element === 'upload_sticker_img') {\n\t\t\t\t\t\t\t\t\tlet res10 = res1.hasOwnProperty('uploaded_stickers_img') ? res1.uploaded_stickers_img : [];\n\t\t\t\t\t\t\t\t\tlet stickers_count = await res10.filter(function (val) {\n\t\t\t\t\t\t\t\t\t\treturn val !== undefined;\n\t\t\t\t\t\t\t\t\t}).length + 1;\n\t\t\t\t\t\t\t\t\tif (stickers_count <= 48) {\n\t\t\t\t\t\t\t\t\t\tres10.push(\n\t\t\t\t\t\t\t\t\t\t\t<StickerImg\n\t\t\t\t\t\t\t\t\t\t\t\tmode={'small'}\n\t\t\t\t\t\t\t\t\t\t\t\tid={'uploaded_sticker_' + res10.length}\n\t\t\t\t\t\t\t\t\t\t\t\tsrc={res}\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tlet id = parseInt(e.currentTarget.id.split('_')[2]);\n\t\t\t\t\t\t\t\t\t\t\t\t\tlet res01 = t.state.create_panel;\n\t\t\t\t\t\t\t\t\t\t\t\t\tdelete res01.uploaded_stickers_img[id];\n\t\t\t\t\t\t\t\t\t\t\t\t\tt.setState({create_panel: res01});\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\tres1.uploaded_stickers_img = res10;\n\t\t\t\t\t\t\t\t\t\tt.setState({create_panel: res1});\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tres1[element] = res;\n\t\t\t\t\t\t\t\t\tt.setState({create_panel: res1});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tt.showSnackBar('Размер изображения должен быть 128×128px', <Icon16Cancel fill=\"#fff\" width={14} height={14} />, redBackground);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t} else {\n\t\t\t\t\t\tt.showSnackBar('Необходимо загрузить изображение в формате PNG', <Icon16Cancel fill=\"#fff\" width={14} height={14} />, redBackground);\n\t\t\t\t\t\tres1[element] = null;\n\t\t\t\t\t\tt.setState({create_panel: res1});\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tawait fr.readAsDataURL(file);\n\t\t\t}\n\t\t}\n\t\t// Not supported\n\t\telse {\n\t\t\t// fallback -- perhaps submit the input to an iframe and temporarily store\n\t\t\t// them on the server until the user's session ends.\n\t\t}\n\t}\n\tasync showSnackBar (text, icon, style){\n\t\tthis.setState({ snackbar: null });\n\t\tawait this.sleep(150);\n\t\tthis.setState({ snackbar:\n\t\t\t\t<Snackbar\n\t\t\t\t\tlayout=\"vertical\"\n\t\t\t\t\tonClose={() => this.setState({ snackbar: null })}\n\t\t\t\t\tbefore={<Avatar size={24} style={style}>{icon}</Avatar>}\n\t\t\t\t>\n\t\t\t\t\t{text}\n\t\t\t\t</Snackbar>\n\t\t});\n\t}\n\n\tasync approveStickers() {\n\t\tthis.setState({ popout: <ScreenSpinner/> });\n\t\ttry{\n\t\t\taccess_token = await bridge.sendPromise(\"VKWebAppGetAuthToken\", {\"app_id\": 7363654, \"scope\": \"docs\"});\n\t\t\taccess_token = access_token.access_token;\n\t\t\tupload_url1 = await bridge.sendPromise(\"VKWebAppCallAPIMethod\", {\"method\": \"docs.getUploadServer\", \"request_id\": \"upload_server\", \"params\": {\"group_id\":\"193090865\", \"v\":\"5.00\", \"access_token\":access_token}});\n\t\t\tupload_url1 = upload_url1.response.upload_url;\n\t\t\tlet stickers = this.state.moderation_sticker_info.stickers_;\n\n\t\t\t/*if (this.state.stickers[stickers_id].hasOwnProperty('data')) {\n\t\t\t\tfor(var i = 0; i < this.state.stickers[stickers_id].data.length; i++){\n\t\t\t\t\tif(this.state.captcha.done === false && this.state.activePanelShop === 'sticker_info') {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tlet remove = await bridge.sendPromise(\"VKWebAppCallAPIMethod\", {\n\t\t\t\t\t\t\t\t\"method\": \"docs.delete\",\n\t\t\t\t\t\t\t\t\"request_id\": \"del_doc\",\n\t\t\t\t\t\t\t\t\"params\": {\n\t\t\t\t\t\t\t\t\t\"owner_id\": this.state.stickers[stickers_id].data[i].owner_id,\n\t\t\t\t\t\t\t\t\t\"doc_id\": this.state.stickers[stickers_id].data[i].doc_id,\n\t\t\t\t\t\t\t\t\t\"v\": \"5.103\",\n\t\t\t\t\t\t\t\t\t\"access_token\": access_token\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\tconsole.log('error del...');\n\t\t\t\t\t\t\ti--;\n\t\t\t\t\t\t}\n\t\t\t\t\t}else if(this.state.captcha.done === null){\n\t\t\t\t\t\ti--;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}*/\n\n\t\t\tlet sticker_pack = {\n\t\t\t\tauthor: this.state.moderation_sticker_info.author,\n\t\t\t\tauthor_id: this.state.moderation_sticker_info.user_id,\n\t\t\t\tdata: [],\n\t\t\t\tdescription: this.state.moderation_sticker_info.description,\n\t\t\t\tpreview: this.state.moderation_sticker_info.preview,\n\t\t\t\tprice: this.state.moderation_sticker_info.price,\n\t\t\t\ttitle: this.state.moderation_sticker_info.title\n\t\t\t};\n\t\t\tfor(let i = 0; i < stickers.length; i++){\n\t\t\t\tif(this.state.captcha.done === false && this.state.activePanelOther === 'moderation_sticker_info'){\n\t\t\t\t\tlet sticker_url = stickers[i].props.src;\n\t\t\t\t\tawait this.urlToBase64('https://murmuring-bastion-20764.herokuapp.com/'+sticker_url).then(async base64Img => {\n\t\t\t\t\t\tawait this.base64ToMultipart(base64Img).then(async multipart => {\n\t\t\t\t\t\t\tawait fetch('https://murmuring-bastion-20764.herokuapp.com/'+upload_url1, {method: 'POST', body: multipart})\n\t\t\t\t\t\t\t\t.then(res => res.json())\n\t\t\t\t\t\t\t\t.then(async res => {\n\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\tlet file = res.file;\n\t\t\t\t\t\t\t\t\t\tlet save = await bridge.sendPromise(\"VKWebAppCallAPIMethod\", {\n\t\t\t\t\t\t\t\t\t\t\t\"method\": \"docs.save\",\n\t\t\t\t\t\t\t\t\t\t\t\"request_id\": \"save_graffiti\",\n\t\t\t\t\t\t\t\t\t\t\t\"params\": {\"file\": file, \"v\": \"5.103\", \"access_token\": access_token}\n\t\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\t\t\tsticker_pack.data.push({\n\t\t\t\t\t\t\t\t\t\t\taccess_key: save.response.graffiti.access_key,\n\t\t\t\t\t\t\t\t\t\t\tdoc_id: save.response.graffiti.id,\n\t\t\t\t\t\t\t\t\t\t\towner_id: save.response.graffiti.owner_id,\n\t\t\t\t\t\t\t\t\t\t\turl: save.response.graffiti.url\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\t\t\t\tconsole.log('error uploading...');\n\t\t\t\t\t\t\t\t\t\ti--;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tawait this.sleep(1000);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t}else if(this.state.captcha.done === null){\n\t\t\t\t\ti--;\n\t\t\t\t}\n\t\t\t}\n\t\t\tconsole.log(sticker_pack);\n\t\t\tlet to_id = this.state.moderation_sticker_info.hasOwnProperty('stickers_id') ? this.state.moderation_sticker_info.stickers_id : null;\n\t\t\tlet params = { sticker_pack: JSON.stringify(sticker_pack), stickers_history_id: this.state.moderation_sticker_info.i };\n\t\t\tif(to_id !== null){\n\t\t\t\tparams.to_id = to_id;\n\t\t\t}else{\n\t\t\t\tparams.sales = 0;\n\t\t\t}\n\t\t\tawait this.get('moderation.approveStickers', params);\n\t\t\tawait this.updateModeration();\n\t\t}catch (e) {\n\t\t\tconsole.log(e);\n\t\t\tthis.showSnackBar('Произошла ошибка при получении данных', <Icon16Cancel fill=\"#fff\" width={14} height={14} />, redBackground);\n\t\t}\n\t\tthis.setState({ popout: null });\n\t\tthis.back();\n\t}\n\tasync rejectStickers(){\n\t\tthis.setState({ popout: <ScreenSpinner/> });\n\t\tlet author_id = this.state.moderation_sticker_info.user_id;\n\t\tlet stickers_history_id = this.state.moderation_sticker_info.i;\n\n\t\tawait this.get('moderation.rejectStickers', { author_id, stickers_history_id });\n\n\t\tawait this.updateModeration();\n\t\tthis.setState({ popout: null });\n\t\tthis.back();\n\t}\n\tasync install(stickers_id) {\n\t\tthis.showSnackBar('Идёт установка стикеров, пожалуйста не выходите из приложения - иначе они могут установиться не правильно', <Icon16Spinner fill=\"#fff\" width={14} height={14} />, blueBackground);\n\t\tthis.setState({ popout: <ScreenSpinner/> });\n\t\ttry{\n\t\t\taccess_token = await bridge.sendPromise(\"VKWebAppGetAuthToken\", {\"app_id\": 7363654, \"scope\": \"docs\"});\n\t\t\taccess_token = access_token.access_token;\n\t\t\tlet stickers = await this.get('stickers.get');\n\t\t\tstickers = stickers.stickers[stickers_id];\n\t\t\tlet data = stickers.data;\n\t\t\tif(this.state.user.hasOwnProperty('stickers_cache')){\n\t\t\t\tif(this.state.user.stickers_cache.hasOwnProperty(stickers_id+'')){\n\t\t\t\t\tfor(var i = 0; i < this.state.user.stickers_cache[stickers_id].length; i++){\n\t\t\t\t\t\tif(this.state.captcha.done === false && this.state.activePanelShop === 'sticker_info'){\n\t\t\t\t\t\t\ttry{\n\t\t\t\t\t\t\t\tlet remove = await bridge.sendPromise(\"VKWebAppCallAPIMethod\", {\n\t\t\t\t\t\t\t\t\t\"method\": \"docs.delete\",\n\t\t\t\t\t\t\t\t\t\"request_id\": \"del_doc\",\n\t\t\t\t\t\t\t\t\t\"params\": {\"owner_id\": this.state.user.id, \"doc_id\": this.state.user.stickers_cache[stickers_id][i], \"v\": \"5.103\", \"access_token\": access_token}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}catch (e) {\n\t\t\t\t\t\t\t\tconsole.log('error del...');\n\t\t\t\t\t\t\t\ti--;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}else if(this.state.captcha.done === null){\n\t\t\t\t\t\t\ti--;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tawait this.sleep(500);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor(var i = 0; i < data.length; i++){\n\t\t\t\tif(this.state.captcha.done === false && this.state.activePanelShop === 'sticker_info'){\n\t\t\t\t\ttry{\n\t\t\t\t\t\tlet obj = data[i];\n\t\t\t\t\t\tlet add = await bridge.sendPromise(\"VKWebAppCallAPIMethod\", {\n\t\t\t\t\t\t\t\"method\": \"docs.add\",\n\t\t\t\t\t\t\t\"request_id\": \"add_doc\",\n\t\t\t\t\t\t\t\"params\": {\"owner_id\": obj.owner_id, \"doc_id\": obj.doc_id, \"access_key\": obj.access_key, \"v\": \"5.103\", \"access_token\": access_token}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tlet added = await this.get('stickers.add', { stickers_id: stickers_id, i: i, doc_id: add.response });\n\t\t\t\t\t\tif(added.access === false){\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}catch (e) {\n\t\t\t\t\t\tconsole.log('error add...');\n\t\t\t\t\t\ti--;\n\t\t\t\t\t}\n\t\t\t\t}else if(this.state.captcha.done === null){\n\t\t\t\t\ti--;\n\t\t\t\t}\n\t\t\t\tawait this.sleep(500);\n\t\t\t}\n\t\t\tthis.showSnackBar('Стикеры установлены', <Icon16Done fill=\"#fff\" width={14} height={14} />, blueBackground);\n\t\t}catch (e) {\n\t\t\tthis.showSnackBar('Произошла ошибка при получении данных', <Icon16Cancel fill=\"#fff\" width={14} height={14} />, redBackground);\n\t\t}\n\t\tthis.updateStickersInfo();\n\t\tthis.setState({ popout: null });\n\t}\n\tasync delete (stickers_id) {\n\t\tthis.showSnackBar('Идёт очистка стикеров, пожалуйста не выходите из приложения - иначе они могут очиститься не правильно', <Icon16Spinner fill=\"#fff\" width={14} height={14} />, blueBackground);\n\t\tthis.setState({ popout: <ScreenSpinner/> });\n\t\ttry{\n\t\t\taccess_token = await bridge.sendPromise(\"VKWebAppGetAuthToken\", {\"app_id\": 7363654, \"scope\": \"docs\"});\n\t\t\taccess_token = access_token.access_token;\n\t\t\tif(this.state.user.hasOwnProperty('stickers_cache')) {\n\t\t\t\tif (this.state.user.stickers_cache.hasOwnProperty(stickers_id + '')) {\n\t\t\t\t\tfor(var i = 0; i < this.state.user.stickers_cache[stickers_id].length; i++){\n\t\t\t\t\t\tif(this.state.captcha.done === false && this.state.activePanelShop === 'sticker_info'){\n\t\t\t\t\t\t\ttry{\n\t\t\t\t\t\t\t\tlet remove = await bridge.sendPromise(\"VKWebAppCallAPIMethod\", {\n\t\t\t\t\t\t\t\t\t\"method\": \"docs.delete\",\n\t\t\t\t\t\t\t\t\t\"request_id\": \"del_doc\",\n\t\t\t\t\t\t\t\t\t\"params\": {\"owner_id\": this.state.user.id, \"doc_id\": this.state.user.stickers_cache[stickers_id][i], \"v\": \"5.103\", \"access_token\": access_token}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}catch (e) {\n\t\t\t\t\t\t\t\tconsole.log('error delete...');\n\t\t\t\t\t\t\t\ti--;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}else if(this.state.captcha.done === null){\n\t\t\t\t\t\t\ti--;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tawait this.sleep(500);\n\t\t\t\t\t}\n\t\t\t\t\tawait this.get('stickers.delete', { stickers_id: stickers_id });\n\t\t\t\t\tthis.showSnackBar('Стикеры очищены', <Icon16Done fill=\"#fff\" width={14} height={14} />, blueBackground);\n\t\t\t\t}\n\t\t\t}\n\t\t}catch (e) {\n\t\t\tthis.showSnackBar('Произошла ошибка при получении данных', <Icon16Cancel fill=\"#fff\" width={14} height={14} />, redBackground);\n\t\t}\n\t\tthis.updateStickersInfo();\n\t\tthis.setState({ popout: null });\n\t}\n\tasync create_stickers () {\n\t\tthis.setState({ popout: <ScreenSpinner/> });\n\t\tlet { title, description, price, upload_preview_img, uploaded_stickers_img } = this.state.create_panel;\n\t\tlet author = this.state.user.first_name + ' ' + this.state.user.last_name;\n\t\tlet preview = '';\n\t\tlet stickers = [];\n\t\tlet uploaded = 0;\n\t\tawait request({\n\t\t\turl: 'https://murmuring-bastion-20764.herokuapp.com/https://api.imgbb.com/1/upload?key=b2bfb837d63c6adae4d191841abb04dc',\n\t\t\tmethod: 'POST',\n\t\t\tform: {\n\t\t\t\timage: upload_preview_img.replace('data:image/png;base64,','')\n\t\t\t}\n\t\t}, (error, response, body)=>{\n\t\t\tif(response.statusCode === 200){\n\t\t\t\tbody = JSON.parse(body);\n\t\t\t\tlet url = body.data.url;\n\t\t\t\tpreview = url;\n\t\t\t\tuploaded++;\n\t\t\t}else{\n\t\t\t\tconsole.log('error', body);\n\t\t\t}\n\t\t});\n\n\t\tfor(let sticker of uploaded_stickers_img){\n\t\t\tif(sticker !== undefined) {\n\t\t\t\tawait request({\n\t\t\t\t\turl: 'https://murmuring-bastion-20764.herokuapp.com/https://api.imgbb.com/1/upload?key=b2bfb837d63c6adae4d191841abb04dc',\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\tform: {\n\t\t\t\t\t\timage: sticker.props.src.replace('data:image/png;base64,', '')\n\t\t\t\t\t}\n\t\t\t\t}, (error, response, body) => {\n\t\t\t\t\tif (response.statusCode === 200) {\n\t\t\t\t\t\tbody = JSON.parse(body);\n\t\t\t\t\t\tlet url = body.data.url;\n\t\t\t\t\t\tstickers.push(url);\n\t\t\t\t\t\tuploaded++;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.log('error', body);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tawait this.sleep(500);\n\t\t\t}\n\t\t}\n\n\t\tfor(let i = 0; i < 2; i++ ){\n\t\t\tif(uploaded === (uploaded_stickers_img.length+1)){\n\t\t\t\tbreak;\n\t\t\t}else{\n\t\t\t\ti--;\n\t\t\t\tawait this.sleep(500);\n\t\t\t}\n\t\t}\n\n\t\tlet resp = await this.get('stickers.create', { title, description, price, preview, stickers, author, stickers_id: this.state.create_panel.hasOwnProperty('stickers_id') ? parseInt(this.state.create_panel.stickers_id) : null });\n\t\tif(resp.status === 'ok'){\n\t\t\tthis.setState({ create_panel: { title: \"\", preview: \"\", price: 1, description: \"\", stickers: [] } });\n\t\t\tawait this.updateUser();\n\t\t\tthis.go('stickers_history');\n\t\t}\n\t\tthis.setState({ popout: null });\n\t}\n\tgo_to_edit () {\n\t\tlet create_panel = this.state.create_panel;\n\t\tlet stickers_ = this.state.sticker_info.stickers;\n\t\tlet stickers = [];\n\t\tcreate_panel.stickers_id = this.state.sticker_info.id;\n\t\tcreate_panel.title = this.state.sticker_info.title;\n\t\tcreate_panel.description = this.state.sticker_info.description;\n\t\tcreate_panel.price = this.state.sticker_info.price;\n\t\tcreate_panel.upload_preview_img = this.state.sticker_info.preview;\n\t\tfor (let i = 0; i < stickers_.length; i++) {\n\t\t\tlet sticker = stickers_[i];\n\t\t\tstickers.push(\n\t\t\t\t<StickerImg\n\t\t\t\t\tmode={'small'}\n\t\t\t\t\tid={'uploaded_sticker_' + i}\n\t\t\t\t\tsrc={sticker.props.src}\n\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\tlet id = parseInt(e.currentTarget.id.split('_')[2]);\n\t\t\t\t\t\tlet create_panel_ = this.state.create_panel;\n\t\t\t\t\t\tdelete create_panel_.uploaded_stickers_img[id];\n\t\t\t\t\t\tthis.setState({create_panel: create_panel_});\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t\tcreate_panel.uploaded_stickers_img = stickers;\n\t\tthis.setState({ create_panel: create_panel, activeStory: 'tab_other' });\n\t\tsetTimeout(()=>{\n\t\t\tthis.go('create');\n\t\t},150);\n\t}\n\tasync report_stickers (stickers_id, report_reason) {\n\t\tthis.setState({ popout: <ScreenSpinner/> });\n\t\tif(typeof report_reason === 'number'){\n\t\t\tawait this.get('report.send', {stickers_id, report_reason_id: report_reason});\n\t\t}else{\n\t\t\tawait this.get('report.send', {stickers_id, report_reason_text: report_reason});\n\t\t}\n\t\tthis.setState({ popout: null });\n\t\tthis.back();\n\t\tthis.showSnackBar('Жалоба отправлена, спасибо!', <Icon16Done fill=\"#fff\" width={14} height={14} />, blueBackground);\n\t}\n\tasync withdraw () {\n\t\tthis.setState({ popout: <ScreenSpinner/> });\n\t\tlet resp = await this.get('users.withdraw');\n\t\tthis.setState({ popout: null });\n\t\tif(resp.access === false){\n\t\t\tthis.showSnackBar(resp.error_text, <Icon16Cancel fill=\"#fff\" width={14} height={14} />, redBackground);\n\t\t}else{\n\t\t\tthis.showSnackBar('Запрос на вывод средств отправлен, ожидайте', <Icon16Done fill=\"#fff\" width={14} height={14} />, blueBackground);\n\t\t}\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<Epic activeStory={this.state.activeStory} tabbar={\n\t\t\t\t<Tabbar>\n\t\t\t\t\t<TabbarItem\n\t\t\t\t\t\tonClick={this.onStoryChange}\n\t\t\t\t\t\tselected={this.state.activeStory === 'tab_main'}\n\t\t\t\t\t\tdata-story=\"tab_main\"\n\t\t\t\t\t><Icon28MarketOutline/></TabbarItem>\n\t\t\t\t\t<TabbarItem\n\t\t\t\t\t\tonClick={this.onStoryChange}\n\t\t\t\t\t\tselected={this.state.activeStory === 'tab_other'}\n\t\t\t\t\t\tdata-story=\"tab_other\"\n\t\t\t\t\t><Icon28UserOutline /></TabbarItem>\n\t\t\t\t</Tabbar>\n\t\t\t}>\n\t\t\t\t<View id=\"tab_main\" activePanel={this.state.activePanelShop} popout={this.state.popout} history={this.state.historyShop} onSwipeBack={this.back} header={false}>\n\t\t\t\t\t<Panel id=\"main\" separator={false}>\n\t\t\t\t\t\t<PanelHeaderSimple\n\t\t\t\t\t\t\tseparator={false}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tСтикеры\n\t\t\t\t\t\t</PanelHeaderSimple>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.state.stickers_panel_new.length > 0 &&\n\t\t\t\t\t\t\t<Tabs>\n\t\t\t\t\t\t\t\t<TabsItem\n\t\t\t\t\t\t\t\t\tonClick={() => this.setState({ slideTabIndex_main: 0 })}\n\t\t\t\t\t\t\t\t\tselected={this.state.slideTabIndex_main === 0}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tНовинки\n\t\t\t\t\t\t\t\t</TabsItem>\n\t\t\t\t\t\t\t\t<TabsItem\n\t\t\t\t\t\t\t\t\tonClick={() => this.setState({ slideTabIndex_main: 1 })}\n\t\t\t\t\t\t\t\t\tselected={this.state.slideTabIndex_main === 1}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tПопулярные\n\t\t\t\t\t\t\t\t</TabsItem>\n\t\t\t\t\t\t\t</Tabs>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t<Separator />\n\t\t\t\t\t\t<PullToRefresh onRefresh={async () => {\n\t\t\t\t\t\t\tthis.setState({ refreshedStickers: true });\n\t\t\t\t\t\t\tawait this.updateStickers();\n\t\t\t\t\t\t\tawait this.updateQuestions();\n\t\t\t\t\t\t\tthis.setState({ refreshedStickers: false });\n\t\t\t\t\t\t}} isFetching={this.state.refreshedStickers}>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tthis.state.stickers_panel_new.length > 0 ?\n\t\t\t\t\t\t\t\t<Gallery\n\t\t\t\t\t\t\t\t\tslideWidth=\"100%\"\n\t\t\t\t\t\t\t\t\tstyle={{ height: \"100%\", margin: \"8px\" }}\n\t\t\t\t\t\t\t\t\tslideIndex={this.state.slideTabIndex_main}\n\t\t\t\t\t\t\t\t\tonChange={(slideIndex) => { this.setState({slideTabIndex_main: slideIndex}); }}>\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<List style={{ marginTop: \"15px\" }}>\n\t\t\t\t\t\t\t\t\t\t\t{this.state.stickers_panel_new}\n\t\t\t\t\t\t\t\t\t\t</List>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<List style={{ marginTop: \"15px\" }}>\n\t\t\t\t\t\t\t\t\t\t\t{this.state.stickers_panel_popular}\n\t\t\t\t\t\t\t\t\t\t</List>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</Gallery>\n\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t<Placeholder\n\t\t\t\t\t\t\t\t\t\ticon={<Icon56GalleryOutline/>}\n\t\t\t\t\t\t\t\t\t\tstretched\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tСтикеров пока что нет\n\t\t\t\t\t\t\t\t\t</Placeholder>\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t{this.state.snackbar && this.state.snackbar}\n\t\t\t\t\t\t</PullToRefresh>\n\t\t\t\t\t</Panel>\n\t\t\t\t\t<Panel id=\"sticker_info\">\n\t\t\t\t\t\t<PanelHeaderSimple\n\t\t\t\t\t\t\tleft={<PanelHeaderBack onClick={()=>{ this.back(); }} />}\n\t\t\t\t\t\t><PanelHeaderContent>\n\t\t\t\t\t\t\tИнформация\n\t\t\t\t\t\t</PanelHeaderContent></PanelHeaderSimple>\n\t\t\t\t\t\t<PullToRefresh onRefresh={async () => {\n\t\t\t\t\t\t\tthis.setState({ refreshedStickersInfo: true });\n\t\t\t\t\t\t\tawait this.updateStickersInfo();\n\t\t\t\t\t\t\tawait this.updateQuestions();\n\t\t\t\t\t\t\tthis.setState({ refreshedStickersInfo: false });\n\t\t\t\t\t\t}} isFetching={this.state.refreshedStickersInfo}>\n\t\t\t\t\t\t\t<Div>\n\t\t\t\t\t\t\t\t<StickerButton\n\t\t\t\t\t\t\t\t\ttitle={this.state.sticker_info.title}\n\t\t\t\t\t\t\t\t\tdescription={this.state.sticker_info.author+'\\nПродано: '+(this.state.sticker_info.sales === 0 ? 0 : this.state.sticker_info.sales.length)}\n\t\t\t\t\t\t\t\t\tsrc={this.state.sticker_info.preview}\n\t\t\t\t\t\t\t\t\tmode={\"cell\"}\n\t\t\t\t\t\t\t\t\tmore={\n\t\t\t\t\t\t\t\t\t\tthis.state.sticker_info.author_id + '' === this.state.user.id + '' ?\n\t\t\t\t\t\t\t\t\t\t\t<Icon28WriteOutline onClick={()=>{ this.go_to_edit(); } } fill={'#ffa000'}/> :\n\t\t\t\t\t\t\t\t\t\t\t<Icon28ReportOutline onClick={async ()=>{ await this.updateReportReasons(); this.go('stickers_report'); } } fill={'#eb4250'}/>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<div style={{ marginLeft: '8px', marginRight: '8px' }}>\n\t\t\t\t\t\t\t\t\t<StickerDescription>{this.state.sticker_info.description}</StickerDescription>\n\t\t\t\t\t\t\t\t\t<div style={{ marginTop: '10px'}}>\n\t\t\t\t\t\t\t\t\t\t{this.state.user.stickers.indexOf(this.state.sticker_info.id)>=0 ?\n\t\t\t\t\t\t\t\t\t\t\t<div style={{ display: 'flex' }}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Button onClick={()=>{ this.install(this.state.sticker_info.id); }} size={\"xl\"} stretched>{'Установить'}</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t{this.state.user.hasOwnProperty('stickers_cache') ? this.state.user.stickers_cache.hasOwnProperty(this.state.sticker_info.id) ?\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button style={{ marginLeft: '8px' }} mode={\"secondary\"} onClick={()=>{ this.delete(this.state.sticker_info.id); }} size={\"xl\"} stretched>{'Очистить'}</Button> : null : null}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t\t\t<div style={{ display: 'flex' }}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Button size={\"xl\"} stretched mode=\"commerce\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={async ()=>{\n\t\t\t\t\t\t\t\t\t\t\t\t\tif(this.state.user.balance >= this.state.sticker_info.price){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setState({ popout: <ScreenSpinner/> });\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tawait this.get('stickers.buy', { stickers_id: this.state.sticker_info.id });\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tawait this.updateStickersInfo();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setState({ popout: null });\n\t\t\t\t\t\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.showSnackBar('На вашем балансе недостаточно средств', <Icon16Cancel fill=\"#fff\" width={14} height={14} />, redBackground);\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t>{'Получить за '+this.state.sticker_info.price+' руб.'}</Button>\n\t\t\t\t\t\t\t\t\t\t\t</div>}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"centered\" style={{ marginTop: \"18px\" }}>\n\t\t\t\t\t\t\t\t\t<StickerGrid mode={\"small\"}>\n\t\t\t\t\t\t\t\t\t\t{this.state.sticker_info.stickers}\n\t\t\t\t\t\t\t\t\t</StickerGrid>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</Div>\n\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tthis.state.questions_panel &&\n\t\t\t\t\t\t\t\t<Div>\n\t\t\t\t\t\t\t\t\t<div className=\"centered\">\n\t\t\t\t\t\t\t\t\t\t<h4>Ответы на вопросы</h4>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"centered\">\n\t\t\t\t\t\t\t\t\t\t<CardElements>\n\t\t\t\t\t\t\t\t\t\t\t{this.state.questions_panel}\n\t\t\t\t\t\t\t\t\t\t</CardElements>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</Div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t{this.state.snackbar && this.state.snackbar}\n\t\t\t\t\t\t</PullToRefresh>\n\t\t\t\t\t</Panel>\n\t\t\t\t\t<Panel id=\"input_captcha\">\n\t\t\t\t\t\t<PanelHeaderSimple><PanelHeaderContent>\n\t\t\t\t\t\t\tВвод капчи\n\t\t\t\t\t\t</PanelHeaderContent></PanelHeaderSimple>\n\t\t\t\t\t\t<FormLayout>\n\t\t\t\t\t\t\t<div className=\"centered\">\n\t\t\t\t\t\t\t\t<img width={'60%'} src={this.state.captcha.url}/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\talign={'center'}\n\t\t\t\t\t\t\t\tvalue={this.state.captcha.text}\n\t\t\t\t\t\t\t\tonChange={(e)=> { let c = this.state.captcha; c.text = e.currentTarget.value; this.setState({ captcha: c }); }}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Button size=\"xl\" onClick={()=> { let c = this.state.captcha; c.done = true; this.setState({ captcha: c });  }}>Отправить</Button>\n\t\t\t\t\t\t</FormLayout>\n\t\t\t\t\t</Panel>\n\t\t\t\t\t<Panel id=\"stickers_report\">\n\t\t\t\t\t\t<PanelHeaderSimple left={<PanelHeaderClose onClick={()=>{ this.back(); }} />}><PanelHeaderContent>\n\t\t\t\t\t\t\tЖалоба\n\t\t\t\t\t\t</PanelHeaderContent></PanelHeaderSimple>\n\t\t\t\t\t\t<Group header={<Header mode=\"secondary\">Причина жалобы</Header>}>\n\t\t\t\t\t\t\t{this.state.report_reasons_panel && this.state.report_reasons_panel}\n\t\t\t\t\t\t\t<CellButton onClick={()=>{ this.setState({ report_other_visible: !this.state.report_other_visible }); }}>Другое</CellButton>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tthis.state.report_other_visible &&\n\t\t\t\t\t\t\t\t\t<FormLayout>\n\t\t\t\t\t\t\t\t\t\t<Textarea value={this.state.report_reason_text} onChange={(e)=>{ this.setState({ report_reason_text: e.currentTarget.value }); }} top=\"Опишите подробнее\" />\n\t\t\t\t\t\t\t\t\t\t<Button onClick={()=>{ this.report_stickers(this.state.sticker_info.id, this.state.report_reason_text); }} disabled={this.state.report_reason_text.length===0} size=\"xl\">Отправить</Button>\n\t\t\t\t\t\t\t\t\t</FormLayout>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</Group>\n\t\t\t\t\t</Panel>\n\t\t\t\t</View>\n\t\t\t\t<View id=\"tab_other\" activePanel={this.state.activePanelOther} popout={this.state.popout} history={this.state.historyOther} onSwipeBack={this.back} header={false}>\n\t\t\t\t\t<Panel id=\"profile\">\n\t\t\t\t\t\t<PanelHeaderSimple><PanelHeaderContent>\n\t\t\t\t\t\t\tПрофиль\n\t\t\t\t\t\t</PanelHeaderContent></PanelHeaderSimple>\n\t\t\t\t\t\t<PullToRefresh onRefresh={async () => {\n\t\t\t\t\t\t\tthis.setState({ refreshedProfile: true });\n\t\t\t\t\t\t\tawait this.updateUser();\n\t\t\t\t\t\t\tthis.setState({ refreshedProfile: false });\n\t\t\t\t\t\t}} isFetching={this.state.refreshedProfile}>\n\t\t\t\t\t\t\t<Div>\n\t\t\t\t\t\t\t\t<div className=\"centered\">\n\t\t\t\t\t\t\t\t\t<Avatar src={this.state.user.photo_100} size={100}/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t<div className=\"centered\" style={{ fontSize: \"large\"}}>\n\t\t\t\t\t\t\t\t\t{this.state.user.first_name+' '+this.state.user.last_name}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t<Group separator=\"hide\">\n\t\t\t\t\t\t\t\t\t<Cell asideContent={<Icon16Dropdown style={{ transform: `rotate(${this.state.balance_manipulation ? '180deg' : '0'})` }} />} onClick={()=> { this.setState({ balance_manipulation: !this.state.balance_manipulation }); }} indicator={this.state.user.balance+' ₽'}>Ваш баланс</Cell>\n\t\t\t\t\t\t\t\t\t{this.state.balance_manipulation && <div style={{ display: 'flex', justifyContent: 'flex-end', marginTop: '8px' }}>\n\t\t\t\t\t\t\t\t\t\t<Button size=\"l\" onClick={async ()=>{\n\t\t\t\t\t\t\t\t\t\t\tthis.setState({ popout: <ScreenSpinner/> });\n\t\t\t\t\t\t\t\t\t\t\ttry{\n\t\t\t\t\t\t\t\t\t\t\t\tawait bridge.sendPromise(\"VKWebAppOpenPayForm\", {\"app_id\": 7363654, \"action\": \"transfer-to-group\", \"params\": { group_id: 193090865 }});\n\t\t\t\t\t\t\t\t\t\t\t}catch (e) {}\n\t\t\t\t\t\t\t\t\t\t\tawait this.sleep(3000);\n\t\t\t\t\t\t\t\t\t\t\tawait this.updateUser();\n\t\t\t\t\t\t\t\t\t\t\tthis.setState({ popout: null });\n\t\t\t\t\t\t\t\t\t\t}}  before={<Icon16Down/>}>Пополнить</Button>\n\t\t\t\t\t\t\t\t\t\t<Button size=\"l\" before={<Icon16Up/>} mode=\"secondary\" style={{ marginLeft: 8 }} onClick={async ()=>{ if(this.state.user.balance>0){\n\t\t\t\t\t\t\t\t\t\t\tawait this.withdraw();\n\t\t\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\t\t\tthis.showSnackBar('Ваш баланс равен нулю', <Icon16Cancel fill=\"#fff\" width={14} height={14} />, redBackground);\n\t\t\t\t\t\t\t\t\t\t} }}>Вывести</Button>\n\t\t\t\t\t\t\t\t\t</div>}\n\t\t\t\t\t\t\t\t</Group>\n\t\t\t\t\t\t\t\t<Group separator=\"hide\" header={<Header mode=\"primary\">Ваши стикеры</Header>}>\n\t\t\t\t\t\t\t\t\t<div className=\"centered\" style={{ marginTop: \"18px\" }}>\n\t\t\t\t\t\t\t\t\t\t<StickerGrid mode={\"big\"}>\n\t\t\t\t\t\t\t\t\t\t\t{this.state.user_stickers}\n\t\t\t\t\t\t\t\t\t\t\t<StickerImg mode={'big'} onClick={()=> { this.go(\"create\"); }}>\n\t\t\t\t\t\t\t\t\t\t\t\t+\n\t\t\t\t\t\t\t\t\t\t\t</StickerImg>\n\t\t\t\t\t\t\t\t\t\t</StickerGrid>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</Group>\n\t\t\t\t\t\t\t</Div>\n\t\t\t\t\t\t\t{this.state.snackbar && this.state.snackbar}\n\t\t\t\t\t\t</PullToRefresh>\n\t\t\t\t\t</Panel>\n\t\t\t\t\t<Panel id=\"create\">\n\t\t\t\t\t\t<PanelHeaderSimple\n\t\t\t\t\t\t\tleft={<PanelHeaderBack onClick={()=>{ this.back(); }} />}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<PanelHeaderContent\n\t\t\t\t\t\t\t\taside={<Icon16Dropdown style={{ transform: `rotate(${this.state.createStickerContextOpened ? '180deg' : '0'})` }} />}\n\t\t\t\t\t\t\t\tonClick={ () => { this.toggleCreateStickerContext(); }}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tДобавить стикеры\n\t\t\t\t\t\t\t</PanelHeaderContent>\n\t\t\t\t\t\t</PanelHeaderSimple>\n\t\t\t\t\t\t<PanelHeaderContext opened={this.state.createStickerContextOpened} onClose={ () => { this.toggleCreateStickerContext(); }}>\n\t\t\t\t\t\t\t<List>\n\t\t\t\t\t\t\t\t<Cell\n\t\t\t\t\t\t\t\t\tbefore={<Icon28HistoryForwardOutline/>}\n\t\t\t\t\t\t\t\t\tonClick={ () => { this.toggleCreateStickerContext(); this.updateUser(); this.go(\"stickers_history\"); }}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tИстория\n\t\t\t\t\t\t\t\t</Cell>\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tthis.state.user.is_admin &&\n\t\t\t\t\t\t\t\t\t<Cell\n\t\t\t\t\t\t\t\t\t\tbefore={<Icon28BugOutline/>}\n\t\t\t\t\t\t\t\t\t\tonClick={ async () => {\n\t\t\t\t\t\t\t\t\t\t\tawait this.updateModeration();\n\t\t\t\t\t\t\t\t\t\t\tthis.toggleCreateStickerContext();\n\t\t\t\t\t\t\t\t\t\t\tthis.go(\"moderation\")\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tМодерация\n\t\t\t\t\t\t\t\t\t</Cell>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</List>\n\t\t\t\t\t\t</PanelHeaderContext>\n\t\t\t\t\t\t<FormLayout>\n\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\ttop=\"Название стикер-пака\"\n\t\t\t\t\t\t\t\tname=\"title\"\n\t\t\t\t\t\t\t\tvalue={this.state.create_panel.title}\n\t\t\t\t\t\t\t\tonChange={this.onChange}\n\t\t\t\t\t\t\t\tstatus={this.state.create_panel.title ? this.state.create_panel.title.length <= 20 ? 'valid' : 'error' : 'error'}\n\t\t\t\t\t\t\t\tbottom={this.state.create_panel.title ? this.state.create_panel.title.length <= 20 ? '' : 'Максимальная длина - 20' : 'Пожалуйста, введите название'}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Textarea\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\ttop=\"Описание\"\n\t\t\t\t\t\t\t\tname=\"description\"\n\t\t\t\t\t\t\t\tvalue={this.state.create_panel.description}\n\t\t\t\t\t\t\t\tonChange={this.onChange}\n\t\t\t\t\t\t\t\tstatus={this.state.create_panel.description ? this.state.create_panel.description.length <= 100 ? 'valid' : 'error' : 'error'}\n\t\t\t\t\t\t\t\tbottom={this.state.create_panel.description ? this.state.create_panel.description.length <= 100 ? '' : 'Максимальная длина - 100' : 'Пожалуйста, введите описание'}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\ttop=\"Цена\"\n\t\t\t\t\t\t\t\tname=\"price\"\n\t\t\t\t\t\t\t\tvalue={this.state.create_panel.price}\n\t\t\t\t\t\t\t\tonChange={this.onChange}\n\t\t\t\t\t\t\t\tstatus={this.state.create_panel.price > 0 ? this.state.create_panel.price <= 1000 ? this.state.create_panel.price.toString().includes('.') ? 'error' : 'valid' : 'error' : 'error'}\n\t\t\t\t\t\t\t\tbottom={this.state.create_panel.price > 0 ? this.state.create_panel.price <= 1000 ? this.state.create_panel.price.toString().includes('.') ? 'Число должно быть целым' : '' : 'Максимальная цена- 1 000 руб.' : 'Минимальная цена - 1 руб.'}\n\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t<StickerUploadButton\n\t\t\t\t\t\t\t\tsrc={this.state.create_panel.upload_preview_img && this.state.create_panel.upload_preview_img}\n\t\t\t\t\t\t\t\ttitle={'Превью'}\n\t\t\t\t\t\t\t\tdescription={'Загрузите главную фотографию стикер-пака в формате png (128×128px)'}\n\t\t\t\t\t\t\t\tonChange={(event)=> {this.uploadFile('upload_preview_img', event)}}\n\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t<StickerUploadButton\n\t\t\t\t\t\t\t\ttitle={'Стикеры'}\n\t\t\t\t\t\t\t\tdescription={'Загрузите все стикеры в формате png (минимум - 4, максимум - 48), которые будут содержаться в паке (128×128px)'}\n\t\t\t\t\t\t\t\tonChange={(event)=> {this.uploadFile('upload_sticker_img', event)}}\n\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t<div className=\"centered\" style={{ paddingBottom: \"16px\" }}>\n\t\t\t\t\t\t\t\t<div style={{ minWidth: \"64px\", maxWidth: \"296px\", display: \"grid\", gridTemplateColumns: \"repeat(auto-fill, 64px)\", gridGap: \"10px\" }}>\n\t\t\t\t\t\t\t\t\t{this.state.create_panel.uploaded_stickers_img}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<Button size=\"xl\" onClick={()=>{ this.create_stickers(); }} disabled={this.state.create_panel.title ? this.state.create_panel.description ? this.state.create_panel.price > 0 ? this.state.create_panel.title.length <= 20 ? this.state.create_panel.description.length <= 100 ? this.state.create_panel.price <= 1000 ? this.state.create_panel.price.toString().includes('.') ?  true : this.state.create_panel.upload_preview_img ? this.state.create_panel.uploaded_stickers_img ? this.state.create_panel.uploaded_stickers_img.filter(function(val){ return val !== undefined; }).length >= 4 ? false : true : true : true : true : true : true : true : true : true }>Продолжить</Button>\n\n\t\t\t\t\t\t\t{this.state.snackbar && this.state.snackbar}\n\t\t\t\t\t\t</FormLayout>\n\t\t\t\t\t</Panel>\n\t\t\t\t\t<Panel id={\"stickers_history\"}>\n\t\t\t\t\t\t<PanelHeaderSimple\n\t\t\t\t\t\t\tleft={<PanelHeaderBack onClick={()=>{ this.back(); }} />}\n\t\t\t\t\t\t><PanelHeaderContent>\n\t\t\t\t\t\t\tИстория\n\t\t\t\t\t\t</PanelHeaderContent></PanelHeaderSimple>\n\t\t\t\t\t\t<PullToRefresh onRefresh={async () => {\n\t\t\t\t\t\t\tthis.setState({ refreshedStickersHistory: true });\n\t\t\t\t\t\t\tawait this.updateUser();\n\t\t\t\t\t\t\tthis.setState({ refreshedStickersHistory: false });\n\t\t\t\t\t\t}} isFetching={this.state.refreshedStickersHistory}>\n\t\t\t\t\t\t\t{this.state.user_stickers_history && this.state.user_stickers_history.length > 0 ? <Div>\n\t\t\t\t\t\t\t\t<List>\n\t\t\t\t\t\t\t\t\t{this.state.user_stickers_history}\n\t\t\t\t\t\t\t\t</List>\n\t\t\t\t\t\t\t</Div>\n\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t<Placeholder\n\t\t\t\t\t\t\t\t\ticon={<Icon56HistoryOutline/>}\n\t\t\t\t\t\t\t\t\theader={'Пусто'}\n\t\t\t\t\t\t\t\t\tstretched\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tВы пока еще не создавали стикеры\n\t\t\t\t\t\t\t\t</Placeholder>}\n\t\t\t\t\t\t</PullToRefresh>\n\t\t\t\t\t</Panel>\n\t\t\t\t\t<Panel id={\"moderation\"}>\n\t\t\t\t\t\t<PanelHeaderSimple\n\t\t\t\t\t\t\tleft={<PanelHeaderBack onClick={()=>{ this.back(); }} />}\n\t\t\t\t\t\t\tseparator={false}\n\t\t\t\t\t\t><PanelHeaderContent>\n\t\t\t\t\t\t\tМодерация\n\t\t\t\t\t\t</PanelHeaderContent></PanelHeaderSimple>\n\t\t\t\t\t\t<Tabs>\n\t\t\t\t\t\t\t<TabsItem\n\t\t\t\t\t\t\t\tonClick={() => this.setState({ slideTabIndex_moderation: 0 })}\n\t\t\t\t\t\t\t\tselected={this.state.slideTabIndex_moderation === 0}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tСтикеры\n\t\t\t\t\t\t\t</TabsItem>\n\t\t\t\t\t\t\t<TabsItem\n\t\t\t\t\t\t\t\tonClick={() => this.setState({ slideTabIndex_moderation: 1 })}\n\t\t\t\t\t\t\t\tselected={this.state.slideTabIndex_moderation === 1}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tЖалобы\n\t\t\t\t\t\t\t</TabsItem>\n\t\t\t\t\t\t\t<TabsItem\n\t\t\t\t\t\t\t\tonClick={() => this.setState({ slideTabIndex_moderation: 2 })}\n\t\t\t\t\t\t\t\tselected={this.state.slideTabIndex_moderation === 2}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tВывод средств\n\t\t\t\t\t\t\t</TabsItem>\n\t\t\t\t\t\t</Tabs>\n\t\t\t\t\t\t<Separator />\n\t\t\t\t\t\t<PullToRefresh onRefresh={async () => {\n\t\t\t\t\t\t\tthis.setState({ refreshedModeration: true });\n\t\t\t\t\t\t\tawait this.updateModeration();\n\t\t\t\t\t\t\tthis.setState({ refreshedModeration: false });\n\t\t\t\t\t\t}} isFetching={this.state.refreshedModeration}>\n\t\t\t\t\t\t\t<Gallery\n\t\t\t\t\t\t\t\tslideWidth=\"100%\"\n\t\t\t\t\t\t\t\tstyle={{ height: \"100%\", margin: \"8px\" }}\n\t\t\t\t\t\t\t\tslideIndex={this.state.slideTabIndex_moderation}\n\t\t\t\t\t\t\t\tonChange={(slideIndex) => { this.setState({slideTabIndex_moderation: slideIndex}); }}>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tthis.state.stickers_panel_moderation.length > 0 ?\n\t\t\t\t\t\t\t\t\t\t\t<List style={{ marginTop: \"15px\" }}>\n\t\t\t\t\t\t\t\t\t\t\t\t{this.state.stickers_panel_moderation}\n\t\t\t\t\t\t\t\t\t\t\t</List>\n\t\t\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t\t\t<div style={{ display: \"flex\", height: \"75vh\" }}>\n\t\t\t\t\t\t\t\t\t\t\t\t<div style={{ display: \"flex\", alignItems: \"center\", justifyContent: \"center\", width: \"100%\", height: \"100%\" }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Placeholder\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon={<Icon56GalleryOutline/>}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tСтикеров пока что нет\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Placeholder>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tthis.state.report_panel_moderation.length > 0 ?\n\t\t\t\t\t\t\t\t\t\t\t<List style={{ marginTop: \"15px\" }}>\n\t\t\t\t\t\t\t\t\t\t\t\t{this.state.report_panel_moderation}\n\t\t\t\t\t\t\t\t\t\t\t</List>\n\t\t\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t\t\t<div style={{ display: \"flex\", height: \"75vh\" }}>\n\t\t\t\t\t\t\t\t\t\t\t\t<div style={{ display: \"flex\", alignItems: \"center\", justifyContent: \"center\", width: \"100%\", height: \"100%\" }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Placeholder\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon={<Icon56CheckCircleDeviceOutline/>}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tЖалоб пока что нет\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Placeholder>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tthis.state.withdraw_panel_moderation.length > 0 ?\n\t\t\t\t\t\t\t\t\t\t\t<List style={{ marginTop: \"15px\" }}>\n\t\t\t\t\t\t\t\t\t\t\t\t{this.state.withdraw_panel_moderation}\n\t\t\t\t\t\t\t\t\t\t\t</List>\n\t\t\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t\t\t<div style={{ display: \"flex\", height: \"75vh\" }}>\n\t\t\t\t\t\t\t\t\t\t\t\t<div style={{ display: \"flex\", alignItems: \"center\", justifyContent: \"center\", width: \"100%\", height: \"100%\" }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Placeholder\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon={<Icon56MoneyTransferOutline/>}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tЗапросов на вывод средств пока что нет\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Placeholder>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</Gallery>\n\t\t\t\t\t\t</PullToRefresh>\n\t\t\t\t\t\t{this.state.snackbar && this.state.snackbar}\n\t\t\t\t\t</Panel>\n\t\t\t\t\t<Panel id=\"moderation_sticker_info\">\n\t\t\t\t\t\t<PanelHeaderSimple\n\t\t\t\t\t\t\tleft={<PanelHeaderBack onClick={()=>{ this.back(); }} />}\n\t\t\t\t\t\t><PanelHeaderContent>\n\t\t\t\t\t\t\tИнформация\n\t\t\t\t\t\t</PanelHeaderContent></PanelHeaderSimple>\n\n\t\t\t\t\t\t<Div>\n\t\t\t\t\t\t\t<StickerButton\n\t\t\t\t\t\t\t\ttitle={this.state.moderation_sticker_info.title}\n\t\t\t\t\t\t\t\tdescription={this.state.moderation_sticker_info.author+'\\n'+this.state.moderation_sticker_info.price+' руб.'}\n\t\t\t\t\t\t\t\tsrc={this.state.moderation_sticker_info.preview}\n\t\t\t\t\t\t\t\tmode={\"cell\"}\n\t\t\t\t\t\t\t\tmore={\n\t\t\t\t\t\t\t\t\tthis.state.moderation_sticker_info.hasOwnProperty('stickers_id') ?\n\t\t\t\t\t\t\t\t\t\t<Icon28WriteOutline fill={'#ffa000'}/> :\n\t\t\t\t\t\t\t\t\t\t<Icon28AddCircleOutline fill={'#4bb34b'}/>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<div style={{ marginLeft: '8px', marginRight: '8px' }}>\n\t\t\t\t\t\t\t\t<StickerDescription>{this.state.moderation_sticker_info.description}</StickerDescription>\n\t\t\t\t\t\t\t\t<div style={{ marginTop: '10px'}}>\n\t\t\t\t\t\t\t\t\t<div style={{ display: 'flex' }}>\n\t\t\t\t\t\t\t\t\t\t<Button onClick={async () => {\n\t\t\t\t\t\t\t\t\t\t\tawait this.approveStickers();\n\t\t\t\t\t\t\t\t\t\t}} size={\"xl\"} stretched>{'Одобрить'}</Button>\n\t\t\t\t\t\t\t\t\t\t<Button style={{ marginLeft: '8px' }} mode={\"secondary\"} onClick={async () => {\n\t\t\t\t\t\t\t\t\t\t\tawait this.rejectStickers();\n\t\t\t\t\t\t\t\t\t\t}} size={\"xl\"} stretched>{'Отклонить'}</Button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"centered\" style={{ marginTop: \"18px\" }}>\n\t\t\t\t\t\t\t\t<StickerGrid mode={\"small\"}>\n\t\t\t\t\t\t\t\t\t{this.state.moderation_sticker_info.stickers_}\n\t\t\t\t\t\t\t\t</StickerGrid>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Div>\n\n\t\t\t\t\t\t{this.state.snackbar && this.state.snackbar}\n\t\t\t\t\t</Panel>\n\t\t\t\t</View>\n\t\t\t</Epic>\n\t\t);\n\t}\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}