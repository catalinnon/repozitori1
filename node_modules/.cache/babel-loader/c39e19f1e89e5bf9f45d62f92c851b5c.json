{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\Admin\\\\Desktop\\\\\\u041F\\u0440\\u043E\\u0435\\u043A\\u0442\\u044B\\\\NodeJS\\\\TestVKMiniApp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Admin\\\\Desktop\\\\\\u041F\\u0440\\u043E\\u0435\\u043A\\u0442\\u044B\\\\NodeJS\\\\TestVKMiniApp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\Admin\\\\Desktop\\\\\\u041F\\u0440\\u043E\\u0435\\u043A\\u0442\\u044B\\\\NodeJS\\\\TestVKMiniApp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\Admin\\\\Desktop\\\\\\u041F\\u0440\\u043E\\u0435\\u043A\\u0442\\u044B\\\\NodeJS\\\\TestVKMiniApp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"C:\\\\Users\\\\Admin\\\\Desktop\\\\\\u041F\\u0440\\u043E\\u0435\\u043A\\u0442\\u044B\\\\NodeJS\\\\TestVKMiniApp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\Admin\\\\Desktop\\\\\\u041F\\u0440\\u043E\\u0435\\u043A\\u0442\\u044B\\\\NodeJS\\\\TestVKMiniApp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React from'react';import{platform,IOS}from'@vkontakte/vkui';import Panel from'@vkontakte/vkui/dist/components/Panel/Panel';import PanelHeader from'@vkontakte/vkui/dist/components/PanelHeader/PanelHeader';import HeaderButton from'@vkontakte/vkui/dist/components/HeaderButton/HeaderButton';import Icon28ChevronBack from'@vkontakte/icons/dist/28/chevron_back';import Icon24Back from'@vkontakte/icons/dist/24/back';import Snackbar from'@vkontakte/vkui/dist/components/Snackbar/Snackbar';import CellButton from'@vkontakte/vkui/dist/components/CellButton/CellButton';import Group from'@vkontakte/vkui/dist/components/Group/Group';import Div from'@vkontakte/vkui/dist/components/Div/Div';import Avatar from'@vkontakte/vkui/dist/components/Avatar/Avatar';import View from'@vkontakte/vkui/dist/components/View/View';import Icon16Done from'@vkontakte/icons/dist/16/done';import io from'socket.io-client';var osName=platform();var blueBackground={backgroundColor:'var(--accent)'};var Server=/*#__PURE__*/function(_React$Component){_inherits(Server,_React$Component);function Server(props){var _this;_classCallCheck(this,Server);_this=_possibleConstructorReturn(this,_getPrototypeOf(Server).call(this,props));_this.state={text:'',snackbar:null};_this.openBase=_this.openBase.bind(_assertThisInitialized(_this));return _this;}_createClass(Server,[{key:\"componentDidMount\",value:function componentDidMount(){this.openBase();}},{key:\"connect\",value:function connect(){var socket=io.connect('193.124.188.159',{port:8526});socket.on('connect',function(){var _this2=this;if(this.state.snackbar)return;this.setState({snackbar:React.createElement(Snackbar,{layout:\"vertical\",onClose:function onClose(){return _this2.setState({snackbar:null});},before:React.createElement(Avatar,{size:24,style:blueBackground},React.createElement(Icon16Done,{fill:\"#fff\",width:14,height:14}))},\"Success connect\")});});socket.on('connect_error',function(){var _this3=this;if(this.state.snackbar)return;this.setState({snackbar:React.createElement(Snackbar,{layout:\"vertical\",onClose:function onClose(){return _this3.setState({snackbar:null});},before:React.createElement(Avatar,{size:24,style:blueBackground},React.createElement(Icon16Done,{fill:\"#fff\",width:14,height:14}))},\"Error connect\")});});}},{key:\"openBase\",value:function openBase(){var _this4=this;if(this.state.snackbar)return;this.setState({snackbar:React.createElement(Snackbar,{layout:\"vertical\",onClose:function onClose(){return _this4.setState({snackbar:null});},before:React.createElement(Avatar,{size:24,style:blueBackground},React.createElement(Icon16Done,{fill:\"#fff\",width:14,height:14}))},\"This is snack bar\")});}},{key:\"render\",value:function render(){var props=this.props;return React.createElement(Panel,{id:props.id},React.createElement(PanelHeader,{left:React.createElement(HeaderButton,{onClick:props.go,\"data-to\":\"home\"},osName===IOS?React.createElement(Icon28ChevronBack,null):React.createElement(Icon24Back,null))},\"Server\"),React.createElement(Group,null,React.createElement(CellButton,{onClick:this.openBase},\"Snackbar\"),React.createElement(CellButton,{onClick:this.connect},\"Try to connect\")),this.state.text&&React.createElement(Group,null,React.createElement(Div,null,this.state.text)),this.state.snackbar);}}]);return Server;}(React.Component);export default Server;","map":{"version":3,"sources":["C:/Users/Admin/Desktop/Проекты/NodeJS/TestVKMiniApp/src/panels/Server.js"],"names":["React","platform","IOS","Panel","PanelHeader","HeaderButton","Icon28ChevronBack","Icon24Back","Snackbar","CellButton","Group","Div","Avatar","View","Icon16Done","io","osName","blueBackground","backgroundColor","Server","props","state","text","snackbar","openBase","bind","socket","connect","port","on","setState","id","go","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { platform, IOS } from '@vkontakte/vkui';\r\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\r\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader';\r\nimport HeaderButton from '@vkontakte/vkui/dist/components/HeaderButton/HeaderButton';\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\n\r\n\r\nimport Snackbar from '@vkontakte/vkui/dist/components/Snackbar/Snackbar';\r\nimport CellButton from '@vkontakte/vkui/dist/components/CellButton/CellButton';\r\nimport Group from '@vkontakte/vkui/dist/components/Group/Group';\r\nimport Div from '@vkontakte/vkui/dist/components/Div/Div';\r\nimport Avatar from '@vkontakte/vkui/dist/components/Avatar/Avatar';\r\nimport View from '@vkontakte/vkui/dist/components/View/View';\r\n\r\nimport Icon16Done from '@vkontakte/icons/dist/16/done';\r\n\r\nimport io from 'socket.io-client';\r\n\r\n\r\n\r\nconst osName = platform();\r\n\r\nconst blueBackground = {\r\n  backgroundColor: 'var(--accent)'\r\n};\r\n\r\nclass Server extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      text: '',\r\n      snackbar: null\r\n    };\r\n\r\n    this.openBase = this.openBase.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.openBase()\r\n  }\r\n\r\n  connect () {\r\n    const socket = io.connect('193.124.188.159', {\r\n\t\tport: 8526\r\n\t});\r\n\tsocket.on('connect', function () { \r\n\tif (this.state.snackbar) return;\r\n\t\tthis.setState({ snackbar:\r\n\t\t  <Snackbar\r\n\t\t\tlayout=\"vertical\"\r\n\t\t\tonClose={() => this.setState({ snackbar: null })}\r\n\t\t\tbefore={<Avatar size={24} style={blueBackground}><Icon16Done fill=\"#fff\" width={14} height={14} /></Avatar>}\r\n\t\t  >\r\n\t\t\tSuccess connect\r\n\t\t  </Snackbar>\r\n\t\t});\r\n\t});\r\n\tsocket.on('connect_error', function () {\r\n    if (this.state.snackbar) return;\r\n\t\tthis.setState({ snackbar:\r\n\t\t  <Snackbar\r\n\t\t\tlayout=\"vertical\"\r\n\t\t\tonClose={() => this.setState({ snackbar: null })}\r\n\t\t\tbefore={<Avatar size={24} style={blueBackground}><Icon16Done fill=\"#fff\" width={14} height={14} /></Avatar>}\r\n\t\t  >\r\n\t\t\tError connect\r\n\t\t  </Snackbar>\r\n\t\t});\r\n\t});\r\n\t\r\n  } \r\n\r\n  openBase () {\r\n    if (this.state.snackbar) return;\r\n    this.setState({ snackbar:\r\n      <Snackbar\r\n        layout=\"vertical\"\r\n        onClose={() => this.setState({ snackbar: null })}\r\n        before={<Avatar size={24} style={blueBackground}><Icon16Done fill=\"#fff\" width={14} height={14} /></Avatar>}\r\n      >\r\n        This is snack bar\r\n      </Snackbar>\r\n    });\r\n  }\r\n\r\n  render() {\r\n\tconst props = this.props;\r\n    return (\r\n\t\t<Panel id={props.id}>\r\n\t\t\t<PanelHeader\r\n\t\t\t\tleft={<HeaderButton onClick={props.go} data-to=\"home\">\r\n\t\t\t\t\t{osName === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\r\n\t\t\t\t</HeaderButton>}\r\n\t\t\t>\r\n\t\t\t\tServer\r\n\t\t\t</PanelHeader>\r\n\t\t\t\r\n\t\t\t<Group>\r\n            <CellButton onClick={this.openBase}>Snackbar</CellButton>\r\n\t\t\t<CellButton onClick={this.connect}>Try to connect</CellButton>\r\n            </Group>\r\n\t\t\t\r\n\t\t\t{this.state.text && <Group><Div>{this.state.text}</Div></Group>}\r\n\r\n            {this.state.snackbar}\r\n\t\t</Panel>\r\n\t\r\n      \r\n    );\r\n  }\r\n}\r\n\r\nServer.propTypes = {\r\n\tid: PropTypes.string.isRequired,\r\n\tgo: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Server;"]},"metadata":{},"sourceType":"module"}